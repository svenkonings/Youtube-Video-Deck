var ze=Object.defineProperty;var ae=Object.getOwnPropertySymbols;var He=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var ue=(s,e,n)=>e in s?ze(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,V=(s,e)=>{for(var n in e||(e={}))He.call(e,n)&&ue(s,n,e[n]);if(ae)for(var n of ae(e))Oe.call(e,n)&&ue(s,n,e[n]);return s};import{S as L,i as q,s as E,c as B,e as _,a as P,b as p,d,f as b,u as G,g as F,h as Y,t as $,j as v,k as m,l as k,m as S,n as T,o as R,p as Se,q as A,r as z,v as W,w as K,T as Te,x as Ve,y as je,z as Be,A as Pe,B as ce,C as ne,D as N,E as J,F as Ge,G as Ae,H as Ne,I as Le,J as ee,K as Q,L as Fe,M as qe,N as Ye,O as Ee,P as De,Q as M,R as We}from"./vendor.bea01de3.js";const Ke=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}};Ke();const Je=s=>({}),fe=s=>({});function Qe(s){let e,n,t,l;const i=s[1].inline,o=B(i,s,s[0],fe),r=s[1].default,a=B(r,s,s[0],null);return{c(){e=_("div"),o&&o.c(),n=P(),t=_("div"),a&&a.c(),p(t,"class","absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 text-center"),p(e,"class","relative w-full h-full")},m(u,c){d(u,e,c),o&&o.m(e,null),b(e,n),b(e,t),a&&a.m(t,null),l=!0},p(u,[c]){o&&o.p&&(!l||c&1)&&G(o,i,u,u[0],l?Y(i,u[0],c,Je):F(u[0]),fe),a&&a.p&&(!l||c&1)&&G(a,r,u,u[0],l?Y(r,u[0],c,null):F(u[0]),null)},i(u){l||($(o,u),$(a,u),l=!0)},o(u){v(o,u),v(a,u),l=!1},d(u){u&&m(e),o&&o.d(u),a&&a.d(u)}}}function Ze(s,e,n){let{$$slots:t={},$$scope:l}=e;return s.$$set=i=>{"$$scope"in i&&n(0,l=i.$$scope)},[l,t]}class le extends L{constructor(e){super();q(this,e,Ze,Qe,E,{})}}function Xe(s){let e,n,t,l,i;return{c(){e=_("span"),n=P(),t=_("br"),l=P(),i=_("span"),i.textContent="Loading\u2026",p(e,"class","loader svelte-gg29y1"),p(i,"class","font-extrabold")},m(o,r){d(o,e,r),d(o,n,r),d(o,t,r),d(o,l,r),d(o,i,r)},d(o){o&&m(e),o&&m(n),o&&m(t),o&&m(l),o&&m(i)}}}function xe(s){let e,n;return e=new le({props:{$$slots:{default:[Xe]},$$scope:{ctx:s}}}),{c(){k(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,[l]){const i={};l&1&&(i.$$scope={dirty:l,ctx:t}),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}class se extends L{constructor(e){super();q(this,e,null,xe,E,{})}}function et(s){let e,n,t,l,i;const o=s[2].default,r=B(o,s,s[1],null);return{c(){e=_("button"),r&&r.c(),p(e,"class",n="bg-blue-600 text-white p-1.5 rounded-2xl hover:bg-blue-700 "+s[0])},m(a,u){d(a,e,u),r&&r.m(e,null),t=!0,l||(i=R(e,"click",s[3]),l=!0)},p(a,[u]){r&&r.p&&(!t||u&2)&&G(r,o,a,a[1],t?Y(o,a[1],u,null):F(a[1]),null),(!t||u&1&&n!==(n="bg-blue-600 text-white p-1.5 rounded-2xl hover:bg-blue-700 "+a[0]))&&p(e,"class",n)},i(a){t||($(r,a),t=!0)},o(a){v(r,a),t=!1},d(a){a&&m(e),r&&r.d(a),l=!1,i()}}}function tt(s,e,n){let{$$slots:t={},$$scope:l}=e,{class:i=""}=e;function o(r){Se.call(this,s,r)}return s.$$set=r=>{"class"in r&&n(0,i=r.class),"$$scope"in r&&n(1,l=r.$$scope)},[i,l,t,o]}class te extends L{constructor(e){super();q(this,e,tt,et,E,{class:0})}}function nt(s){let e=s[0]?"Authorize":"Sign in",n;return{c(){n=A(e)},m(t,l){d(t,n,l)},p(t,l){l&1&&e!==(e=t[0]?"Authorize":"Sign in")&&z(n,e)},d(t){t&&m(n)}}}function lt(s){let e,n,t=s[0]?"authorize this app":"sign in",l,i,o,r,a,u,c;return u=new te({props:{class:"w-full",$$slots:{default:[nt]},$$scope:{ctx:s}}}),u.$on("click",ot),{c(){e=_("p"),n=A("Please "),l=A(t),i=A(" to continue"),o=P(),r=_("br"),a=P(),k(u.$$.fragment)},m(g,f){d(g,e,f),b(e,n),b(e,l),b(e,i),d(g,o,f),d(g,r,f),d(g,a,f),S(u,g,f),c=!0},p(g,f){(!c||f&1)&&t!==(t=g[0]?"authorize this app":"sign in")&&z(l,t);const y={};f&3&&(y.$$scope={dirty:f,ctx:g}),u.$set(y)},i(g){c||($(u.$$.fragment,g),c=!0)},o(g){v(u.$$.fragment,g),c=!1},d(g){g&&m(e),g&&m(o),g&&m(r),g&&m(a),T(u,g)}}}function st(s){let e,n;return e=new le({props:{$$slots:{default:[lt]},$$scope:{ctx:s}}}),{c(){k(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,[l]){const i={};l&3&&(i.$$scope={dirty:l,ctx:t}),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ot(){return gapi.auth2.getAuthInstance().signIn()}function it(s,e,n){let{isSignedIn:t}=e;return s.$$set=l=>{"isSignedIn"in l&&n(0,t=l.isSignedIn)},[t]}class rt extends L{constructor(e){super();q(this,e,it,st,E,{isSignedIn:0})}}function at(s){let e;return{c(){e=_("a"),e.textContent="Youtube Video Deck",p(e,"class","font-extrabold"),p(e,"href","#")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function pe(s){let e,n,t,l;return e=new te({props:{class:"w-36 m-1",$$slots:{default:[ut]},$$scope:{ctx:s}}}),e.$on("click",dt),t=new te({props:{class:"w-36 m-1",$$slots:{default:[ct]},$$scope:{ctx:s}}}),t.$on("click",mt),{c(){k(e.$$.fragment),n=P(),k(t.$$.fragment)},m(i,o){S(e,i,o),d(i,n,o),S(t,i,o),l=!0},p(i,o){const r={};o&2&&(r.$$scope={dirty:o,ctx:i}),e.$set(r);const a={};o&2&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){l||($(e.$$.fragment,i),$(t.$$.fragment,i),l=!0)},o(i){v(e.$$.fragment,i),v(t.$$.fragment,i),l=!1},d(i){T(e,i),i&&m(n),T(t,i)}}}function ut(s){let e;return{c(){e=A("Sign out")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function ct(s){let e;return{c(){e=A("Revoke access")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function ft(s){let e,n,t=s[0]&&pe(s);return{c(){e=_("div"),t&&t.c(),p(e,"slot","inline"),p(e,"class","float-right p-1")},m(l,i){d(l,e,i),t&&t.m(e,null),n=!0},p(l,i){l[0]?t?(t.p(l,i),i&1&&$(t,1)):(t=pe(l),t.c(),$(t,1),t.m(e,null)):t&&(W(),v(t,1,1,()=>{t=null}),K())},i(l){n||($(t),n=!0)},o(l){v(t),n=!1},d(l){l&&m(e),t&&t.d()}}}function pt(s){let e,n,t;return n=new le({props:{$$slots:{inline:[ft],default:[at]},$$scope:{ctx:s}}}),{c(){e=_("header"),k(n.$$.fragment),p(e,"class","h-12")},m(l,i){d(l,e,i),S(n,e,null),t=!0},p(l,[i]){const o={};i&3&&(o.$$scope={dirty:i,ctx:l}),n.$set(o)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){v(n.$$.fragment,l),t=!1},d(l){l&&m(e),T(n)}}}function dt(){gapi.auth2.getAuthInstance().signOut()}function mt(){gapi.auth2.getAuthInstance().disconnect()}function ht(s,e,n){let{isSignedIn:t}=e;return s.$$set=l=>{"isSignedIn"in l&&n(0,t=l.isSignedIn)},[t]}class gt extends L{constructor(e){super();q(this,e,ht,pt,E,{isSignedIn:0})}}function _t(s){return{title:s.snippet.title,description:s.snippet.description.substring(0,313),publishedAt:s.snippet.publishedAt,thumbnailUrl:s.snippet.thumbnails.medium.url,videoId:s.snippet.resourceId.videoId}}function $t(s,e){return{channelId:s.snippet.resourceId.channelId,title:s.snippet.title,uploadsPlaylistId:e.contentDetails.relatedPlaylists.uploads,uploads:[]}}function bt(s,e){s.uploadsEtag==null&&(s.uploadsEtag=e.etag),s.nextUploadPageToken=e.nextPageToken,e.items.forEach(n=>s.uploads.push(_t(n)))}function vt(s){s.uploadsEtag=null,s.nextUploadPageToken=null,s.uploads=[]}function It(s,e){return{etag:s.etag,items:s.items.flatMap(n=>n.map(t=>{const l=e.get(t.snippet.resourceId.channelId);return $t(t,l)}))}}Te.addDefaultLocale(Ve);const de=new Te("en-US"),me=je(Pe(),Be(),"subscriptions"),H=Pe();function wt(s){let e,n,t,l,i,o,r,a=s[0].title+"",u,c,g,f,y=de.format(new Date(s[0].publishedAt))+"",h,w,I,C=s[0].description+"",O,j,X,re;return{c(){e=_("a"),n=_("div"),t=_("img"),i=P(),o=_("div"),r=_("p"),u=A(a),g=P(),f=_("p"),h=A(y),w=P(),I=_("p"),O=A(C),ce(t.src,l=s[0].thumbnailUrl)||p(t,"src",l),p(t,"alt",""),p(t,"width","320"),p(t,"height","180"),p(n,"class","inline-block w-image align-text-bottom p-1 svelte-tmjg5a"),p(r,"class","font-bold w-text truncate-line svelte-tmjg5a"),p(r,"title",c=s[0].title),p(f,"class","text-neutral-400"),p(I,"class","text-ellipsis truncate-lines svelte-tmjg5a"),p(o,"class","inline-block w-text align-top text-sm svelte-tmjg5a"),p(e,"class","block w-card bg-neutral-600 p-2 m-2 rounded-2xl svelte-tmjg5a"),p(e,"href",j="https://www.youtube.com/watch?v="+s[0].videoId)},m(D,U){d(D,e,U),b(e,n),b(n,t),b(e,i),b(e,o),b(o,r),b(r,u),b(o,g),b(o,f),b(f,h),b(o,w),b(o,I),b(I,O),X||(re=R(e,"click",ne(s[1])),X=!0)},p(D,[U]){U&1&&!ce(t.src,l=D[0].thumbnailUrl)&&p(t,"src",l),U&1&&a!==(a=D[0].title+"")&&z(u,a),U&1&&c!==(c=D[0].title)&&p(r,"title",c),U&1&&y!==(y=de.format(new Date(D[0].publishedAt))+"")&&z(h,y),U&1&&C!==(C=D[0].description+"")&&z(O,C),U&1&&j!==(j="https://www.youtube.com/watch?v="+D[0].videoId)&&p(e,"href",j)},i:N,o:N,d(D){D&&m(e),X=!1,re()}}}function yt(s,e,n){let{video:t}=e;function l(){H.set({videoId:t.videoId})}return s.$$set=i=>{"video"in i&&n(0,t=i.video)},[t,l]}class kt extends L{constructor(e){super();q(this,e,yt,wt,E,{video:0})}}const Ce="Not Modified";function St(s,e){if(e){const n=new URLSearchParams(e);return`${s}?${n}`}else return s}function Z(s,e={}){const n=St("https://www.googleapis.com"+s,e.query);return e.headers=new Headers(e.headers),e.headers.append("Authorization","Bearer "+gapi.auth.getToken().access_token),e.etag&&e.headers.append("If-None-Match",e.etag),new Request(n,e)}async function oe(s,e={}){typeof s=="string"&&(s=Z(s,e));const n=await fetch(s);if(n.status===304)throw Ce;if(!n.ok)throw n;return n}async function Re(s,e){const n=`boundary${Date.now()}`,t="/batch"+s,l=await oe(t,{method:"POST",headers:{"Content-Type":`multipart/mixed; boundary=${n}`},body:await Tt(e,n)});return Pt(l)}async function Tt(s,e){let n=[];for(const[t,l]of s){if(n.push(`--${e}`),n.push("Content-Type: application/http"),n.push(`Content-ID: ${t}`),l.bodyUsed&&n.push(`Content-Length: ${(await l.blob()).size}`),n.push(""),n.push(`${l.method} ${l.url}`),l.headers)for(const[i,o]of l.headers.entries())n.push(`${i}: ${o}`);l.bodyUsed&&(n.push(""),n.push(await l.text()))}return n.push(`--${e}--`),n.join(`\r
`)}async function Pt(s){const e=s.headers.get("Content-Type").match(/^multipart\/mixed; boundary=(.+)$/)[1],t=(await s.text()).split(new RegExp(`\r
--${e}(?:--)?\r
`,"g")).slice(1,-1),l=new Map;for(const i of t){const[o,r,a]=i.split(`\r
\r
`,3),c=he(o).get("Content-ID").match(/^response-(.+)$/)[1],[g,f]=r.split(`\r
`,2),[y,h,w]=g.split(" ",3),I=he(f),C=a.length===0?null:a,O=new Response(C,{status:parseInt(h,10),statusText:w,headers:I});l.set(c,O)}return l}function he(s){const e=new Headers;for(const n of s.split(`\r
`)){const[t,l]=n.split(": ");e.append(t,l)}return e}async function At(s){let e=await ge({etag:s});const n=e.etag,t=[e.items];for(;e.nextPageToken;)e=await ge({pageToken:e.nextPageToken}),t.push(e.items);return{etag:n,items:t}}async function ge(s={}){return(await oe(Nt(s))).json()}function Nt(s={}){return Z("/youtube/v3/subscriptions",V({method:"GET",query:V({part:"snippet",fields:"etag,items(snippet(title,resourceId/channelId)),nextPageToken",mine:"true",order:"alphabetical",maxResults:"50"},s.pageToken&&{pageToken:s.pageToken})},s.etag&&{etag:s.etag}))}async function Lt(s){const e=new Map(s.map((l,i)=>[`${i}`,qt(l)])),n=await Re("/youtube/v3",e),t=await Promise.all(Array.from(n.values()).map(l=>l.json()));return new Map(t.flatMap(l=>l.items.map(i=>[i.id,i])))}function qt(s){return Z("/youtube/v3/channels",{method:"GET",query:{part:"contentDetails",fields:"items(id,contentDetails/relatedPlaylists/uploads)",id:s.map(e=>e.snippet.resourceId.channelId).join(","),maxResults:"50"}})}async function Et(s){const e=new Map(s.items.map(t=>[t.uploadsPlaylistId,Ue(t,!0)])),n=await Re("/youtube/v3",e);await Promise.all(s.items.map(t=>Me(t,n.get(t.uploadsPlaylistId),!0)))}async function Dt(s){const e=await oe(Ue(s,!1));await Me(s,e,!1)}function Ue(s,e){return Z("/youtube/v3/playlistItems",V({method:"GET",query:V({part:"snippet",fields:"etag,items(snippet(title,description,publishedAt,thumbnails/medium/url,resourceId/videoId)),nextPageToken",playlistId:s.uploadsPlaylistId,maxResults:"50"},!e&&s.nextUploadPageToken&&{pageToken:s.nextUploadPageToken})},e&&s.uploadsEtag&&{etag:s.uploadsEtag}))}async function Me(s,e,n){if(n){if(s.uploadsEtag&&e.status===304)return;vt(s)}if(!e.ok)throw e;bt(s,await e.json())}async function Ct(s,e){const n={name:s,subscriptions:e.map(t=>({subscription:t,uploadIndex:0})),videos:[]};return await ie(n),n}async function Rt(s){return s.subscriptions.length===1?{playlistId:s.subscriptions[0].subscription.uploadsPlaylistId}:(s.videos.length<200&&await ie(s,200-s.videos.length),{customPlaylist:s.videos.slice(0,200).map(e=>e.videoId)})}async function ie(s,e=10){for(let n=0;n<e;n++){let t,l;for(const i of s.subscriptions){if(i.uploadIndex===i.subscription.uploads.length){if(!i.subscription.nextUploadPageToken)continue;await Dt(i.subscription)}const o=i.subscription.uploads[i.uploadIndex];(!t||o.publishedAt>t.publishedAt)&&(t=o,l=i)}if(!t||!l)break;s.videos.push(t),l.uploadIndex++}}function _e(s,e,n){const t=s.slice();return t[6]=e[n],t}function Ut(s){let e,n=s[0].name+"",t,l,i,o=s[0].videos.length>0&&$e(s);return{c(){e=_("span"),t=A(n),l=P(),o&&o.c(),i=Q(),p(e,"class","cursor-default")},m(r,a){d(r,e,a),b(e,t),d(r,l,a),o&&o.m(r,a),d(r,i,a)},p(r,a){a&1&&n!==(n=r[0].name+"")&&z(t,n),r[0].videos.length>0?o?o.p(r,a):(o=$e(r),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(r){r&&m(e),r&&m(l),o&&o.d(r),r&&m(i)}}}function Mt(s){let e,n=s[0].name+"",t,l,i,o,r=s[0].videos.length>0&&be(s);return{c(){e=_("a"),t=A(n),i=P(),r&&r.c(),o=Q(),p(e,"href",l="https://www.youtube.com/channel/"+s[0].subscriptions[0].subscription.channelId)},m(a,u){d(a,e,u),b(e,t),d(a,i,u),r&&r.m(a,u),d(a,o,u)},p(a,u){u&1&&n!==(n=a[0].name+"")&&z(t,n),u&1&&l!==(l="https://www.youtube.com/channel/"+a[0].subscriptions[0].subscription.channelId)&&p(e,"href",l),a[0].videos.length>0?r?r.p(a,u):(r=be(a),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(a){a&&m(e),a&&m(i),r&&r.d(a),a&&m(o)}}}function $e(s){let e,n,t;return{c(){e=_("span"),e.textContent="\u25B8",p(e,"class","float-right pl-2 pr-2 -ml-8 play-button cursor-pointer svelte-6qkaq8")},m(l,i){d(l,e,i),n||(t=R(e,"click",ne(s[1])),n=!0)},p:N,d(l){l&&m(e),n=!1,t()}}}function be(s){let e,n,t,l,i;return{c(){e=_("a"),n=A("\u25B8"),p(e,"class","float-right pl-2 pr-2 -ml-8 play-button svelte-6qkaq8"),p(e,"href",t="https://www.youtube.com/watch?v="+s[0].videos[0].videoId+"&list="+s[0].subscriptions[0].subscription.uploadsPlaylistId)},m(o,r){d(o,e,r),b(e,n),l||(i=R(e,"click",ne(s[1])),l=!0)},p(o,r){r&1&&t!==(t="https://www.youtube.com/watch?v="+o[0].videos[0].videoId+"&list="+o[0].subscriptions[0].subscription.uploadsPlaylistId)&&p(e,"href",t)},d(o){o&&m(e),l=!1,i()}}}function ve(s){let e,n;return e=new kt({props:{video:s[6]}}),{c(){k(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const i={};l&1&&(i.video=t[6]),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function zt(s){let e,n,t,l,i,o,r;function a(h,w){return h[0].subscriptions.length===1?Mt:Ut}let u=a(s),c=u(s),g=s[0].videos,f=[];for(let h=0;h<g.length;h+=1)f[h]=ve(_e(s,g,h));const y=h=>v(f[h],1,1,()=>{f[h]=null});return{c(){e=_("div"),n=_("p"),c.c(),t=P(),l=_("div");for(let h=0;h<f.length;h+=1)f[h].c();p(n,"class","text-center font-bold h-8"),p(l,"class","overflow-y-scroll overflow-x-hidden svelte-6qkaq8"),J(l,"height","calc(100% - 1.5rem)"),p(e,"class","inline-block h-full bg-neutral-800 p-1 ml-1 mr-1 rounded-2xl svelte-6qkaq8")},m(h,w){d(h,e,w),b(e,n),c.m(n,null),b(e,t),b(e,l);for(let I=0;I<f.length;I+=1)f[I].m(l,null);i=!0,o||(r=[R(l,"wheel",Ge(s[3]),{passive:!0}),R(l,"scroll",s[2])],o=!0)},p(h,[w]){if(u===(u=a(h))&&c?c.p(h,w):(c.d(1),c=u(h),c&&(c.c(),c.m(n,null))),w&1){g=h[0].videos;let I;for(I=0;I<g.length;I+=1){const C=_e(h,g,I);f[I]?(f[I].p(C,w),$(f[I],1)):(f[I]=ve(C),f[I].c(),$(f[I],1),f[I].m(l,null))}for(W(),I=g.length;I<f.length;I+=1)y(I);K()}},i(h){if(!i){for(let w=0;w<g.length;w+=1)$(f[w]);i=!0}},o(h){f=f.filter(Boolean);for(let w=0;w<f.length;w+=1)v(f[w]);i=!1},d(h){h&&m(e),c.d(),Ae(f,h),o=!1,Ne(r)}}}function Ht(s,e,n){let t;Le(s,H,u=>n(5,t=u));let{subscriptionGroup:l}=e,i=!1;async function o(){ee(H,t={loading:!0},t);const u=await Rt(l);n(0,l),ee(H,t=u,t)}async function r(u){const c=u.target;!i&&c.scrollHeight-c.scrollTop-122<=c.clientHeight&&(i=!0,await ie(l),n(0,l),i=!1)}function a(u){Se.call(this,s,u)}return s.$$set=u=>{"subscriptionGroup"in u&&n(0,l=u.subscriptionGroup)},[l,o,r,a]}class Ot extends L{constructor(e){super();q(this,e,Ht,zt,E,{subscriptionGroup:0})}}function Vt(s){let e,n,t,l;const i=s[4].default,o=B(i,s,s[3],null);return{c(){e=_("div"),o&&o.c(),p(e,"class","w-full h-full overflow-x-scroll svelte-1ekfizo")},m(r,a){d(r,e,a),o&&o.m(e,null),s[5](e),n=!0,t||(l=[R(e,"wheel",s[1],{passive:!0}),R(e,"scroll",s[2])],t=!0)},p(r,[a]){o&&o.p&&(!n||a&8)&&G(o,i,r,r[3],n?Y(i,r[3],a,null):F(r[3]),null)},i(r){n||($(o,r),n=!0)},o(r){v(o,r),n=!1},d(r){r&&m(e),o&&o.d(r),s[5](null),t=!1,Ne(l)}}}const Ie=100;function jt(s,e,n){let{$$slots:t={},$$scope:l}=e,i;const o=Fe(0,{duration:Ie});let r=!1,a;qe(o.subscribe(f=>{r&&n(0,i.scrollLeft=f,i)}));function u(f){f.deltaX||(r=!0,o.update(y=>Math.max(0,Math.min(y+f.deltaY,i.scrollWidth-i.clientWidth))))}function c(){clearTimeout(a),a=setTimeout(()=>{r=!1,o.set(i.scrollLeft,{duration:0})},Ie)}function g(f){Ye[f?"unshift":"push"](()=>{i=f,n(0,i)})}return s.$$set=f=>{"$$scope"in f&&n(3,l=f.$$scope)},[i,u,c,l,t,g]}class Bt extends L{constructor(e){super();q(this,e,jt,Vt,E,{})}}function we(s,e,n){const t=s.slice();return t[4]=e[n],t}function Gt(s){let e,n=s[7]+"",t;return{c(){e=_("p"),t=A(n),p(e,"class","text-center")},m(l,i){d(l,e,i),b(e,t)},p:N,i:N,o:N,d(l){l&&m(e)}}}function Ft(s){let e,n,t;return n=new Bt({props:{$$slots:{default:[Yt]},$$scope:{ctx:s}}}),{c(){e=_("div"),k(n.$$.fragment),p(e,"class","w-full"),J(e,"height","calc(100% - 6px)")},m(l,i){d(l,e,i),S(n,e,null),t=!0},p(l,i){const o={};i&256&&(o.$$scope={dirty:i,ctx:l}),n.$set(o)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){v(n.$$.fragment,l),t=!1},d(l){l&&m(e),T(n)}}}function ye(s){let e,n;return e=new Ot({props:{subscriptionGroup:s[4]}}),{c(){k(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:N,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Yt(s){let e,n,t=s[3],l=[];for(let o=0;o<t.length;o+=1)l[o]=ye(we(s,t,o));const i=o=>v(l[o],1,1,()=>{l[o]=null});return{c(){e=_("div");for(let o=0;o<l.length;o+=1)l[o].c();p(e,"class","w-max h-full")},m(o,r){d(o,e,r);for(let a=0;a<l.length;a+=1)l[a].m(e,null);n=!0},p(o,r){if(r&1){t=o[3];let a;for(a=0;a<t.length;a+=1){const u=we(o,t,a);l[a]?(l[a].p(u,r),$(l[a],1)):(l[a]=ye(u),l[a].c(),$(l[a],1),l[a].m(e,null))}for(W(),a=t.length;a<l.length;a+=1)i(a);K()}},i(o){if(!n){for(let r=0;r<t.length;r+=1)$(l[r]);n=!0}},o(o){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)v(l[r]);n=!1},d(o){o&&m(e),Ae(l,o)}}}function Wt(s){let e,n;return e=new se({}),{c(){k(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:N,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Kt(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:Wt,then:Ft,catch:Gt,value:3,error:7,blocks:[,,,]};return Ee(s[0](),t),{c(){e=Q(),t.block.c()},m(l,i){d(l,e,i),t.block.m(l,t.anchor=i),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(l,[i]){s=l,De(t,s,i)},i(l){n||($(t.block),n=!0)},o(l){for(let i=0;i<3;i+=1){const o=t.blocks[i];v(o)}n=!1},d(l){l&&m(e),t.block.d(l),t.token=null,t=null}}}function Jt(s,e,n){let t;Le(s,me,o=>n(1,t=o));async function l(){const o=await i();return await Et(o),ee(me,t=o,t),Promise.all(o.items.map(r=>Ct(r.title,[r])))}async function i(){const o=t;try{const r=await At(o==null?void 0:o.etag),a=await Lt(r.items);return It(r,a)}catch(r){if(o&&r===Ce)return o;throw r}}return[l]}class Qt extends L{constructor(e){super();q(this,e,Jt,Kt,E,{})}}function Zt(s){let e,n,t,l,i,o,r,a;return t=new se({}),{c(){e=_("div"),n=_("div"),k(t.$$.fragment),l=P(),i=_("div"),i.innerHTML='<div id="player"></div>',p(n,"class","w-full h-full z-20"),M(n,"invisible",!s[0]||s[1]),p(i,"class","fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-30"),M(i,"invisible",!s[0]||!s[1]),p(e,"class","fixed top-0 bottom-0 left-0 right-0 z-10 svelte-v5cnxt"),J(e,"background-color","rgba(0, 0, 0, 0.8)"),M(e,"fadeIn",s[0]),M(e,"fadeOut",!s[0])},m(u,c){d(u,e,c),b(e,n),S(t,n,null),b(e,l),b(e,i),o=!0,r||(a=R(e,"click",We(s[5])),r=!0)},p(u,[c]){c&3&&M(n,"invisible",!u[0]||u[1]),c&3&&M(i,"invisible",!u[0]||!u[1]),c&1&&M(e,"fadeIn",u[0]),c&1&&M(e,"fadeOut",!u[0])},i(u){o||($(t.$$.fragment,u),o=!0)},o(u){v(t.$$.fragment,u),o=!1},d(u){u&&m(e),T(t),r=!1,a()}}}function ke(){let s=Math.min(document.body.clientWidth,16*document.body.clientHeight/9),e=Math.min(document.body.clientHeight,9*document.body.clientWidth/16);return s>.9*document.body.clientWidth&&e>.9*document.body.clientHeight&&(s*=.9,e*=.9),[s,e]}function Xt(s,e,n){var t;(function(c){c[c.UNINITIALISED=0]="UNINITIALISED",c[c.INITIALISING=1]="INITIALISING",c[c.INITIALISED=2]="INITIALISED"})(t||(t={}));let l=!1,i=!1,o,r=t.UNINITIALISED;window.addEventListener("resize",()=>{o&&o.setSize(...ke())});function a(c){if(r===t.UNINITIALISED){n(4,r=t.INITIALISING);const[g,f]=ke(),y={width:g,height:f,playerVars:{autohide:1,autoplay:1,playsinline:1},events:{onReady:()=>n(4,r=t.INITIALISED),onStateChange:h=>{h.data===YT.PlayerState.BUFFERING||h.data===YT.PlayerState.PLAYING?n(1,i=!0):h.data===YT.PlayerState.UNSTARTED&&n(1,i=!1)}}};c.videoId?y.videoId=c.videoId:c.playlistId?(y.playerVars.listType="playlist",y.playerVars.list=c.playlistId):c.customPlaylist&&(y.playerVars.playlist=c.customPlaylist.join(",")),n(3,o=new YT.Player("player",y))}else r===t.INITIALISING?setTimeout(()=>a(c),100):r===t.INITIALISED&&(c.videoId?o.loadVideoById(c.videoId):c.playlistId?o.loadPlaylist({listType:"playlist",list:c.playlistId}):c.customPlaylist&&o.loadPlaylist(c.customPlaylist))}qe(H.subscribe(c=>{c&&(H.set(null),n(0,l=!0),c.loading||a(c))}));const u=()=>n(0,l=!1);return s.$$.update=()=>{s.$$.dirty&29&&r===t.INITIALISED&&!l&&o.stopVideo()},[l,i,t,o,r,u]}class xt extends L{constructor(e){super();q(this,e,Xt,Zt,E,{})}}function en(s){let e,n=s[5]+"",t;return{c(){e=_("p"),t=A(n),p(e,"class","text-center")},m(l,i){d(l,e,i),b(e,t)},p:N,i:N,o:N,d(l){l&&m(e)}}}function tn(s){let e,n,t,l;const i=[ln,nn],o=[];function r(a,u){return a[1]?0:1}return e=r(s),n=o[e]=i[e](s),{c(){n.c(),t=Q()},m(a,u){o[e].m(a,u),d(a,t,u),l=!0},p(a,u){let c=e;e=r(a),e===c?o[e].p(a,u):(W(),v(o[c],1,1,()=>{o[c]=null}),K(),n=o[e],n?n.p(a,u):(n=o[e]=i[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){l||($(n),l=!0)},o(a){v(n),l=!1},d(a){o[e].d(a),a&&m(t)}}}function nn(s){let e,n;return e=new rt({props:{isSignedIn:s[0]}}),{c(){k(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const i={};l&1&&(i.isSignedIn=t[0]),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ln(s){let e,n,t,l;return e=new xt({}),t=new Qt({}),{c(){k(e.$$.fragment),n=P(),k(t.$$.fragment)},m(i,o){S(e,i,o),d(i,n,o),S(t,i,o),l=!0},p:N,i(i){l||($(e.$$.fragment,i),$(t.$$.fragment,i),l=!0)},o(i){v(e.$$.fragment,i),v(t.$$.fragment,i),l=!1},d(i){T(e,i),i&&m(n),T(t,i)}}}function sn(s){let e,n;return e=new se({}),{c(){k(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:N,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function on(s){let e,n,t,l,i;n=new gt({props:{isSignedIn:s[0]}});let o={ctx:s,current:null,token:null,hasCatch:!0,pending:sn,then:tn,catch:en,value:4,error:5,blocks:[,,,]};return Ee(s[2](),o),{c(){e=_("main"),k(n.$$.fragment),t=P(),l=_("section"),o.block.c(),J(l,"height","calc(100% - 3rem)"),p(e,"class","w-screen h-screen bg-neutral-700 text-white")},m(r,a){d(r,e,a),S(n,e,null),b(e,t),b(e,l),o.block.m(l,o.anchor=null),o.mount=()=>l,o.anchor=null,i=!0},p(r,[a]){s=r;const u={};a&1&&(u.isSignedIn=s[0]),n.$set(u),De(o,s,a)},i(r){i||($(n.$$.fragment,r),$(o.block),i=!0)},o(r){v(n.$$.fragment,r);for(let a=0;a<3;a+=1){const u=o.blocks[a];v(u)}i=!1},d(r){r&&m(e),T(n),o.block.d(),o.token=null,o=null}}}const x="https://www.googleapis.com/auth/youtube.readonly https://www.googleapis.com/auth/drive.appdata";function rn(s,e,n){let t,l;function i(){return new Promise((r,a)=>{gapi.load("client:auth2",()=>o().then(()=>r()).catch(u=>a(u)))})}async function o(){await gapi.client.init({apiKey:"AIzaSyBAHcJ9fPTrCjDExl1NZkF4fZd15fICEFI",clientId:"789354109817-qrqoqtfj1k3gvs01gufrpqlv38g0bi9p.apps.googleusercontent.com",scope:x});const r=gapi.auth2.getAuthInstance();n(0,t=r.isSignedIn.get()),r.isSignedIn.listen(a=>n(0,t=a)),n(1,l=r.currentUser.get().hasGrantedScopes(x)),r.currentUser.listen(a=>n(1,l=a.hasGrantedScopes(x)))}return[t,l,i]}class an extends L{constructor(e){super();q(this,e,rn,on,E,{})}}new an({target:document.getElementById("app")});
