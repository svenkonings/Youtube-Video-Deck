var ze=Object.defineProperty;var re=Object.getOwnPropertySymbols;var He=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var ae=(s,e,n)=>e in s?ze(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,V=(s,e)=>{for(var n in e||(e={}))He.call(e,n)&&ae(s,n,e[n]);if(re)for(var n of re(e))Oe.call(e,n)&&ae(s,n,e[n]);return s};import{S as L,i as E,s as D,c as B,e as _,a as P,b as f,d as m,f as v,u as G,g as Y,h as F,t as $,j as I,k as h,l as k,m as S,n as T,o as R,p as ke,q as A,r as z,v as W,w as K,T as Se,x as Ve,y as je,z as Be,A as Te,B as ue,C as Pe,D as N,E as J,F as Ge,G as Ae,H as Ne,I as Le,J as ee,K as Q,L as Ye,M as Ee,N as Fe,O as De,P as Ce,Q as M,R as We}from"./vendor.4307d3f8.js";const Ke=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}};Ke();const Je=s=>({}),ce=s=>({});function Qe(s){let e,n,t,l;const i=s[1].inline,o=B(i,s,s[0],ce),r=s[1].default,a=B(r,s,s[0],null);return{c(){e=_("div"),o&&o.c(),n=P(),t=_("div"),a&&a.c(),f(t,"class","absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 text-center"),f(e,"class","relative w-full h-full")},m(u,c){m(u,e,c),o&&o.m(e,null),v(e,n),v(e,t),a&&a.m(t,null),l=!0},p(u,[c]){o&&o.p&&(!l||c&1)&&G(o,i,u,u[0],l?F(i,u[0],c,Je):Y(u[0]),ce),a&&a.p&&(!l||c&1)&&G(a,r,u,u[0],l?F(r,u[0],c,null):Y(u[0]),null)},i(u){l||($(o,u),$(a,u),l=!0)},o(u){I(o,u),I(a,u),l=!1},d(u){u&&h(e),o&&o.d(u),a&&a.d(u)}}}function Xe(s,e,n){let{$$slots:t={},$$scope:l}=e;return s.$$set=i=>{"$$scope"in i&&n(0,l=i.$$scope)},[l,t]}class ne extends L{constructor(e){super();E(this,e,Xe,Qe,D,{})}}function Ze(s){let e,n,t,l,i;return{c(){e=_("span"),n=P(),t=_("br"),l=P(),i=_("span"),i.textContent="Loading\u2026",f(e,"class","loader svelte-gg29y1"),f(i,"class","font-extrabold")},m(o,r){m(o,e,r),m(o,n,r),m(o,t,r),m(o,l,r),m(o,i,r)},d(o){o&&h(e),o&&h(n),o&&h(t),o&&h(l),o&&h(i)}}}function xe(s){let e,n;return e=new ne({props:{$$slots:{default:[Ze]},$$scope:{ctx:s}}}),{c(){k(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,[l]){const i={};l&1&&(i.$$scope={dirty:l,ctx:t}),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}class le extends L{constructor(e){super();E(this,e,null,xe,D,{})}}function et(s){let e,n,t,l,i;const o=s[2].default,r=B(o,s,s[1],null);return{c(){e=_("button"),r&&r.c(),f(e,"class",n="bg-blue-600 text-white p-1.5 rounded-2xl hover:bg-blue-700 "+s[0])},m(a,u){m(a,e,u),r&&r.m(e,null),t=!0,l||(i=R(e,"click",s[3]),l=!0)},p(a,[u]){r&&r.p&&(!t||u&2)&&G(r,o,a,a[1],t?F(o,a[1],u,null):Y(a[1]),null),(!t||u&1&&n!==(n="bg-blue-600 text-white p-1.5 rounded-2xl hover:bg-blue-700 "+a[0]))&&f(e,"class",n)},i(a){t||($(r,a),t=!0)},o(a){I(r,a),t=!1},d(a){a&&h(e),r&&r.d(a),l=!1,i()}}}function tt(s,e,n){let{$$slots:t={},$$scope:l}=e,{class:i=""}=e;function o(r){ke.call(this,s,r)}return s.$$set=r=>{"class"in r&&n(0,i=r.class),"$$scope"in r&&n(1,l=r.$$scope)},[i,l,t,o]}class te extends L{constructor(e){super();E(this,e,tt,et,D,{class:0})}}function nt(s){let e=s[0]?"Authorize":"Sign in",n;return{c(){n=A(e)},m(t,l){m(t,n,l)},p(t,l){l&1&&e!==(e=t[0]?"Authorize":"Sign in")&&z(n,e)},d(t){t&&h(n)}}}function lt(s){let e,n,t=s[0]?"authorize this app":"sign in",l,i,o,r,a,u,c;return u=new te({props:{class:"w-full",$$slots:{default:[nt]},$$scope:{ctx:s}}}),u.$on("click",ot),{c(){e=_("p"),n=A("Please "),l=A(t),i=A(" to continue"),o=P(),r=_("br"),a=P(),k(u.$$.fragment)},m(g,p){m(g,e,p),v(e,n),v(e,l),v(e,i),m(g,o,p),m(g,r,p),m(g,a,p),S(u,g,p),c=!0},p(g,p){(!c||p&1)&&t!==(t=g[0]?"authorize this app":"sign in")&&z(l,t);const b={};p&3&&(b.$$scope={dirty:p,ctx:g}),u.$set(b)},i(g){c||($(u.$$.fragment,g),c=!0)},o(g){I(u.$$.fragment,g),c=!1},d(g){g&&h(e),g&&h(o),g&&h(r),g&&h(a),T(u,g)}}}function st(s){let e,n;return e=new ne({props:{$$slots:{default:[lt]},$$scope:{ctx:s}}}),{c(){k(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,[l]){const i={};l&3&&(i.$$scope={dirty:l,ctx:t}),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ot(){return gapi.auth2.getAuthInstance().signIn()}function it(s,e,n){let{isSignedIn:t}=e;return s.$$set=l=>{"isSignedIn"in l&&n(0,t=l.isSignedIn)},[t]}class rt extends L{constructor(e){super();E(this,e,it,st,D,{isSignedIn:0})}}function at(s){let e;return{c(){e=_("a"),e.textContent="Youtube Video Deck",f(e,"class","font-extrabold"),f(e,"href","#")},m(n,t){m(n,e,t)},d(n){n&&h(e)}}}function fe(s){let e,n,t,l;return e=new te({props:{class:"w-36 m-1",$$slots:{default:[ut]},$$scope:{ctx:s}}}),e.$on("click",dt),t=new te({props:{class:"w-36 m-1",$$slots:{default:[ct]},$$scope:{ctx:s}}}),t.$on("click",mt),{c(){k(e.$$.fragment),n=P(),k(t.$$.fragment)},m(i,o){S(e,i,o),m(i,n,o),S(t,i,o),l=!0},p(i,o){const r={};o&2&&(r.$$scope={dirty:o,ctx:i}),e.$set(r);const a={};o&2&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){l||($(e.$$.fragment,i),$(t.$$.fragment,i),l=!0)},o(i){I(e.$$.fragment,i),I(t.$$.fragment,i),l=!1},d(i){T(e,i),i&&h(n),T(t,i)}}}function ut(s){let e;return{c(){e=A("Sign out")},m(n,t){m(n,e,t)},d(n){n&&h(e)}}}function ct(s){let e;return{c(){e=A("Revoke access")},m(n,t){m(n,e,t)},d(n){n&&h(e)}}}function ft(s){let e,n,t=s[0]&&fe(s);return{c(){e=_("div"),t&&t.c(),f(e,"slot","inline"),f(e,"class","float-right p-1")},m(l,i){m(l,e,i),t&&t.m(e,null),n=!0},p(l,i){l[0]?t?(t.p(l,i),i&1&&$(t,1)):(t=fe(l),t.c(),$(t,1),t.m(e,null)):t&&(W(),I(t,1,1,()=>{t=null}),K())},i(l){n||($(t),n=!0)},o(l){I(t),n=!1},d(l){l&&h(e),t&&t.d()}}}function pt(s){let e,n,t;return n=new ne({props:{$$slots:{inline:[ft],default:[at]},$$scope:{ctx:s}}}),{c(){e=_("header"),k(n.$$.fragment),f(e,"class","h-12")},m(l,i){m(l,e,i),S(n,e,null),t=!0},p(l,[i]){const o={};i&3&&(o.$$scope={dirty:i,ctx:l}),n.$set(o)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){I(n.$$.fragment,l),t=!1},d(l){l&&h(e),T(n)}}}function dt(){gapi.auth2.getAuthInstance().signOut()}function mt(){gapi.auth2.getAuthInstance().disconnect()}function ht(s,e,n){let{isSignedIn:t}=e;return s.$$set=l=>{"isSignedIn"in l&&n(0,t=l.isSignedIn)},[t]}class gt extends L{constructor(e){super();E(this,e,ht,pt,D,{isSignedIn:0})}}function _t(s){return{title:s.snippet.title,description:s.snippet.description.substring(0,313),publishedAt:s.snippet.publishedAt,thumbnailUrl:s.snippet.thumbnails.medium.url,videoId:s.snippet.resourceId.videoId}}function $t(s,e){return{channelId:s.snippet.resourceId.channelId,title:s.snippet.title,uploadsPlaylistId:e.contentDetails.relatedPlaylists.uploads,uploads:[]}}function bt(s,e){s.uploadsEtag==null&&(s.uploadsEtag=e.etag),s.nextUploadPageToken=e.nextPageToken,e.items.forEach(n=>s.uploads.push(_t(n)))}function vt(s){s.uploadsEtag=null,s.nextUploadPageToken=null,s.uploads=[]}function It(s,e){return{etag:s.etag,items:s.items.flatMap(n=>n.map(t=>{const l=e.get(t.snippet.resourceId.channelId);return $t(t,l)}))}}Se.addDefaultLocale(Ve);const pe=new Se("en-US"),de=je(Te(),Be(),"subscriptions"),H=Te();function wt(s){let e,n,t,l,i,o,r,a=s[0].title+"",u,c,g,p,b=pe.format(new Date(s[0].publishedAt))+"",d,y,w,q=s[0].description+"",O,j,Z,ie;return{c(){e=_("a"),n=_("div"),t=_("img"),i=P(),o=_("div"),r=_("p"),u=A(a),g=P(),p=_("p"),d=A(b),y=P(),w=_("p"),O=A(q),ue(t.src,l=s[0].thumbnailUrl)||f(t,"src",l),f(t,"alt",""),f(t,"loading","lazy"),f(t,"width","320"),f(t,"height","180"),f(n,"class","inline-block w-image align-text-bottom p-1 svelte-tmjg5a"),f(r,"class","font-bold w-text truncate-line svelte-tmjg5a"),f(r,"title",c=s[0].title),f(p,"class","text-neutral-400"),f(w,"class","text-ellipsis truncate-lines svelte-tmjg5a"),f(o,"class","inline-block w-text align-top text-sm svelte-tmjg5a"),f(e,"class","block w-card bg-neutral-600 p-2 m-2 rounded-2xl svelte-tmjg5a"),f(e,"href",j="https://www.youtube.com/watch?v="+s[0].videoId)},m(C,U){m(C,e,U),v(e,n),v(n,t),v(e,i),v(e,o),v(o,r),v(r,u),v(o,g),v(o,p),v(p,d),v(o,y),v(o,w),v(w,O),Z||(ie=R(e,"click",Pe(s[1])),Z=!0)},p(C,[U]){U&1&&!ue(t.src,l=C[0].thumbnailUrl)&&f(t,"src",l),U&1&&a!==(a=C[0].title+"")&&z(u,a),U&1&&c!==(c=C[0].title)&&f(r,"title",c),U&1&&b!==(b=pe.format(new Date(C[0].publishedAt))+"")&&z(d,b),U&1&&q!==(q=C[0].description+"")&&z(O,q),U&1&&j!==(j="https://www.youtube.com/watch?v="+C[0].videoId)&&f(e,"href",j)},i:N,o:N,d(C){C&&h(e),Z=!1,ie()}}}function yt(s,e,n){let{video:t}=e;function l(){H.set({videoId:t.videoId})}return s.$$set=i=>{"video"in i&&n(0,t=i.video)},[t,l]}class kt extends L{constructor(e){super();E(this,e,yt,wt,D,{video:0})}}const qe="Not Modified";function St(s,e){if(e){const n=new URLSearchParams(e);return`${s}?${n}`}else return s}function X(s,e={}){const n=St("https://www.googleapis.com"+s,e.query);return e.headers=new Headers(e.headers),e.headers.append("Authorization","Bearer "+gapi.auth.getToken().access_token),e.etag&&e.headers.append("If-None-Match",e.etag),new Request(n,e)}async function se(s,e={}){typeof s=="string"&&(s=X(s,e));const n=await fetch(s);if(n.status===304)throw qe;if(!n.ok)throw n;return n}async function Re(s,e){const n=`boundary${Date.now()}`,t="/batch"+s,l=await se(t,{method:"POST",headers:{"Content-Type":`multipart/mixed; boundary=${n}`},body:await Tt(e,n)});return Pt(l)}async function Tt(s,e){let n=[];for(const[t,l]of s){if(n.push(`--${e}`),n.push("Content-Type: application/http"),n.push(`Content-ID: ${t}`),l.bodyUsed&&n.push(`Content-Length: ${(await l.blob()).size}`),n.push(""),n.push(`${l.method} ${l.url}`),l.headers)for(const[i,o]of l.headers.entries())n.push(`${i}: ${o}`);l.bodyUsed&&(n.push(""),n.push(await l.text()))}return n.push(`--${e}--`),n.join(`\r
`)}async function Pt(s){const e=s.headers.get("Content-Type").match(/^multipart\/mixed; boundary=(.+)$/)[1],t=(await s.text()).split(new RegExp(`\r
--${e}(?:--)?\r
`,"g")).slice(1,-1),l=new Map;for(const i of t){const[o,r,a]=i.split(`\r
\r
`,3),c=me(o).get("Content-ID").match(/^response-(.+)$/)[1],[g,p]=r.split(`\r
`,2),[b,d,y]=g.split(" ",3),w=me(p),q=a.length===0?null:a,O=new Response(q,{status:parseInt(d,10),statusText:y,headers:w});l.set(c,O)}return l}function me(s){const e=new Headers;for(const n of s.split(`\r
`)){const[t,l]=n.split(": ");e.append(t,l)}return e}async function At(s){let e=await he({etag:s});const n=e.etag,t=[e.items];for(;e.nextPageToken;)e=await he({pageToken:e.nextPageToken}),t.push(e.items);return{etag:n,items:t}}async function he(s={}){return(await se(Nt(s))).json()}function Nt(s={}){return X("/youtube/v3/subscriptions",V({method:"GET",query:V({part:"snippet",fields:"etag,items(snippet(title,resourceId/channelId)),nextPageToken",mine:"true",order:"alphabetical",maxResults:"50"},s.pageToken&&{pageToken:s.pageToken})},s.etag&&{etag:s.etag}))}async function Lt(s){const e=new Map(s.map((l,i)=>[`${i}`,Et(l)])),n=await Re("/youtube/v3",e),t=await Promise.all(Array.from(n.values()).map(l=>l.json()));return new Map(t.flatMap(l=>l.items.map(i=>[i.id,i])))}function Et(s){return X("/youtube/v3/channels",{method:"GET",query:{part:"contentDetails",fields:"items(id,contentDetails/relatedPlaylists/uploads)",id:s.map(e=>e.snippet.resourceId.channelId).join(","),maxResults:"50"}})}async function Dt(s){const e=new Map(s.items.map(t=>[t.uploadsPlaylistId,Ue(t,!0)])),n=await Re("/youtube/v3",e);await Promise.all(s.items.map(t=>Me(t,n.get(t.uploadsPlaylistId),!0)))}async function Ct(s){const e=await se(Ue(s,!1));await Me(s,e,!1)}function Ue(s,e){return X("/youtube/v3/playlistItems",V({method:"GET",query:V({part:"snippet",fields:"etag,items(snippet(title,description,publishedAt,thumbnails/medium/url,resourceId/videoId)),nextPageToken",playlistId:s.uploadsPlaylistId,maxResults:"50"},!e&&s.nextUploadPageToken&&{pageToken:s.nextUploadPageToken})},e&&s.uploadsEtag&&{etag:s.uploadsEtag}))}async function Me(s,e,n){if(n){if(s.uploadsEtag&&e.status===304)return;vt(s)}if(!e.ok)throw e;bt(s,await e.json())}async function qt(s,e){const n={name:s,subscriptions:e.map(t=>({subscription:t,uploadIndex:0})),videos:[]};return await oe(n),n}async function Rt(s){return s.subscriptions.length===1?{playlistId:s.subscriptions[0].subscription.uploadsPlaylistId}:(s.videos.length<200&&await oe(s,200-s.videos.length),{customPlaylist:s.videos.slice(0,200).map(e=>e.videoId)})}async function oe(s,e=10){for(let n=0;n<e;n++){let t,l;for(const i of s.subscriptions){if(i.uploadIndex===i.subscription.uploads.length){if(!i.subscription.nextUploadPageToken)continue;await Ct(i.subscription)}const o=i.subscription.uploads[i.uploadIndex];(!t||o.publishedAt>t.publishedAt)&&(t=o,l=i)}if(!t||!l)break;s.videos.push(t),l.uploadIndex++}}function ge(s,e,n){const t=s.slice();return t[6]=e[n],t}function Ut(s){let e,n=s[0].name+"",t,l,i,o=s[0].videos.length>0&&_e(s);return{c(){e=_("span"),t=A(n),l=P(),o&&o.c(),i=Q(),f(e,"class","cursor-default")},m(r,a){m(r,e,a),v(e,t),m(r,l,a),o&&o.m(r,a),m(r,i,a)},p(r,a){a&1&&n!==(n=r[0].name+"")&&z(t,n),r[0].videos.length>0?o?o.p(r,a):(o=_e(r),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(r){r&&h(e),r&&h(l),o&&o.d(r),r&&h(i)}}}function Mt(s){let e,n=s[0].name+"",t,l,i,o,r=s[0].videos.length>0&&$e(s);return{c(){e=_("a"),t=A(n),i=P(),r&&r.c(),o=Q(),f(e,"href",l="https://www.youtube.com/channel/"+s[0].subscriptions[0].subscription.channelId)},m(a,u){m(a,e,u),v(e,t),m(a,i,u),r&&r.m(a,u),m(a,o,u)},p(a,u){u&1&&n!==(n=a[0].name+"")&&z(t,n),u&1&&l!==(l="https://www.youtube.com/channel/"+a[0].subscriptions[0].subscription.channelId)&&f(e,"href",l),a[0].videos.length>0?r?r.p(a,u):(r=$e(a),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(a){a&&h(e),a&&h(i),r&&r.d(a),a&&h(o)}}}function _e(s){let e,n,t;return{c(){e=_("span"),e.textContent="\u25B8",f(e,"class","float-right pl-2 pr-2 -ml-8 play-button cursor-pointer svelte-1uhkw7g")},m(l,i){m(l,e,i),n||(t=R(e,"click",s[1]),n=!0)},p:N,d(l){l&&h(e),n=!1,t()}}}function $e(s){let e,n,t,l,i;return{c(){e=_("a"),n=A("\u25B8"),f(e,"class","float-right pl-2 pr-2 -ml-8 play-button svelte-1uhkw7g"),f(e,"href",t="https://www.youtube.com/watch?v="+s[0].videos[0].videoId+"&list="+s[0].subscriptions[0].subscription.uploadsPlaylistId)},m(o,r){m(o,e,r),v(e,n),l||(i=R(e,"click",Pe(s[1])),l=!0)},p(o,r){r&1&&t!==(t="https://www.youtube.com/watch?v="+o[0].videos[0].videoId+"&list="+o[0].subscriptions[0].subscription.uploadsPlaylistId)&&f(e,"href",t)},d(o){o&&h(e),l=!1,i()}}}function be(s){let e,n;return e=new kt({props:{video:s[6]}}),{c(){k(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const i={};l&1&&(i.video=t[6]),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function zt(s){let e,n,t,l,i,o,r;function a(d,y){return d[0].subscriptions.length===1?Mt:Ut}let u=a(s),c=u(s),g=s[0].videos,p=[];for(let d=0;d<g.length;d+=1)p[d]=be(ge(s,g,d));const b=d=>I(p[d],1,1,()=>{p[d]=null});return{c(){e=_("div"),n=_("p"),c.c(),t=P(),l=_("div");for(let d=0;d<p.length;d+=1)p[d].c();f(n,"class","text-center font-bold h-8"),f(l,"class","overflow-y-scroll overflow-x-hidden svelte-1uhkw7g"),J(l,"height","calc(100% - 1.5rem)"),f(e,"class","inline-block h-full bg-neutral-800 p-1 ml-1 mr-1 rounded-2xl svelte-1uhkw7g")},m(d,y){m(d,e,y),v(e,n),c.m(n,null),v(e,t),v(e,l);for(let w=0;w<p.length;w+=1)p[w].m(l,null);i=!0,o||(r=[R(l,"wheel",Ge(s[3]),{passive:!0}),R(l,"scroll",s[2])],o=!0)},p(d,[y]){if(u===(u=a(d))&&c?c.p(d,y):(c.d(1),c=u(d),c&&(c.c(),c.m(n,null))),y&1){g=d[0].videos;let w;for(w=0;w<g.length;w+=1){const q=ge(d,g,w);p[w]?(p[w].p(q,y),$(p[w],1)):(p[w]=be(q),p[w].c(),$(p[w],1),p[w].m(l,null))}for(W(),w=g.length;w<p.length;w+=1)b(w);K()}},i(d){if(!i){for(let y=0;y<g.length;y+=1)$(p[y]);i=!0}},o(d){p=p.filter(Boolean);for(let y=0;y<p.length;y+=1)I(p[y]);i=!1},d(d){d&&h(e),c.d(),Ae(p,d),o=!1,Ne(r)}}}function Ht(s,e,n){let t;Le(s,H,u=>n(5,t=u));let{subscriptionGroup:l}=e,i=!1;async function o(){ee(H,t={loading:!0},t);const u=await Rt(l);n(0,l),ee(H,t=u,t)}async function r(u){const c=u.target;!i&&c.scrollHeight-c.scrollTop-122<=c.clientHeight&&(i=!0,await oe(l),n(0,l),i=!1)}function a(u){ke.call(this,s,u)}return s.$$set=u=>{"subscriptionGroup"in u&&n(0,l=u.subscriptionGroup)},[l,o,r,a]}class Ot extends L{constructor(e){super();E(this,e,Ht,zt,D,{subscriptionGroup:0})}}function Vt(s){let e,n,t,l;const i=s[4].default,o=B(i,s,s[3],null);return{c(){e=_("div"),o&&o.c(),f(e,"class","w-full h-full overflow-x-scroll svelte-txv1qk")},m(r,a){m(r,e,a),o&&o.m(e,null),s[5](e),n=!0,t||(l=[R(e,"wheel",s[1],{passive:!0}),R(e,"scroll",s[2])],t=!0)},p(r,[a]){o&&o.p&&(!n||a&8)&&G(o,i,r,r[3],n?F(i,r[3],a,null):Y(r[3]),null)},i(r){n||($(o,r),n=!0)},o(r){I(o,r),n=!1},d(r){r&&h(e),o&&o.d(r),s[5](null),t=!1,Ne(l)}}}const ve=100;function jt(s,e,n){let{$$slots:t={},$$scope:l}=e,i;const o=Ye(0,{duration:ve});let r=!1,a;Ee(o.subscribe(b=>{r&&n(0,i.scrollLeft=b,i)}));function u(b){b.deltaX?(r=!1,o.update(d=>c(d+b.deltaX),{duration:0})):b.deltaY&&(r=!0,o.update(d=>c(d+b.deltaY)))}function c(b){return Math.max(0,Math.min(b,i.scrollWidth-i.clientWidth))}function g(){clearTimeout(a),a=setTimeout(()=>{r=!1,o.set(i.scrollLeft,{duration:0})},ve)}function p(b){Fe[b?"unshift":"push"](()=>{i=b,n(0,i)})}return s.$$set=b=>{"$$scope"in b&&n(3,l=b.$$scope)},[i,u,g,l,t,p]}class Bt extends L{constructor(e){super();E(this,e,jt,Vt,D,{})}}function Ie(s,e,n){const t=s.slice();return t[4]=e[n],t}function Gt(s){let e,n=s[7]+"",t;return{c(){e=_("p"),t=A(n),f(e,"class","text-center")},m(l,i){m(l,e,i),v(e,t)},p:N,i:N,o:N,d(l){l&&h(e)}}}function Yt(s){let e,n,t;return n=new Bt({props:{$$slots:{default:[Ft]},$$scope:{ctx:s}}}),{c(){e=_("div"),k(n.$$.fragment),f(e,"class","w-full"),J(e,"height","calc(100% - 6px)")},m(l,i){m(l,e,i),S(n,e,null),t=!0},p(l,i){const o={};i&256&&(o.$$scope={dirty:i,ctx:l}),n.$set(o)},i(l){t||($(n.$$.fragment,l),t=!0)},o(l){I(n.$$.fragment,l),t=!1},d(l){l&&h(e),T(n)}}}function we(s){let e,n;return e=new Ot({props:{subscriptionGroup:s[4]}}),{c(){k(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:N,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ft(s){let e,n,t=s[3],l=[];for(let o=0;o<t.length;o+=1)l[o]=we(Ie(s,t,o));const i=o=>I(l[o],1,1,()=>{l[o]=null});return{c(){e=_("div");for(let o=0;o<l.length;o+=1)l[o].c();f(e,"class","w-max h-full")},m(o,r){m(o,e,r);for(let a=0;a<l.length;a+=1)l[a].m(e,null);n=!0},p(o,r){if(r&1){t=o[3];let a;for(a=0;a<t.length;a+=1){const u=Ie(o,t,a);l[a]?(l[a].p(u,r),$(l[a],1)):(l[a]=we(u),l[a].c(),$(l[a],1),l[a].m(e,null))}for(W(),a=t.length;a<l.length;a+=1)i(a);K()}},i(o){if(!n){for(let r=0;r<t.length;r+=1)$(l[r]);n=!0}},o(o){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)I(l[r]);n=!1},d(o){o&&h(e),Ae(l,o)}}}function Wt(s){let e,n;return e=new le({}),{c(){k(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:N,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Kt(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:Wt,then:Yt,catch:Gt,value:3,error:7,blocks:[,,,]};return De(s[0](),t),{c(){e=Q(),t.block.c()},m(l,i){m(l,e,i),t.block.m(l,t.anchor=i),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(l,[i]){s=l,Ce(t,s,i)},i(l){n||($(t.block),n=!0)},o(l){for(let i=0;i<3;i+=1){const o=t.blocks[i];I(o)}n=!1},d(l){l&&h(e),t.block.d(l),t.token=null,t=null}}}function Jt(s,e,n){let t;Le(s,de,o=>n(1,t=o));async function l(){const o=await i();return await Dt(o),ee(de,t=o,t),Promise.all(o.items.map(r=>qt(r.title,[r])))}async function i(){const o=t;try{const r=await At(o==null?void 0:o.etag),a=await Lt(r.items);return It(r,a)}catch(r){if(o&&r===qe)return o;throw r}}return[l]}class Qt extends L{constructor(e){super();E(this,e,Jt,Kt,D,{})}}function Xt(s){let e,n,t,l,i,o,r,a;return t=new le({}),{c(){e=_("div"),n=_("div"),k(t.$$.fragment),l=P(),i=_("div"),i.innerHTML='<div id="player"></div>',f(n,"class","fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20"),M(n,"invisible",!s[0]||s[1]),f(i,"class","fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-30"),M(i,"invisible",!s[0]||!s[1]),f(e,"class","fixed top-0 bottom-0 left-0 right-0 z-10 svelte-v5cnxt"),J(e,"background-color","rgba(0, 0, 0, 0.8)"),M(e,"fadeIn",s[0]),M(e,"fadeOut",!s[0])},m(u,c){m(u,e,c),v(e,n),S(t,n,null),v(e,l),v(e,i),o=!0,r||(a=R(e,"click",We(s[5])),r=!0)},p(u,[c]){c&3&&M(n,"invisible",!u[0]||u[1]),c&3&&M(i,"invisible",!u[0]||!u[1]),c&1&&M(e,"fadeIn",u[0]),c&1&&M(e,"fadeOut",!u[0])},i(u){o||($(t.$$.fragment,u),o=!0)},o(u){I(t.$$.fragment,u),o=!1},d(u){u&&h(e),T(t),r=!1,a()}}}function ye(){let s=Math.min(document.body.clientWidth,16*document.body.clientHeight/9),e=Math.min(document.body.clientHeight,9*document.body.clientWidth/16);return s>.9*document.body.clientWidth&&e>.9*document.body.clientHeight&&(s*=.9,e*=.9),[s,e]}function Zt(s,e,n){var t;(function(c){c[c.UNINITIALISED=0]="UNINITIALISED",c[c.INITIALISING=1]="INITIALISING",c[c.INITIALISED=2]="INITIALISED"})(t||(t={}));let l=!1,i=!1,o,r=t.UNINITIALISED;window.addEventListener("resize",()=>{o&&o.setSize(...ye())});function a(c){if(r===t.UNINITIALISED){n(4,r=t.INITIALISING);const[g,p]=ye(),b={width:g,height:p,playerVars:{autohide:1,autoplay:1,playsinline:1},events:{onReady:()=>{n(4,r=t.INITIALISED),n(1,i=!0)},onStateChange:d=>{d.data===YT.PlayerState.BUFFERING||d.data===YT.PlayerState.PLAYING?n(1,i=!0):d.data===YT.PlayerState.UNSTARTED&&n(1,i=!1)}}};c.videoId?b.videoId=c.videoId:c.playlistId?(b.playerVars.listType="playlist",b.playerVars.list=c.playlistId):c.customPlaylist&&(b.playerVars.playlist=c.customPlaylist.join(",")),n(3,o=new YT.Player("player",b))}else r===t.INITIALISING?setTimeout(()=>a(c),100):r===t.INITIALISED&&(c.videoId?o.loadVideoById(c.videoId):c.playlistId?o.loadPlaylist({listType:"playlist",list:c.playlistId}):c.customPlaylist&&o.loadPlaylist(c.customPlaylist))}Ee(H.subscribe(c=>{c&&(H.set(null),n(0,l=!0),c.loading||a(c))}));const u=()=>n(0,l=!1);return s.$$.update=()=>{s.$$.dirty&29&&r===t.INITIALISED&&!l&&o.stopVideo()},[l,i,t,o,r,u]}class xt extends L{constructor(e){super();E(this,e,Zt,Xt,D,{})}}function en(s){let e,n=s[5]+"",t;return{c(){e=_("p"),t=A(n),f(e,"class","text-center")},m(l,i){m(l,e,i),v(e,t)},p:N,i:N,o:N,d(l){l&&h(e)}}}function tn(s){let e,n,t,l;const i=[ln,nn],o=[];function r(a,u){return a[1]?0:1}return e=r(s),n=o[e]=i[e](s),{c(){n.c(),t=Q()},m(a,u){o[e].m(a,u),m(a,t,u),l=!0},p(a,u){let c=e;e=r(a),e===c?o[e].p(a,u):(W(),I(o[c],1,1,()=>{o[c]=null}),K(),n=o[e],n?n.p(a,u):(n=o[e]=i[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){l||($(n),l=!0)},o(a){I(n),l=!1},d(a){o[e].d(a),a&&h(t)}}}function nn(s){let e,n;return e=new rt({props:{isSignedIn:s[0]}}),{c(){k(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p(t,l){const i={};l&1&&(i.isSignedIn=t[0]),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ln(s){let e,n,t,l;return e=new xt({}),t=new Qt({}),{c(){k(e.$$.fragment),n=P(),k(t.$$.fragment)},m(i,o){S(e,i,o),m(i,n,o),S(t,i,o),l=!0},p:N,i(i){l||($(e.$$.fragment,i),$(t.$$.fragment,i),l=!0)},o(i){I(e.$$.fragment,i),I(t.$$.fragment,i),l=!1},d(i){T(e,i),i&&h(n),T(t,i)}}}function sn(s){let e,n;return e=new le({}),{c(){k(e.$$.fragment)},m(t,l){S(e,t,l),n=!0},p:N,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function on(s){let e,n,t,l,i;n=new gt({props:{isSignedIn:s[0]}});let o={ctx:s,current:null,token:null,hasCatch:!0,pending:sn,then:tn,catch:en,value:4,error:5,blocks:[,,,]};return De(s[2](),o),{c(){e=_("main"),k(n.$$.fragment),t=P(),l=_("section"),o.block.c(),J(l,"height","calc(100% - 3rem)"),f(e,"class","w-screen h-screen bg-neutral-700 text-white")},m(r,a){m(r,e,a),S(n,e,null),v(e,t),v(e,l),o.block.m(l,o.anchor=null),o.mount=()=>l,o.anchor=null,i=!0},p(r,[a]){s=r;const u={};a&1&&(u.isSignedIn=s[0]),n.$set(u),Ce(o,s,a)},i(r){i||($(n.$$.fragment,r),$(o.block),i=!0)},o(r){I(n.$$.fragment,r);for(let a=0;a<3;a+=1){const u=o.blocks[a];I(u)}i=!1},d(r){r&&h(e),T(n),o.block.d(),o.token=null,o=null}}}const x="https://www.googleapis.com/auth/youtube.readonly https://www.googleapis.com/auth/drive.appdata";function rn(s,e,n){let t,l;function i(){return new Promise((r,a)=>{gapi.load("client:auth2",()=>o().then(()=>r()).catch(u=>a(u)))})}async function o(){await gapi.client.init({apiKey:"AIzaSyBAHcJ9fPTrCjDExl1NZkF4fZd15fICEFI",clientId:"789354109817-qrqoqtfj1k3gvs01gufrpqlv38g0bi9p.apps.googleusercontent.com",scope:x});const r=gapi.auth2.getAuthInstance();n(0,t=r.isSignedIn.get()),r.isSignedIn.listen(a=>n(0,t=a)),n(1,l=r.currentUser.get().hasGrantedScopes(x)),r.currentUser.listen(a=>n(1,l=a.hasGrantedScopes(x)))}return[t,l,i]}class an extends L{constructor(e){super();E(this,e,rn,on,D,{})}}new an({target:document.getElementById("app")});
