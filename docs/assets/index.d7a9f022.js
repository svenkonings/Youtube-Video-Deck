var ze=Object.defineProperty;var ae=Object.getOwnPropertySymbols;var He=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var ue=(l,e,n)=>e in l?ze(l,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[e]=n,V=(l,e)=>{for(var n in e||(e={}))He.call(e,n)&&ue(l,n,e[n]);if(ae)for(var n of ae(e))Oe.call(e,n)&&ue(l,n,e[n]);return l};import{S as L,i as q,s as E,c as B,e as _,a as P,b as p,d,f as b,u as G,g as F,h as Y,t as $,j as v,k as m,l as k,m as S,n as T,o as R,p as Se,q as A,r as z,v as W,w as K,T as Te,x as Ve,y as je,z as Be,A as Pe,B as ce,C as ne,D as N,E as J,F as Ge,G as Ae,H as Ne,I as Le,J as ee,K as Q,L as Fe,M as qe,N as Ye,O as Ee,P as De,Q as M,R as We}from"./vendor.bea01de3.js";const Ke=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}};Ke();const Je=l=>({}),fe=l=>({});function Qe(l){let e,n,t,s;const i=l[1].inline,o=B(i,l,l[0],fe),r=l[1].default,a=B(r,l,l[0],null);return{c(){e=_("div"),o&&o.c(),n=P(),t=_("div"),a&&a.c(),p(t,"class","absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 text-center"),p(e,"class","relative w-full h-full")},m(u,c){d(u,e,c),o&&o.m(e,null),b(e,n),b(e,t),a&&a.m(t,null),s=!0},p(u,[c]){o&&o.p&&(!s||c&1)&&G(o,i,u,u[0],s?Y(i,u[0],c,Je):F(u[0]),fe),a&&a.p&&(!s||c&1)&&G(a,r,u,u[0],s?Y(r,u[0],c,null):F(u[0]),null)},i(u){s||($(o,u),$(a,u),s=!0)},o(u){v(o,u),v(a,u),s=!1},d(u){u&&m(e),o&&o.d(u),a&&a.d(u)}}}function Ze(l,e,n){let{$$slots:t={},$$scope:s}=e;return l.$$set=i=>{"$$scope"in i&&n(0,s=i.$$scope)},[s,t]}class se extends L{constructor(e){super();q(this,e,Ze,Qe,E,{})}}function Xe(l){let e,n,t,s,i;return{c(){e=_("span"),n=P(),t=_("br"),s=P(),i=_("span"),i.textContent="Loading\u2026",p(e,"class","loader svelte-gg29y1"),p(i,"class","font-extrabold")},m(o,r){d(o,e,r),d(o,n,r),d(o,t,r),d(o,s,r),d(o,i,r)},d(o){o&&m(e),o&&m(n),o&&m(t),o&&m(s),o&&m(i)}}}function xe(l){let e,n;return e=new se({props:{$$slots:{default:[Xe]},$$scope:{ctx:l}}}),{c(){k(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const i={};s&1&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}class le extends L{constructor(e){super();q(this,e,null,xe,E,{})}}function et(l){let e,n,t,s,i;const o=l[2].default,r=B(o,l,l[1],null);return{c(){e=_("button"),r&&r.c(),p(e,"class",n="bg-blue-600 text-white p-1.5 rounded-2xl hover:bg-blue-700 "+l[0])},m(a,u){d(a,e,u),r&&r.m(e,null),t=!0,s||(i=R(e,"click",l[3]),s=!0)},p(a,[u]){r&&r.p&&(!t||u&2)&&G(r,o,a,a[1],t?Y(o,a[1],u,null):F(a[1]),null),(!t||u&1&&n!==(n="bg-blue-600 text-white p-1.5 rounded-2xl hover:bg-blue-700 "+a[0]))&&p(e,"class",n)},i(a){t||($(r,a),t=!0)},o(a){v(r,a),t=!1},d(a){a&&m(e),r&&r.d(a),s=!1,i()}}}function tt(l,e,n){let{$$slots:t={},$$scope:s}=e,{class:i=""}=e;function o(r){Se.call(this,l,r)}return l.$$set=r=>{"class"in r&&n(0,i=r.class),"$$scope"in r&&n(1,s=r.$$scope)},[i,s,t,o]}class te extends L{constructor(e){super();q(this,e,tt,et,E,{class:0})}}function nt(l){let e=l[0]?"Authorize":"Sign in",n;return{c(){n=A(e)},m(t,s){d(t,n,s)},p(t,s){s&1&&e!==(e=t[0]?"Authorize":"Sign in")&&z(n,e)},d(t){t&&m(n)}}}function st(l){let e,n,t=l[0]?"authorize this app":"sign in",s,i,o,r,a,u,c;return u=new te({props:{class:"w-full",$$slots:{default:[nt]},$$scope:{ctx:l}}}),u.$on("click",ot),{c(){e=_("p"),n=A("Please "),s=A(t),i=A(" to continue"),o=P(),r=_("br"),a=P(),k(u.$$.fragment)},m(g,f){d(g,e,f),b(e,n),b(e,s),b(e,i),d(g,o,f),d(g,r,f),d(g,a,f),S(u,g,f),c=!0},p(g,f){(!c||f&1)&&t!==(t=g[0]?"authorize this app":"sign in")&&z(s,t);const w={};f&3&&(w.$$scope={dirty:f,ctx:g}),u.$set(w)},i(g){c||($(u.$$.fragment,g),c=!0)},o(g){v(u.$$.fragment,g),c=!1},d(g){g&&m(e),g&&m(o),g&&m(r),g&&m(a),T(u,g)}}}function lt(l){let e,n;return e=new se({props:{$$slots:{default:[st]},$$scope:{ctx:l}}}),{c(){k(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,[s]){const i={};s&3&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function ot(){return gapi.auth2.getAuthInstance().signIn()}function it(l,e,n){let{isSignedIn:t}=e;return l.$$set=s=>{"isSignedIn"in s&&n(0,t=s.isSignedIn)},[t]}class rt extends L{constructor(e){super();q(this,e,it,lt,E,{isSignedIn:0})}}function at(l){let e;return{c(){e=_("a"),e.textContent="Youtube Video Deck",p(e,"class","font-extrabold"),p(e,"href","#")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function pe(l){let e,n,t,s;return e=new te({props:{class:"w-36 m-1",$$slots:{default:[ut]},$$scope:{ctx:l}}}),e.$on("click",dt),t=new te({props:{class:"w-36 m-1",$$slots:{default:[ct]},$$scope:{ctx:l}}}),t.$on("click",mt),{c(){k(e.$$.fragment),n=P(),k(t.$$.fragment)},m(i,o){S(e,i,o),d(i,n,o),S(t,i,o),s=!0},p(i,o){const r={};o&2&&(r.$$scope={dirty:o,ctx:i}),e.$set(r);const a={};o&2&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){s||($(e.$$.fragment,i),$(t.$$.fragment,i),s=!0)},o(i){v(e.$$.fragment,i),v(t.$$.fragment,i),s=!1},d(i){T(e,i),i&&m(n),T(t,i)}}}function ut(l){let e;return{c(){e=A("Sign out")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function ct(l){let e;return{c(){e=A("Revoke access")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function ft(l){let e,n,t=l[0]&&pe(l);return{c(){e=_("div"),t&&t.c(),p(e,"slot","inline"),p(e,"class","float-right p-1")},m(s,i){d(s,e,i),t&&t.m(e,null),n=!0},p(s,i){s[0]?t?(t.p(s,i),i&1&&$(t,1)):(t=pe(s),t.c(),$(t,1),t.m(e,null)):t&&(W(),v(t,1,1,()=>{t=null}),K())},i(s){n||($(t),n=!0)},o(s){v(t),n=!1},d(s){s&&m(e),t&&t.d()}}}function pt(l){let e,n,t;return n=new se({props:{$$slots:{inline:[ft],default:[at]},$$scope:{ctx:l}}}),{c(){e=_("header"),k(n.$$.fragment),p(e,"class","h-12")},m(s,i){d(s,e,i),S(n,e,null),t=!0},p(s,[i]){const o={};i&3&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){t||($(n.$$.fragment,s),t=!0)},o(s){v(n.$$.fragment,s),t=!1},d(s){s&&m(e),T(n)}}}function dt(){gapi.auth2.getAuthInstance().signOut()}function mt(){gapi.auth2.getAuthInstance().disconnect()}function ht(l,e,n){let{isSignedIn:t}=e;return l.$$set=s=>{"isSignedIn"in s&&n(0,t=s.isSignedIn)},[t]}class gt extends L{constructor(e){super();q(this,e,ht,pt,E,{isSignedIn:0})}}function _t(l){return{title:l.snippet.title,description:l.snippet.description.substring(0,313),publishedAt:l.snippet.publishedAt,thumbnailUrl:l.snippet.thumbnails.medium.url,videoId:l.snippet.resourceId.videoId}}function $t(l,e){return{channelId:l.snippet.resourceId.channelId,title:l.snippet.title,uploadsPlaylistId:e.contentDetails.relatedPlaylists.uploads,uploads:[]}}function bt(l,e){l.uploadsEtag==null&&(l.uploadsEtag=e.etag),l.nextUploadPageToken=e.nextPageToken,e.items.forEach(n=>l.uploads.push(_t(n)))}function vt(l){l.uploadsEtag=null,l.nextUploadPageToken=null,l.uploads=[]}function It(l,e){return{etag:l.etag,items:l.items.flatMap(n=>n.map(t=>{const s=e.get(t.snippet.resourceId.channelId);return $t(t,s)}))}}Te.addDefaultLocale(Ve);const de=new Te("en-US"),me=je(Pe(),Be(),"subscriptions"),H=Pe();function yt(l){let e,n,t,s,i,o,r,a=l[0].title+"",u,c,g,f,w=de.format(new Date(l[0].publishedAt))+"",h,y,I,C=l[0].description+"",O,j,X,re;return{c(){e=_("a"),n=_("div"),t=_("img"),i=P(),o=_("div"),r=_("p"),u=A(a),g=P(),f=_("p"),h=A(w),y=P(),I=_("p"),O=A(C),ce(t.src,s=l[0].thumbnailUrl)||p(t,"src",s),p(t,"alt",""),p(t,"width","320"),p(t,"height","180"),p(n,"class","inline-block w-image align-text-bottom p-1 svelte-tmjg5a"),p(r,"class","font-bold w-text truncate-line svelte-tmjg5a"),p(r,"title",c=l[0].title),p(f,"class","text-neutral-400"),p(I,"class","text-ellipsis truncate-lines svelte-tmjg5a"),p(o,"class","inline-block w-text align-top text-sm svelte-tmjg5a"),p(e,"class","block w-card bg-neutral-600 p-2 m-2 rounded-2xl svelte-tmjg5a"),p(e,"href",j="https://www.youtube.com/watch?v="+l[0].videoId)},m(D,U){d(D,e,U),b(e,n),b(n,t),b(e,i),b(e,o),b(o,r),b(r,u),b(o,g),b(o,f),b(f,h),b(o,y),b(o,I),b(I,O),X||(re=R(e,"click",ne(l[1])),X=!0)},p(D,[U]){U&1&&!ce(t.src,s=D[0].thumbnailUrl)&&p(t,"src",s),U&1&&a!==(a=D[0].title+"")&&z(u,a),U&1&&c!==(c=D[0].title)&&p(r,"title",c),U&1&&w!==(w=de.format(new Date(D[0].publishedAt))+"")&&z(h,w),U&1&&C!==(C=D[0].description+"")&&z(O,C),U&1&&j!==(j="https://www.youtube.com/watch?v="+D[0].videoId)&&p(e,"href",j)},i:N,o:N,d(D){D&&m(e),X=!1,re()}}}function wt(l,e,n){let{video:t}=e;function s(){H.set({videoId:t.videoId})}return l.$$set=i=>{"video"in i&&n(0,t=i.video)},[t,s]}class kt extends L{constructor(e){super();q(this,e,wt,yt,E,{video:0})}}const Ce="Not Modified";function St(l,e){if(e){const n=new URLSearchParams(e);return`${l}?${n}`}else return l}function Z(l,e={}){const n=St("https://www.googleapis.com"+l,e.query);return e.headers=new Headers(e.headers),e.headers.append("Authorization","Bearer "+gapi.auth.getToken().access_token),e.etag&&e.headers.append("If-None-Match",e.etag),new Request(n,e)}async function oe(l,e={}){typeof l=="string"&&(l=Z(l,e));const n=await fetch(l);if(n.status===304)throw Ce;if(!n.ok)throw n;return n}async function Re(l,e){const n=`boundary${Date.now()}`,t="/batch"+l,s=await oe(t,{method:"POST",headers:{"Content-Type":`multipart/mixed; boundary=${n}`},body:await Tt(e,n)});return Pt(s)}async function Tt(l,e){let n=[];for(const[t,s]of l){if(n.push(`--${e}`),n.push("Content-Type: application/http"),n.push(`Content-ID: ${t}`),s.bodyUsed&&n.push(`Content-Length: ${(await s.blob()).size}`),n.push(""),n.push(`${s.method} ${s.url}`),s.headers)for(const[i,o]of s.headers.entries())n.push(`${i}: ${o}`);s.bodyUsed&&(n.push(""),n.push(await s.text()))}return n.push(`--${e}--`),n.join(`\r
`)}async function Pt(l){const e=l.headers.get("Content-Type").match(/^multipart\/mixed; boundary=(.+)$/)[1],t=(await l.text()).split(new RegExp(`\r
--${e}(?:--)?\r
`,"g")).slice(1,-1),s=new Map;for(const i of t){const[o,r,a]=i.split(`\r
\r
`,3),c=he(o).get("Content-ID").match(/^response-(.+)$/)[1],[g,f]=r.split(`\r
`,2),[w,h,y]=g.split(" ",3),I=he(f),C=a.length===0?null:a,O=new Response(C,{status:parseInt(h,10),statusText:y,headers:I});s.set(c,O)}return s}function he(l){const e=new Headers;for(const n of l.split(`\r
`)){const[t,s]=n.split(": ");e.append(t,s)}return e}async function At(l){let e=await ge({etag:l});const n=e.etag,t=[e.items];for(;e.nextPageToken;)e=await ge({pageToken:e.nextPageToken}),t.push(e.items);return{etag:n,items:t}}async function ge(l={}){return(await oe(Nt(l))).json()}function Nt(l={}){return Z("/youtube/v3/subscriptions",V({method:"GET",query:V({part:"snippet",fields:"etag,items(snippet(title,resourceId/channelId)),nextPageToken",mine:"true",order:"alphabetical",maxResults:"50"},l.pageToken&&{pageToken:l.pageToken})},l.etag&&{etag:l.etag}))}async function Lt(l){const e=new Map(l.map((s,i)=>[`${i}`,qt(s)])),n=await Re("/youtube/v3",e),t=await Promise.all(Array.from(n.values()).map(s=>s.json()));return new Map(t.flatMap(s=>s.items.map(i=>[i.id,i])))}function qt(l){return Z("/youtube/v3/channels",{method:"GET",query:{part:"contentDetails",fields:"items(id,contentDetails/relatedPlaylists/uploads)",id:l.map(e=>e.snippet.resourceId.channelId).join(","),maxResults:"50"}})}async function Et(l){const e=new Map(l.items.map(t=>[t.uploadsPlaylistId,Ue(t,!0)])),n=await Re("/youtube/v3",e);await Promise.all(l.items.map(t=>Me(t,n.get(t.uploadsPlaylistId),!0)))}async function Dt(l){const e=await oe(Ue(l,!1));await Me(l,e,!1)}function Ue(l,e){return Z("/youtube/v3/playlistItems",V({method:"GET",query:V({part:"snippet",fields:"etag,items(snippet(title,description,publishedAt,thumbnails/medium/url,resourceId/videoId)),nextPageToken",playlistId:l.uploadsPlaylistId,maxResults:"50"},!e&&l.nextUploadPageToken&&{pageToken:l.nextUploadPageToken})},e&&l.uploadsEtag&&{etag:l.uploadsEtag}))}async function Me(l,e,n){if(n){if(l.uploadsEtag&&e.status===304)return;vt(l)}if(!e.ok)throw e;bt(l,await e.json())}async function Ct(l,e){const n={name:l,subscriptions:e.map(t=>({subscription:t,uploadIndex:0})),videos:[]};return await ie(n),n}async function Rt(l){return l.subscriptions.length===1?{playlistId:l.subscriptions[0].subscription.uploadsPlaylistId}:(l.videos.length<200&&await ie(l,200-l.videos.length),{customPlaylist:l.videos.slice(0,200).map(e=>e.videoId)})}async function ie(l,e=10){for(let n=0;n<e;n++){let t,s;for(const i of l.subscriptions){if(i.uploadIndex===i.subscription.uploads.length){if(!i.subscription.nextUploadPageToken)continue;await Dt(i.subscription)}const o=i.subscription.uploads[i.uploadIndex];(!t||o.publishedAt>t.publishedAt)&&(t=o,s=i)}if(!t||!s)break;l.videos.push(t),s.uploadIndex++}}function _e(l,e,n){const t=l.slice();return t[6]=e[n],t}function Ut(l){let e,n=l[0].name+"",t,s,i,o=l[0].videos.length>0&&$e(l);return{c(){e=_("span"),t=A(n),s=P(),o&&o.c(),i=Q(),p(e,"class","cursor-default")},m(r,a){d(r,e,a),b(e,t),d(r,s,a),o&&o.m(r,a),d(r,i,a)},p(r,a){a&1&&n!==(n=r[0].name+"")&&z(t,n),r[0].videos.length>0?o?o.p(r,a):(o=$e(r),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(r){r&&m(e),r&&m(s),o&&o.d(r),r&&m(i)}}}function Mt(l){let e,n=l[0].name+"",t,s,i,o,r=l[0].videos.length>0&&be(l);return{c(){e=_("a"),t=A(n),i=P(),r&&r.c(),o=Q(),p(e,"href",s="https://www.youtube.com/channel/"+l[0].subscriptions[0].subscription.channelId)},m(a,u){d(a,e,u),b(e,t),d(a,i,u),r&&r.m(a,u),d(a,o,u)},p(a,u){u&1&&n!==(n=a[0].name+"")&&z(t,n),u&1&&s!==(s="https://www.youtube.com/channel/"+a[0].subscriptions[0].subscription.channelId)&&p(e,"href",s),a[0].videos.length>0?r?r.p(a,u):(r=be(a),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(a){a&&m(e),a&&m(i),r&&r.d(a),a&&m(o)}}}function $e(l){let e,n,t;return{c(){e=_("span"),e.textContent="\u25B8",p(e,"class","float-right pl-2 pr-2 -ml-8 play-button cursor-pointer svelte-6qkaq8")},m(s,i){d(s,e,i),n||(t=R(e,"click",ne(l[1])),n=!0)},p:N,d(s){s&&m(e),n=!1,t()}}}function be(l){let e,n,t,s,i;return{c(){e=_("a"),n=A("\u25B8"),p(e,"class","float-right pl-2 pr-2 -ml-8 play-button svelte-6qkaq8"),p(e,"href",t="https://www.youtube.com/watch?v="+l[0].videos[0].videoId+"&list="+l[0].subscriptions[0].subscription.uploadsPlaylistId)},m(o,r){d(o,e,r),b(e,n),s||(i=R(e,"click",ne(l[1])),s=!0)},p(o,r){r&1&&t!==(t="https://www.youtube.com/watch?v="+o[0].videos[0].videoId+"&list="+o[0].subscriptions[0].subscription.uploadsPlaylistId)&&p(e,"href",t)},d(o){o&&m(e),s=!1,i()}}}function ve(l){let e,n;return e=new kt({props:{video:l[6]}}),{c(){k(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const i={};s&1&&(i.video=t[6]),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function zt(l){let e,n,t,s,i,o,r;function a(h,y){return h[0].subscriptions.length===1?Mt:Ut}let u=a(l),c=u(l),g=l[0].videos,f=[];for(let h=0;h<g.length;h+=1)f[h]=ve(_e(l,g,h));const w=h=>v(f[h],1,1,()=>{f[h]=null});return{c(){e=_("div"),n=_("p"),c.c(),t=P(),s=_("div");for(let h=0;h<f.length;h+=1)f[h].c();p(n,"class","text-center font-bold h-8"),p(s,"class","overflow-y-scroll overflow-x-hidden svelte-6qkaq8"),J(s,"height","calc(100% - 1.5rem)"),p(e,"class","inline-block h-full bg-neutral-800 p-1 ml-1 mr-1 rounded-2xl svelte-6qkaq8")},m(h,y){d(h,e,y),b(e,n),c.m(n,null),b(e,t),b(e,s);for(let I=0;I<f.length;I+=1)f[I].m(s,null);i=!0,o||(r=[R(s,"wheel",Ge(l[3]),{passive:!0}),R(s,"scroll",l[2])],o=!0)},p(h,[y]){if(u===(u=a(h))&&c?c.p(h,y):(c.d(1),c=u(h),c&&(c.c(),c.m(n,null))),y&1){g=h[0].videos;let I;for(I=0;I<g.length;I+=1){const C=_e(h,g,I);f[I]?(f[I].p(C,y),$(f[I],1)):(f[I]=ve(C),f[I].c(),$(f[I],1),f[I].m(s,null))}for(W(),I=g.length;I<f.length;I+=1)w(I);K()}},i(h){if(!i){for(let y=0;y<g.length;y+=1)$(f[y]);i=!0}},o(h){f=f.filter(Boolean);for(let y=0;y<f.length;y+=1)v(f[y]);i=!1},d(h){h&&m(e),c.d(),Ae(f,h),o=!1,Ne(r)}}}function Ht(l,e,n){let t;Le(l,H,u=>n(5,t=u));let{subscriptionGroup:s}=e,i=!1;async function o(){ee(H,t={loading:!0},t);const u=await Rt(s);n(0,s),ee(H,t=u,t)}async function r(u){const c=u.target;!i&&c.scrollHeight-c.scrollTop-122<=c.clientHeight&&(i=!0,await ie(s),n(0,s),i=!1)}function a(u){Se.call(this,l,u)}return l.$$set=u=>{"subscriptionGroup"in u&&n(0,s=u.subscriptionGroup)},[s,o,r,a]}class Ot extends L{constructor(e){super();q(this,e,Ht,zt,E,{subscriptionGroup:0})}}function Vt(l){let e,n,t,s;const i=l[4].default,o=B(i,l,l[3],null);return{c(){e=_("div"),o&&o.c(),p(e,"class","w-full h-full overflow-x-scroll svelte-1ekfizo")},m(r,a){d(r,e,a),o&&o.m(e,null),l[5](e),n=!0,t||(s=[R(e,"wheel",l[1],{passive:!0}),R(e,"scroll",l[2])],t=!0)},p(r,[a]){o&&o.p&&(!n||a&8)&&G(o,i,r,r[3],n?Y(i,r[3],a,null):F(r[3]),null)},i(r){n||($(o,r),n=!0)},o(r){v(o,r),n=!1},d(r){r&&m(e),o&&o.d(r),l[5](null),t=!1,Ne(s)}}}const Ie=100;function jt(l,e,n){let{$$slots:t={},$$scope:s}=e,i;const o=Fe(0,{duration:Ie});let r=!1,a;qe(o.subscribe(f=>{r&&n(0,i.scrollLeft=f,i)}));function u(f){f.deltaX||(r=!0,o.update(w=>Math.max(0,Math.min(w+f.deltaY,i.scrollWidth-i.clientWidth))))}function c(){clearTimeout(a),a=setTimeout(()=>{r=!1,o.set(i.scrollLeft,{duration:0})},Ie)}function g(f){Ye[f?"unshift":"push"](()=>{i=f,n(0,i)})}return l.$$set=f=>{"$$scope"in f&&n(3,s=f.$$scope)},[i,u,c,s,t,g]}class Bt extends L{constructor(e){super();q(this,e,jt,Vt,E,{})}}function ye(l,e,n){const t=l.slice();return t[4]=e[n],t}function Gt(l){let e,n=l[7]+"",t;return{c(){e=_("p"),t=A(n),p(e,"class","text-center")},m(s,i){d(s,e,i),b(e,t)},p:N,i:N,o:N,d(s){s&&m(e)}}}function Ft(l){let e,n,t;return n=new Bt({props:{$$slots:{default:[Yt]},$$scope:{ctx:l}}}),{c(){e=_("div"),k(n.$$.fragment),p(e,"class","w-full"),J(e,"height","calc(100% - 6px)")},m(s,i){d(s,e,i),S(n,e,null),t=!0},p(s,i){const o={};i&256&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){t||($(n.$$.fragment,s),t=!0)},o(s){v(n.$$.fragment,s),t=!1},d(s){s&&m(e),T(n)}}}function we(l){let e,n;return e=new Ot({props:{subscriptionGroup:l[4]}}),{c(){k(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:N,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Yt(l){let e,n,t=l[3],s=[];for(let o=0;o<t.length;o+=1)s[o]=we(ye(l,t,o));const i=o=>v(s[o],1,1,()=>{s[o]=null});return{c(){e=_("div");for(let o=0;o<s.length;o+=1)s[o].c();p(e,"class","w-max h-full")},m(o,r){d(o,e,r);for(let a=0;a<s.length;a+=1)s[a].m(e,null);n=!0},p(o,r){if(r&1){t=o[3];let a;for(a=0;a<t.length;a+=1){const u=ye(o,t,a);s[a]?(s[a].p(u,r),$(s[a],1)):(s[a]=we(u),s[a].c(),$(s[a],1),s[a].m(e,null))}for(W(),a=t.length;a<s.length;a+=1)i(a);K()}},i(o){if(!n){for(let r=0;r<t.length;r+=1)$(s[r]);n=!0}},o(o){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)v(s[r]);n=!1},d(o){o&&m(e),Ae(s,o)}}}function Wt(l){let e,n;return e=new le({}),{c(){k(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:N,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Kt(l){let e,n,t={ctx:l,current:null,token:null,hasCatch:!0,pending:Wt,then:Ft,catch:Gt,value:3,error:7,blocks:[,,,]};return Ee(l[0](),t),{c(){e=Q(),t.block.c()},m(s,i){d(s,e,i),t.block.m(s,t.anchor=i),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(s,[i]){l=s,De(t,l,i)},i(s){n||($(t.block),n=!0)},o(s){for(let i=0;i<3;i+=1){const o=t.blocks[i];v(o)}n=!1},d(s){s&&m(e),t.block.d(s),t.token=null,t=null}}}function Jt(l,e,n){let t;Le(l,me,o=>n(1,t=o));async function s(){const o=await i();return await Et(o),ee(me,t=o,t),Promise.all(o.items.map(r=>Ct(r.title,[r])))}async function i(){const o=t;try{const r=await At(o==null?void 0:o.etag),a=await Lt(r.items);return It(r,a)}catch(r){if(o&&r===Ce)return o;throw r}}return[s]}class Qt extends L{constructor(e){super();q(this,e,Jt,Kt,E,{})}}function Zt(l){let e,n,t,s,i,o,r,a;return t=new le({}),{c(){e=_("div"),n=_("div"),k(t.$$.fragment),s=P(),i=_("div"),i.innerHTML='<div id="player"></div>',p(n,"class","fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20"),M(n,"invisible",!l[0]||l[1]),p(i,"class","fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-30"),M(i,"invisible",!l[0]||!l[1]),p(e,"class","fixed top-0 bottom-0 left-0 right-0 z-10 svelte-v5cnxt"),J(e,"background-color","rgba(0, 0, 0, 0.8)"),M(e,"fadeIn",l[0]),M(e,"fadeOut",!l[0])},m(u,c){d(u,e,c),b(e,n),S(t,n,null),b(e,s),b(e,i),o=!0,r||(a=R(e,"click",We(l[5])),r=!0)},p(u,[c]){c&3&&M(n,"invisible",!u[0]||u[1]),c&3&&M(i,"invisible",!u[0]||!u[1]),c&1&&M(e,"fadeIn",u[0]),c&1&&M(e,"fadeOut",!u[0])},i(u){o||($(t.$$.fragment,u),o=!0)},o(u){v(t.$$.fragment,u),o=!1},d(u){u&&m(e),T(t),r=!1,a()}}}function ke(){let l=Math.min(document.body.clientWidth,16*document.body.clientHeight/9),e=Math.min(document.body.clientHeight,9*document.body.clientWidth/16);return l>.9*document.body.clientWidth&&e>.9*document.body.clientHeight&&(l*=.9,e*=.9),[l,e]}function Xt(l,e,n){var t;(function(c){c[c.UNINITIALISED=0]="UNINITIALISED",c[c.INITIALISING=1]="INITIALISING",c[c.INITIALISED=2]="INITIALISED"})(t||(t={}));let s=!1,i=!1,o,r=t.UNINITIALISED;window.addEventListener("resize",()=>{o&&o.setSize(...ke())});function a(c){if(r===t.UNINITIALISED){n(4,r=t.INITIALISING);const[g,f]=ke(),w={width:g,height:f,playerVars:{autohide:1,autoplay:1,playsinline:1},events:{onReady:()=>{n(4,r=t.INITIALISED),n(1,i=!0)},onStateChange:h=>{h.data===YT.PlayerState.BUFFERING||h.data===YT.PlayerState.PLAYING?n(1,i=!0):h.data===YT.PlayerState.UNSTARTED&&n(1,i=!1)}}};c.videoId?w.videoId=c.videoId:c.playlistId?(w.playerVars.listType="playlist",w.playerVars.list=c.playlistId):c.customPlaylist&&(w.playerVars.playlist=c.customPlaylist.join(",")),n(3,o=new YT.Player("player",w))}else r===t.INITIALISING?setTimeout(()=>a(c),100):r===t.INITIALISED&&(c.videoId?o.loadVideoById(c.videoId):c.playlistId?o.loadPlaylist({listType:"playlist",list:c.playlistId}):c.customPlaylist&&o.loadPlaylist(c.customPlaylist))}qe(H.subscribe(c=>{c&&(H.set(null),n(0,s=!0),c.loading||a(c))}));const u=()=>n(0,s=!1);return l.$$.update=()=>{l.$$.dirty&29&&r===t.INITIALISED&&!s&&o.stopVideo()},[s,i,t,o,r,u]}class xt extends L{constructor(e){super();q(this,e,Xt,Zt,E,{})}}function en(l){let e,n=l[5]+"",t;return{c(){e=_("p"),t=A(n),p(e,"class","text-center")},m(s,i){d(s,e,i),b(e,t)},p:N,i:N,o:N,d(s){s&&m(e)}}}function tn(l){let e,n,t,s;const i=[sn,nn],o=[];function r(a,u){return a[1]?0:1}return e=r(l),n=o[e]=i[e](l),{c(){n.c(),t=Q()},m(a,u){o[e].m(a,u),d(a,t,u),s=!0},p(a,u){let c=e;e=r(a),e===c?o[e].p(a,u):(W(),v(o[c],1,1,()=>{o[c]=null}),K(),n=o[e],n?n.p(a,u):(n=o[e]=i[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){s||($(n),s=!0)},o(a){v(n),s=!1},d(a){o[e].d(a),a&&m(t)}}}function nn(l){let e,n;return e=new rt({props:{isSignedIn:l[0]}}),{c(){k(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p(t,s){const i={};s&1&&(i.isSignedIn=t[0]),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function sn(l){let e,n,t,s;return e=new xt({}),t=new Qt({}),{c(){k(e.$$.fragment),n=P(),k(t.$$.fragment)},m(i,o){S(e,i,o),d(i,n,o),S(t,i,o),s=!0},p:N,i(i){s||($(e.$$.fragment,i),$(t.$$.fragment,i),s=!0)},o(i){v(e.$$.fragment,i),v(t.$$.fragment,i),s=!1},d(i){T(e,i),i&&m(n),T(t,i)}}}function ln(l){let e,n;return e=new le({}),{c(){k(e.$$.fragment)},m(t,s){S(e,t,s),n=!0},p:N,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function on(l){let e,n,t,s,i;n=new gt({props:{isSignedIn:l[0]}});let o={ctx:l,current:null,token:null,hasCatch:!0,pending:ln,then:tn,catch:en,value:4,error:5,blocks:[,,,]};return Ee(l[2](),o),{c(){e=_("main"),k(n.$$.fragment),t=P(),s=_("section"),o.block.c(),J(s,"height","calc(100% - 3rem)"),p(e,"class","w-screen h-screen bg-neutral-700 text-white")},m(r,a){d(r,e,a),S(n,e,null),b(e,t),b(e,s),o.block.m(s,o.anchor=null),o.mount=()=>s,o.anchor=null,i=!0},p(r,[a]){l=r;const u={};a&1&&(u.isSignedIn=l[0]),n.$set(u),De(o,l,a)},i(r){i||($(n.$$.fragment,r),$(o.block),i=!0)},o(r){v(n.$$.fragment,r);for(let a=0;a<3;a+=1){const u=o.blocks[a];v(u)}i=!1},d(r){r&&m(e),T(n),o.block.d(),o.token=null,o=null}}}const x="https://www.googleapis.com/auth/youtube.readonly https://www.googleapis.com/auth/drive.appdata";function rn(l,e,n){let t,s;function i(){return new Promise((r,a)=>{gapi.load("client:auth2",()=>o().then(()=>r()).catch(u=>a(u)))})}async function o(){await gapi.client.init({apiKey:"AIzaSyBAHcJ9fPTrCjDExl1NZkF4fZd15fICEFI",clientId:"789354109817-qrqoqtfj1k3gvs01gufrpqlv38g0bi9p.apps.googleusercontent.com",scope:x});const r=gapi.auth2.getAuthInstance();n(0,t=r.isSignedIn.get()),r.isSignedIn.listen(a=>n(0,t=a)),n(1,s=r.currentUser.get().hasGrantedScopes(x)),r.currentUser.listen(a=>n(1,s=a.hasGrantedScopes(x)))}return[t,s,i]}class an extends L{constructor(e){super();q(this,e,rn,on,E,{})}}new an({target:document.getElementById("app")});
