var Me=Object.defineProperty;var re=Object.getOwnPropertySymbols;var He=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable;var ae=(s,e,n)=>e in s?Me(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,G=(s,e)=>{for(var n in e||(e={}))He.call(e,n)&&ae(s,n,e[n]);if(re)for(var n of re(e))ze.call(e,n)&&ae(s,n,e[n]);return s};import{S as E,i as D,s as U,c as O,e as g,a as P,b as f,d,f as $,u as B,g as V,h as x,t as b,j as w,k as m,l as y,m as k,n as S,o as z,p as ke,q as A,r as j,v as F,w as Y,T as Se,x as je,y as Ge,z as Oe,A as ne,B as ie,C as Te,D as L,E as W,F as K,G as Be,H as Pe,I as Ae,J as Ne,K as Ve,L as X,M as xe,N as Le,O as Ee,P as Fe,Q as Ye,R as ue,U as We,V as Ke,W as ce,X as fe}from"./vendor.cf052746.js";const Je=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}};Je();const Qe=s=>({}),pe=s=>({});function Xe(s){let e,n,t,l;const o=s[1].inline,r=O(o,s,s[0],pe),a=s[1].default,i=O(a,s,s[0],null);return{c(){e=g("div"),r&&r.c(),n=P(),t=g("div"),i&&i.c(),f(t,"class","absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 text-center"),f(e,"class","relative w-full h-full")},m(u,c){d(u,e,c),r&&r.m(e,null),$(e,n),$(e,t),i&&i.m(t,null),l=!0},p(u,[c]){r&&r.p&&(!l||c&1)&&B(r,o,u,u[0],l?x(o,u[0],c,Qe):V(u[0]),pe),i&&i.p&&(!l||c&1)&&B(i,a,u,u[0],l?x(a,u[0],c,null):V(u[0]),null)},i(u){l||(b(r,u),b(i,u),l=!0)},o(u){w(r,u),w(i,u),l=!1},d(u){u&&m(e),r&&r.d(u),i&&i.d(u)}}}function Ze(s,e,n){let{$$slots:t={},$$scope:l}=e;return s.$$set=o=>{"$$scope"in o&&n(0,l=o.$$scope)},[l,t]}class le extends E{constructor(e){super();D(this,e,Ze,Xe,U,{})}}function et(s){let e,n,t,l,o;return{c(){e=g("span"),n=P(),t=g("br"),l=P(),o=g("span"),o.textContent="Loading\u2026",f(e,"class","loader svelte-gg29y1"),f(o,"class","font-extrabold")},m(r,a){d(r,e,a),d(r,n,a),d(r,t,a),d(r,l,a),d(r,o,a)},d(r){r&&m(e),r&&m(n),r&&m(t),r&&m(l),r&&m(o)}}}function tt(s){let e,n;return e=new le({props:{$$slots:{default:[et]},$$scope:{ctx:s}}}),{c(){y(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const o={};l&1&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}class De extends E{constructor(e){super();D(this,e,null,tt,U,{})}}function nt(s){let e,n,t,l,o;const r=s[2].default,a=O(r,s,s[1],null);return{c(){e=g("button"),a&&a.c(),f(e,"class",n="bg-blue-600 text-white p-1.5 rounded-2xl hover:bg-blue-700 "+s[0])},m(i,u){d(i,e,u),a&&a.m(e,null),t=!0,l||(o=z(e,"click",s[3]),l=!0)},p(i,[u]){a&&a.p&&(!t||u&2)&&B(a,r,i,i[1],t?x(r,i[1],u,null):V(i[1]),null),(!t||u&1&&n!==(n="bg-blue-600 text-white p-1.5 rounded-2xl hover:bg-blue-700 "+i[0]))&&f(e,"class",n)},i(i){t||(b(a,i),t=!0)},o(i){w(a,i),t=!1},d(i){i&&m(e),a&&a.d(i),l=!1,o()}}}function lt(s,e,n){let{$$slots:t={},$$scope:l}=e,{class:o=""}=e;function r(a){ke.call(this,s,a)}return s.$$set=a=>{"class"in a&&n(0,o=a.class),"$$scope"in a&&n(1,l=a.$$scope)},[o,l,t,r]}class Z extends E{constructor(e){super();D(this,e,lt,nt,U,{class:0})}}function st(s){let e=s[0]?"Authorize":"Sign in",n;return{c(){n=A(e)},m(t,l){d(t,n,l)},p(t,l){l&1&&e!==(e=t[0]?"Authorize":"Sign in")&&j(n,e)},d(t){t&&m(n)}}}function ot(s){let e,n,t=s[0]?"authorize this app":"sign in",l,o,r,a,i,u,c;return u=new Z({props:{class:"w-full",$$slots:{default:[st]},$$scope:{ctx:s}}}),u.$on("click",at),{c(){e=g("p"),n=A("Please "),l=A(t),o=A(" to continue"),r=P(),a=g("br"),i=P(),y(u.$$.fragment)},m(h,p){d(h,e,p),$(e,n),$(e,l),$(e,o),d(h,r,p),d(h,a,p),d(h,i,p),k(u,h,p),c=!0},p(h,p){(!c||p&1)&&t!==(t=h[0]?"authorize this app":"sign in")&&j(l,t);const T={};p&3&&(T.$$scope={dirty:p,ctx:h}),u.$set(T)},i(h){c||(b(u.$$.fragment,h),c=!0)},o(h){w(u.$$.fragment,h),c=!1},d(h){h&&m(e),h&&m(r),h&&m(a),h&&m(i),S(u,h)}}}function rt(s){let e,n;return e=new le({props:{$$slots:{default:[ot]},$$scope:{ctx:s}}}),{c(){y(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const o={};l&3&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function at(){return gapi.auth2.getAuthInstance().signIn()}function it(s,e,n){let{isSignedIn:t}=e;return s.$$set=l=>{"isSignedIn"in l&&n(0,t=l.isSignedIn)},[t]}class ut extends E{constructor(e){super();D(this,e,it,rt,U,{isSignedIn:0})}}function ct(s){let e;return{c(){e=g("a"),e.textContent="Youtube Video Deck",f(e,"class","font-extrabold"),f(e,"href","#")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function de(s){let e,n,t,l;return e=new Z({props:{class:"w-36 m-1",$$slots:{default:[ft]},$$scope:{ctx:s}}}),e.$on("click",ht),t=new Z({props:{class:"w-36 m-1",$$slots:{default:[pt]},$$scope:{ctx:s}}}),t.$on("click",gt),{c(){y(e.$$.fragment),n=P(),y(t.$$.fragment)},m(o,r){k(e,o,r),d(o,n,r),k(t,o,r),l=!0},p(o,r){const a={};r&2&&(a.$$scope={dirty:r,ctx:o}),e.$set(a);const i={};r&2&&(i.$$scope={dirty:r,ctx:o}),t.$set(i)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){w(e.$$.fragment,o),w(t.$$.fragment,o),l=!1},d(o){S(e,o),o&&m(n),S(t,o)}}}function ft(s){let e;return{c(){e=A("Sign out")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function pt(s){let e;return{c(){e=A("Revoke access")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function dt(s){let e,n,t=s[0]&&de(s);return{c(){e=g("div"),t&&t.c(),f(e,"slot","inline"),f(e,"class","float-right p-1")},m(l,o){d(l,e,o),t&&t.m(e,null),n=!0},p(l,o){l[0]?t?(t.p(l,o),o&1&&b(t,1)):(t=de(l),t.c(),b(t,1),t.m(e,null)):t&&(F(),w(t,1,1,()=>{t=null}),Y())},i(l){n||(b(t),n=!0)},o(l){w(t),n=!1},d(l){l&&m(e),t&&t.d()}}}function mt(s){let e,n,t;return n=new le({props:{$$slots:{inline:[dt],default:[ct]},$$scope:{ctx:s}}}),{c(){e=g("header"),y(n.$$.fragment),f(e,"class","h-12")},m(l,o){d(l,e,o),k(n,e,null),t=!0},p(l,[o]){const r={};o&3&&(r.$$scope={dirty:o,ctx:l}),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){w(n.$$.fragment,l),t=!1},d(l){l&&m(e),S(n)}}}function ht(){gapi.auth2.getAuthInstance().signOut()}function gt(){gapi.auth2.getAuthInstance().disconnect()}function _t(s,e,n){let{isSignedIn:t}=e;return s.$$set=l=>{"isSignedIn"in l&&n(0,t=l.isSignedIn)},[t]}class $t extends E{constructor(e){super();D(this,e,_t,mt,U,{isSignedIn:0})}}function bt(s){return{title:s.snippet.title,description:s.snippet.description.substring(0,313),publishedAt:s.snippet.publishedAt,thumbnailUrl:s.snippet.thumbnails.medium.url,videoId:s.snippet.resourceId.videoId}}function It(s,e){return{channelId:s.snippet.resourceId.channelId,title:s.snippet.title,uploadsPlaylistId:e.contentDetails.relatedPlaylists.uploads,uploads:[]}}function wt(s,e){s.uploadsEtag==null&&(s.uploadsEtag=e.etag),s.nextUploadPageToken=e.nextPageToken,e.items.forEach(n=>s.uploads.push(bt(n)))}function vt(s){s.uploadsEtag=null,s.nextUploadPageToken=null,s.uploads=[]}function yt(s,e){return{etag:s.etag,items:s.items.flatMap(n=>n.map(t=>{const l=e.get(t.snippet.resourceId.channelId);return It(t,l)}))}}Se.addDefaultLocale(je);const me=new Se("en-US"),he=Ge(ne(),Oe(),"subscriptions"),ee=ne(),te=ne();function kt(s){let e,n,t,l,o,r,a,i=s[0].title+"",u,c,h,p,T=me.format(new Date(s[0].publishedAt))+"",M,v,N,R=s[0].description+"",_,I,q,oe;return{c(){e=g("a"),n=g("div"),t=g("img"),o=P(),r=g("div"),a=g("p"),u=A(i),h=P(),p=g("p"),M=A(T),v=P(),N=g("p"),_=A(R),ie(t.src,l=s[0].thumbnailUrl)||f(t,"src",l),f(t,"alt",""),f(n,"class","inline-block w-image align-text-bottom p-1 svelte-tmjg5a"),f(a,"class","font-bold w-text truncate-line svelte-tmjg5a"),f(a,"title",c=s[0].title),f(p,"class","text-neutral-400"),f(N,"class","text-ellipsis truncate-lines svelte-tmjg5a"),f(r,"class","inline-block w-text align-top text-sm svelte-tmjg5a"),f(e,"class","block w-card bg-neutral-600 p-2 m-2 rounded-2xl svelte-tmjg5a"),f(e,"href",I="https://www.youtube.com/watch?v="+s[0].videoId)},m(C,H){d(C,e,H),$(e,n),$(n,t),$(e,o),$(e,r),$(r,a),$(a,u),$(r,h),$(r,p),$(p,M),$(r,v),$(r,N),$(N,_),q||(oe=z(e,"click",Te(s[1])),q=!0)},p(C,[H]){H&1&&!ie(t.src,l=C[0].thumbnailUrl)&&f(t,"src",l),H&1&&i!==(i=C[0].title+"")&&j(u,i),H&1&&c!==(c=C[0].title)&&f(a,"title",c),H&1&&T!==(T=me.format(new Date(C[0].publishedAt))+"")&&j(M,T),H&1&&R!==(R=C[0].description+"")&&j(_,R),H&1&&I!==(I="https://www.youtube.com/watch?v="+C[0].videoId)&&f(e,"href",I)},i:L,o:L,d(C){C&&m(e),q=!1,oe()}}}function St(s,e,n){let{video:t}=e;function l(){ee.set(t.videoId)}return s.$$set=o=>{"video"in o&&n(0,t=o.video)},[t,l]}class Tt extends E{constructor(e){super();D(this,e,St,kt,U,{video:0})}}const Ue="Not Modified";function Pt(s,e){if(e){const n=new URLSearchParams(e);return`${s}?${n}`}else return s}function J(s,e={}){const n=Pt("https://www.googleapis.com"+s,e.query);return e.headers=new Headers(e.headers),e.headers.append("Authorization","Bearer "+gapi.auth.getToken().access_token),e.etag&&e.headers.append("If-None-Match",e.etag),new Request(n,e)}async function se(s,e={}){typeof s=="string"&&(s=J(s,e));const n=await fetch(s);if(n.status===304)throw Ue;if(!n.ok)throw n;return n}async function qe(s,e){const n=`boundary${Date.now()}`,t="/batch"+s,l=await se(t,{method:"POST",headers:{"Content-Type":`multipart/mixed; boundary=${n}`},body:await At(e,n)});return Nt(l)}async function At(s,e){let n=[];for(const[t,l]of s){if(n.push(`--${e}`),n.push("Content-Type: application/http"),n.push(`Content-ID: ${t}`),l.bodyUsed&&n.push(`Content-Length: ${(await l.blob()).size}`),n.push(""),n.push(`${l.method} ${l.url}`),l.headers)for(const[o,r]of l.headers.entries())n.push(`${o}: ${r}`);l.bodyUsed&&(n.push(""),n.push(await l.text()))}return n.push(`--${e}--`),n.join(`\r
`)}async function Nt(s){const e=s.headers.get("Content-Type").match(/^multipart\/mixed; boundary=(.+)$/)[1],t=(await s.text()).split(new RegExp(`\r
--${e}(?:--)?\r
`,"g")).slice(1,-1),l=new Map;for(const o of t){const[r,a,i]=o.split(`\r
\r
`,3),c=ge(r).get("Content-ID").match(/^response-(.+)$/)[1],[h,p]=a.split(`\r
`,2),[T,M,v]=h.split(" ",3),N=ge(p),R=i.length===0?null:i,_=new Response(R,{status:parseInt(M,10),statusText:v,headers:N});l.set(c,_)}return l}function ge(s){const e=new Headers;for(const n of s.split(`\r
`)){const[t,l]=n.split(": ");e.append(t,l)}return e}async function Lt(s){let e=await _e({etag:s});const n=e.etag,t=[e.items];for(;e.nextPageToken;)e=await _e({pageToken:e.nextPageToken}),t.push(e.items);return{etag:n,items:t}}async function _e(s={}){return(await se(Et(s))).json()}function Et(s={}){return J("/youtube/v3/subscriptions",G({method:"GET",query:G({part:"snippet",fields:"etag,items(snippet(title,resourceId/channelId)),nextPageToken",mine:"true",maxResults:"50"},s.pageToken&&{pageToken:s.pageToken})},s.etag&&{etag:s.etag}))}async function Dt(s){const e=new Map(s.map((l,o)=>[`${o}`,Ut(l)])),n=await qe("/youtube/v3",e),t=await Promise.all(Array.from(n.values()).map(l=>l.json()));return new Map(t.flatMap(l=>l.items.map(o=>[o.id,o])))}function Ut(s){return J("/youtube/v3/channels",{method:"GET",query:{part:"contentDetails",fields:"items(id,contentDetails/relatedPlaylists/uploads)",id:s.map(e=>e.snippet.resourceId.channelId).join(","),maxResults:"50"}})}async function qt(s){const e=new Map(s.items.map(t=>[t.uploadsPlaylistId,Ce(t,!0)])),n=await qe("/youtube/v3",e);await Promise.all(s.items.map(t=>Re(t,n.get(t.uploadsPlaylistId),!0)))}async function Ct(s){const e=await se(Ce(s,!1));await Re(s,e,!1)}function Ce(s,e){return J("/youtube/v3/playlistItems",G({method:"GET",query:G({part:"snippet",fields:"etag,items(snippet(title,description,publishedAt,thumbnails/medium/url,resourceId/videoId)),nextPageToken",playlistId:s.uploadsPlaylistId,maxResults:"50"},!e&&s.nextUploadPageToken&&{pageToken:s.nextUploadPageToken})},e&&s.uploadsEtag&&{etag:s.uploadsEtag}))}async function Re(s,e,n){if(n){if(s.uploadsEtag&&e.status===304)return;vt(s)}if(!e.ok)throw e;wt(s,await e.json())}function $e(s,e,n){const t=s.slice();return t[6]=e[n],t}function be(s){let e,n,t,l,o;return{c(){e=g("a"),n=A("\u{1F782}"),f(e,"class","float-right pl-2 pr-2 -ml-8"),f(e,"href",t="https://www.youtube.com/watch?v="+s[0].uploads[0].videoId+"&list="+s[0].uploadsPlaylistId)},m(r,a){d(r,e,a),$(e,n),l||(o=z(e,"click",Te(s[1])),l=!0)},p(r,a){a&1&&t!==(t="https://www.youtube.com/watch?v="+r[0].uploads[0].videoId+"&list="+r[0].uploadsPlaylistId)&&f(e,"href",t)},d(r){r&&m(e),l=!1,o()}}}function Ie(s,e){let n,t,l;return t=new Tt({props:{video:e[6]}}),{key:s,first:null,c(){n=W(),y(t.$$.fragment),this.first=n},m(o,r){d(o,n,r),k(t,o,r),l=!0},p(o,r){e=o;const a={};r&1&&(a.video=e[6]),t.$set(a)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){w(t.$$.fragment,o),l=!1},d(o){o&&m(n),S(t,o)}}}function Rt(s){let e,n,t,l=s[0].title+"",o,r,a,i,u,c=[],h=new Map,p,T,M,v=s[0].uploads.length>0&&be(s),N=s[0].uploads;const R=_=>_[6].videoId;for(let _=0;_<N.length;_+=1){let I=$e(s,N,_),q=R(I);h.set(q,c[_]=Ie(q,I))}return{c(){e=g("div"),n=g("p"),t=g("a"),o=A(l),a=P(),v&&v.c(),i=P(),u=g("div");for(let _=0;_<c.length;_+=1)c[_].c();f(t,"href",r="https://www.youtube.com/channel/"+s[0].channelId),f(n,"class","text-center font-bold h-8"),f(u,"class","overflow-y-scroll overflow-x-hidden svelte-10twfte"),K(u,"height","calc(100% - 1.5rem)"),f(e,"class","inline-block h-full bg-neutral-800 p-1 ml-1 mr-1 rounded-2xl svelte-10twfte")},m(_,I){d(_,e,I),$(e,n),$(n,t),$(t,o),$(n,a),v&&v.m(n,null),$(e,i),$(e,u);for(let q=0;q<c.length;q+=1)c[q].m(u,null);p=!0,T||(M=[z(u,"wheel",Be(s[3]),{passive:!0}),z(u,"scroll",s[2])],T=!0)},p(_,[I]){(!p||I&1)&&l!==(l=_[0].title+"")&&j(o,l),(!p||I&1&&r!==(r="https://www.youtube.com/channel/"+_[0].channelId))&&f(t,"href",r),_[0].uploads.length>0?v?v.p(_,I):(v=be(_),v.c(),v.m(n,null)):v&&(v.d(1),v=null),I&1&&(N=_[0].uploads,F(),c=Pe(c,I,R,1,_,N,h,u,Ae,Ie,null,$e),Y())},i(_){if(!p){for(let I=0;I<N.length;I+=1)b(c[I]);p=!0}},o(_){for(let I=0;I<c.length;I+=1)w(c[I]);p=!1},d(_){_&&m(e),v&&v.d();for(let I=0;I<c.length;I+=1)c[I].d();T=!1,Ne(M)}}}function Mt(s,e,n){let{subscription:t}=e,l;function o(){te.set(t.uploadsPlaylistId)}function r(u){const c=u.target;c.scrollHeight-c.scrollTop-122<=c.clientHeight&&a()}async function a(){t.nextUploadPageToken&&t.nextUploadPageToken!==l&&(l=t.nextUploadPageToken,await Ct(t),n(0,t))}function i(u){ke.call(this,s,u)}return s.$$set=u=>{"subscription"in u&&n(0,t=u.subscription)},[t,o,r,i]}class Ht extends E{constructor(e){super();D(this,e,Mt,Rt,U,{subscription:0})}}function zt(s){let e,n,t,l;const o=s[4].default,r=O(o,s,s[3],null);return{c(){e=g("div"),r&&r.c(),f(e,"class","w-full h-full overflow-x-scroll svelte-1ekfizo")},m(a,i){d(a,e,i),r&&r.m(e,null),s[5](e),n=!0,t||(l=[z(e,"wheel",s[1],{passive:!0}),z(e,"scroll",s[2])],t=!0)},p(a,[i]){r&&r.p&&(!n||i&8)&&B(r,o,a,a[3],n?x(o,a[3],i,null):V(a[3]),null)},i(a){n||(b(r,a),n=!0)},o(a){w(r,a),n=!1},d(a){a&&m(e),r&&r.d(a),s[5](null),t=!1,Ne(l)}}}const we=100;function jt(s,e,n){let{$$slots:t={},$$scope:l}=e,o;const r=Ve(0,{duration:we});let a=!1,i;X(r.subscribe(p=>{a&&n(0,o.scrollLeft=p,o)}));function u(p){p.deltaX||(a=!0,r.update(T=>Math.max(0,Math.min(T+p.deltaY,o.scrollWidth-o.clientWidth))))}function c(){clearTimeout(i),i=setTimeout(()=>{a=!1,r.set(o.scrollLeft,{duration:0})},we)}function h(p){xe[p?"unshift":"push"](()=>{o=p,n(0,o)})}return s.$$set=p=>{"$$scope"in p&&n(3,l=p.$$scope)},[o,u,c,l,t,h]}class Gt extends E{constructor(e){super();D(this,e,jt,zt,U,{})}}function ve(s,e,n){const t=s.slice();return t[4]=e[n],t}function Ot(s){let e,n=s[7]+"",t;return{c(){e=g("p"),t=A(n),f(e,"class","text-center")},m(l,o){d(l,e,o),$(e,t)},p:L,i:L,o:L,d(l){l&&m(e)}}}function Bt(s){let e,n,t;return n=new Gt({props:{$$slots:{default:[Vt]},$$scope:{ctx:s}}}),{c(){e=g("div"),y(n.$$.fragment),f(e,"class","w-full"),K(e,"height","calc(100% - 6px)")},m(l,o){d(l,e,o),k(n,e,null),t=!0},p(l,o){const r={};o&256&&(r.$$scope={dirty:o,ctx:l}),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){w(n.$$.fragment,l),t=!1},d(l){l&&m(e),S(n)}}}function ye(s,e){let n,t,l;return t=new Ht({props:{subscription:e[4]}}),{key:s,first:null,c(){n=W(),y(t.$$.fragment),this.first=n},m(o,r){d(o,n,r),k(t,o,r),l=!0},p(o,r){e=o},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){w(t.$$.fragment,o),l=!1},d(o){o&&m(n),S(t,o)}}}function Vt(s){let e,n=[],t=new Map,l,o=s[3].items;const r=a=>a[4].uploadsPlaylistId;for(let a=0;a<o.length;a+=1){let i=ve(s,o,a),u=r(i);t.set(u,n[a]=ye(u,i))}return{c(){e=g("div");for(let a=0;a<n.length;a+=1)n[a].c();f(e,"class","w-max h-full")},m(a,i){d(a,e,i);for(let u=0;u<n.length;u+=1)n[u].m(e,null);l=!0},p(a,i){i&1&&(o=a[3].items,F(),n=Pe(n,i,r,1,a,o,t,e,Ae,ye,null,ve),Y())},i(a){if(!l){for(let i=0;i<o.length;i+=1)b(n[i]);l=!0}},o(a){for(let i=0;i<n.length;i+=1)w(n[i]);l=!1},d(a){a&&m(e);for(let i=0;i<n.length;i+=1)n[i].d()}}}function xt(s){let e,n;return e=new De({}),{c(){y(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:L,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ft(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:xt,then:Bt,catch:Ot,value:3,error:7,blocks:[,,,]};return Le(s[0](),t),{c(){e=W(),t.block.c()},m(l,o){d(l,e,o),t.block.m(l,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(l,[o]){s=l,Ee(t,s,o)},i(l){n||(b(t.block),n=!0)},o(l){for(let o=0;o<3;o+=1){const r=t.blocks[o];w(r)}n=!1},d(l){l&&m(e),t.block.d(l),t.token=null,t=null}}}function Yt(s,e,n){let t;Fe(s,he,r=>n(1,t=r));async function l(){const r=await o();return await qt(r),Ye(he,t=r,t),r}async function o(){const r=t;try{const a=await Lt(r==null?void 0:r.etag),i=await Dt(a.items);return yt(a,i)}catch(a){if(r&&a===Ue)return r;throw a}}return[l]}class Wt extends E{constructor(e){super();D(this,e,Yt,Ft,U,{})}}function Kt(s){let e,n,t,l,o;return{c(){e=g("div"),e.innerHTML='<div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20"><div id="player"></div></div>',f(e,"class","fixed top-0 bottom-0 left-0 right-0 z-10 svelte-yxae1v"),K(e,"background-color","rgba(0, 0, 0, 0.8)"),ue(e,"visuallyHidden",s[0])},m(r,a){d(r,e,a),t=!0,l||(o=z(e,"click",We(s[4])),l=!0)},p(r,[a]){a&1&&ue(e,"visuallyHidden",r[0])},i(r){t||(Ke(()=>{n||(n=ce(e,fe,{duration:100},!0)),n.run(1)}),t=!0)},o(r){n||(n=ce(e,fe,{duration:100},!1)),n.run(0),t=!1},d(r){r&&m(e),r&&n&&n.end(),l=!1,o()}}}function Jt(s,e,n){var t;(function(u){u[u.UNINITIALISED=0]="UNINITIALISED",u[u.INITIALISING=1]="INITIALISING",u[u.INITIALISED=2]="INITIALISED"})(t||(t={}));let l=!0,o,r=t.UNINITIALISED;function a(u){if(r===t.UNINITIALISED){n(3,r=t.INITIALISING);const c={width:"1280",height:"720",playerVars:{autohide:1,autoplay:1,playsinline:1},events:{onReady:()=>n(3,r=t.INITIALISED),onStateChange:h=>{l&&(h.data===YT.PlayerState.BUFFERING||h.data===YT.PlayerState.PLAYING)&&n(0,l=!1)}}};u.videoId?c.videoId=u.videoId:u.playlistId&&(c.playerVars.listType="playlist",c.playerVars.list=u.playlistId),n(2,o=new YT.Player("player",c)),n(0,l=!1)}else r===t.INITIALISING?setTimeout(()=>a(u),100):r===t.INITIALISED&&(u.videoId?o.loadVideoById(u.videoId):u.playlistId&&o.loadPlaylist({listType:"playlist",list:u.playlistId}))}X(ee.subscribe(u=>{u&&(ee.set(null),a({videoId:u}))})),X(te.subscribe(u=>{u&&(te.set(null),a({playlistId:u}))}));const i=()=>n(0,l=!0);return s.$$.update=()=>{s.$$.dirty&15&&r===t.INITIALISED&&l&&o.stopVideo()},[l,t,o,r,i]}class Qt extends E{constructor(e){super();D(this,e,Jt,Kt,U,{})}}function Xt(s){let e,n=s[5]+"",t;return{c(){e=g("p"),t=A(n),f(e,"class","text-center")},m(l,o){d(l,e,o),$(e,t)},p:L,i:L,o:L,d(l){l&&m(e)}}}function Zt(s){let e,n,t,l;const o=[tn,en],r=[];function a(i,u){return i[1]?0:1}return e=a(s),n=r[e]=o[e](s),{c(){n.c(),t=W()},m(i,u){r[e].m(i,u),d(i,t,u),l=!0},p(i,u){let c=e;e=a(i),e===c?r[e].p(i,u):(F(),w(r[c],1,1,()=>{r[c]=null}),Y(),n=r[e],n?n.p(i,u):(n=r[e]=o[e](i),n.c()),b(n,1),n.m(t.parentNode,t))},i(i){l||(b(n),l=!0)},o(i){w(n),l=!1},d(i){r[e].d(i),i&&m(t)}}}function en(s){let e,n;return e=new ut({props:{isSignedIn:s[0]}}),{c(){y(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.isSignedIn=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function tn(s){let e,n,t,l;return e=new Qt({}),t=new Wt({}),{c(){y(e.$$.fragment),n=P(),y(t.$$.fragment)},m(o,r){k(e,o,r),d(o,n,r),k(t,o,r),l=!0},p:L,i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){w(e.$$.fragment,o),w(t.$$.fragment,o),l=!1},d(o){S(e,o),o&&m(n),S(t,o)}}}function nn(s){let e,n;return e=new De({}),{c(){y(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:L,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ln(s){let e,n,t,l,o;n=new $t({props:{isSignedIn:s[0]}});let r={ctx:s,current:null,token:null,hasCatch:!0,pending:nn,then:Zt,catch:Xt,value:4,error:5,blocks:[,,,]};return Le(s[2](),r),{c(){e=g("main"),y(n.$$.fragment),t=P(),l=g("section"),r.block.c(),K(l,"height","calc(100% - 3rem)"),f(e,"class","w-screen h-screen bg-neutral-700 text-white")},m(a,i){d(a,e,i),k(n,e,null),$(e,t),$(e,l),r.block.m(l,r.anchor=null),r.mount=()=>l,r.anchor=null,o=!0},p(a,[i]){s=a;const u={};i&1&&(u.isSignedIn=s[0]),n.$set(u),Ee(r,s,i)},i(a){o||(b(n.$$.fragment,a),b(r.block),o=!0)},o(a){w(n.$$.fragment,a);for(let i=0;i<3;i+=1){const u=r.blocks[i];w(u)}o=!1},d(a){a&&m(e),S(n),r.block.d(),r.token=null,r=null}}}const Q="https://www.googleapis.com/auth/youtube.readonly https://www.googleapis.com/auth/drive.appdata";function sn(s,e,n){let t,l;function o(){return new Promise((a,i)=>{gapi.load("client:auth2",()=>r().then(()=>a()).catch(u=>i(u)))})}async function r(){await gapi.client.init({apiKey:"AIzaSyBAHcJ9fPTrCjDExl1NZkF4fZd15fICEFI",clientId:"789354109817-qrqoqtfj1k3gvs01gufrpqlv38g0bi9p.apps.googleusercontent.com",scope:Q});const a=gapi.auth2.getAuthInstance();n(0,t=a.isSignedIn.get()),a.isSignedIn.listen(i=>n(0,t=i)),n(1,l=a.currentUser.get().hasGrantedScopes(Q)),a.currentUser.listen(i=>n(1,l=i.hasGrantedScopes(Q)))}return[t,l,o]}class on extends E{constructor(e){super();D(this,e,sn,ln,U,{})}}new on({target:document.getElementById("app")});
