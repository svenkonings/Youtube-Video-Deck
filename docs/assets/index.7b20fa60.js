var Ce=Object.defineProperty;var re=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var Q=(l,e,n)=>e in l?Ce(l,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[e]=n,Z=(l,e)=>{for(var n in e||(e={}))Re.call(e,n)&&Q(l,n,e[n]);if(re)for(var n of re(e))He.call(e,n)&&Q(l,n,e[n]);return l};var A=(l,e,n)=>(Q(l,typeof e!="symbol"?e+"":e,n),n);import{S as D,i as E,s as q,c as O,e as _,a as P,b as f,d,f as $,u as B,g as V,h as x,t as b,j as w,k as m,l as y,m as k,n as S,o as j,p as ye,q as N,r as G,v as F,w as Y,T as ke,x as Me,y as Se,z as ae,A as Te,B as U,C as K,D as W,E as ze,F as Ae,G as Pe,H as Ne,I as ee,J as je,K as Ge,L as Le,M as Ue,N as ue,O as Oe,P as Be,Q as ce,R as fe}from"./vendor.f1eeca2f.js";const Ve=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}};Ve();const xe=l=>({}),pe=l=>({});function Fe(l){let e,n,t,s;const i=l[1].inline,o=O(i,l,l[0],pe),r=l[1].default,a=O(r,l,l[0],null);return{c(){e=_("div"),o&&o.c(),n=P(),t=_("div"),a&&a.c(),f(t,"class","absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 text-center"),f(e,"class","relative w-full h-full")},m(u,c){d(u,e,c),o&&o.m(e,null),$(e,n),$(e,t),a&&a.m(t,null),s=!0},p(u,[c]){o&&o.p&&(!s||c&1)&&B(o,i,u,u[0],s?x(i,u[0],c,xe):V(u[0]),pe),a&&a.p&&(!s||c&1)&&B(a,r,u,u[0],s?x(r,u[0],c,null):V(u[0]),null)},i(u){s||(b(o,u),b(a,u),s=!0)},o(u){w(o,u),w(a,u),s=!1},d(u){u&&m(e),o&&o.d(u),a&&a.d(u)}}}function Ye(l,e,n){let{$$slots:t={},$$scope:s}=e;return l.$$set=i=>{"$$scope"in i&&n(0,s=i.$$scope)},[s,t]}class le extends D{constructor(e){super();E(this,e,Ye,Fe,q,{})}}function Ke(l){let e,n,t,s,i;return{c(){e=_("span"),n=P(),t=_("br"),s=P(),i=_("span"),i.textContent="Loading\u2026",f(e,"class","loader svelte-gg29y1"),f(i,"class","font-extrabold")},m(o,r){d(o,e,r),d(o,n,r),d(o,t,r),d(o,s,r),d(o,i,r)},d(o){o&&m(e),o&&m(n),o&&m(t),o&&m(s),o&&m(i)}}}function We(l){let e,n;return e=new le({props:{$$slots:{default:[Ke]},$$scope:{ctx:l}}}),{c(){y(e.$$.fragment)},m(t,s){k(e,t,s),n=!0},p(t,[s]){const i={};s&1&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}class De extends D{constructor(e){super();E(this,e,null,We,q,{})}}function Je(l){let e,n,t,s,i;const o=l[2].default,r=O(o,l,l[1],null);return{c(){e=_("button"),r&&r.c(),f(e,"class",n="bg-blue-600 text-white p-1.5 rounded-2xl hover:bg-blue-700 "+l[0])},m(a,u){d(a,e,u),r&&r.m(e,null),t=!0,s||(i=j(e,"click",l[3]),s=!0)},p(a,[u]){r&&r.p&&(!t||u&2)&&B(r,o,a,a[1],t?x(o,a[1],u,null):V(a[1]),null),(!t||u&1&&n!==(n="bg-blue-600 text-white p-1.5 rounded-2xl hover:bg-blue-700 "+a[0]))&&f(e,"class",n)},i(a){t||(b(r,a),t=!0)},o(a){w(r,a),t=!1},d(a){a&&m(e),r&&r.d(a),s=!1,i()}}}function Qe(l,e,n){let{$$slots:t={},$$scope:s}=e,{class:i=""}=e;function o(r){ye.call(this,l,r)}return l.$$set=r=>{"class"in r&&n(0,i=r.class),"$$scope"in r&&n(1,s=r.$$scope)},[i,s,t,o]}class te extends D{constructor(e){super();E(this,e,Qe,Je,q,{class:0})}}function Ze(l){let e=l[0]?"Authorize":"Sign in",n;return{c(){n=N(e)},m(t,s){d(t,n,s)},p(t,s){s&1&&e!==(e=t[0]?"Authorize":"Sign in")&&G(n,e)},d(t){t&&m(n)}}}function Xe(l){let e,n,t=l[0]?"authorize this app":"sign in",s,i,o,r,a,u,c;return u=new te({props:{class:"w-full",$$slots:{default:[Ze]},$$scope:{ctx:l}}}),u.$on("click",tt),{c(){e=_("p"),n=N("Please "),s=N(t),i=N(" to continue"),o=P(),r=_("br"),a=P(),y(u.$$.fragment)},m(h,p){d(h,e,p),$(e,n),$(e,s),$(e,i),d(h,o,p),d(h,r,p),d(h,a,p),k(u,h,p),c=!0},p(h,p){(!c||p&1)&&t!==(t=h[0]?"authorize this app":"sign in")&&G(s,t);const T={};p&3&&(T.$$scope={dirty:p,ctx:h}),u.$set(T)},i(h){c||(b(u.$$.fragment,h),c=!0)},o(h){w(u.$$.fragment,h),c=!1},d(h){h&&m(e),h&&m(o),h&&m(r),h&&m(a),S(u,h)}}}function et(l){let e,n;return e=new le({props:{$$slots:{default:[Xe]},$$scope:{ctx:l}}}),{c(){y(e.$$.fragment)},m(t,s){k(e,t,s),n=!0},p(t,[s]){const i={};s&3&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function tt(){return gapi.auth2.getAuthInstance().signIn()}function nt(l,e,n){let{isSignedIn:t}=e;return l.$$set=s=>{"isSignedIn"in s&&n(0,t=s.isSignedIn)},[t]}class st extends D{constructor(e){super();E(this,e,nt,et,q,{isSignedIn:0})}}function lt(l){let e;return{c(){e=_("a"),e.textContent="Youtube Video Deck",f(e,"class","font-extrabold"),f(e,"href","#")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function de(l){let e,n,t,s;return e=new te({props:{class:"w-36 m-1",$$slots:{default:[it]},$$scope:{ctx:l}}}),e.$on("click",ut),t=new te({props:{class:"w-36 m-1",$$slots:{default:[ot]},$$scope:{ctx:l}}}),t.$on("click",ct),{c(){y(e.$$.fragment),n=P(),y(t.$$.fragment)},m(i,o){k(e,i,o),d(i,n,o),k(t,i,o),s=!0},p(i,o){const r={};o&2&&(r.$$scope={dirty:o,ctx:i}),e.$set(r);const a={};o&2&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){s||(b(e.$$.fragment,i),b(t.$$.fragment,i),s=!0)},o(i){w(e.$$.fragment,i),w(t.$$.fragment,i),s=!1},d(i){S(e,i),i&&m(n),S(t,i)}}}function it(l){let e;return{c(){e=N("Sign out")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function ot(l){let e;return{c(){e=N("Revoke access")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function rt(l){let e,n,t=l[0]&&de(l);return{c(){e=_("div"),t&&t.c(),f(e,"slot","inline"),f(e,"class","float-right p-1")},m(s,i){d(s,e,i),t&&t.m(e,null),n=!0},p(s,i){s[0]?t?(t.p(s,i),i&1&&b(t,1)):(t=de(s),t.c(),b(t,1),t.m(e,null)):t&&(F(),w(t,1,1,()=>{t=null}),Y())},i(s){n||(b(t),n=!0)},o(s){w(t),n=!1},d(s){s&&m(e),t&&t.d()}}}function at(l){let e,n,t;return n=new le({props:{$$slots:{inline:[rt],default:[lt]},$$scope:{ctx:l}}}),{c(){e=_("header"),y(n.$$.fragment),f(e,"class","h-12")},m(s,i){d(s,e,i),k(n,e,null),t=!0},p(s,[i]){const o={};i&3&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){t||(b(n.$$.fragment,s),t=!0)},o(s){w(n.$$.fragment,s),t=!1},d(s){s&&m(e),S(n)}}}function ut(){gapi.auth2.getAuthInstance().signOut()}function ct(){gapi.auth2.getAuthInstance().disconnect()}function ft(l,e,n){let{isSignedIn:t}=e;return l.$$set=s=>{"isSignedIn"in s&&n(0,t=s.isSignedIn)},[t]}class pt extends D{constructor(e){super();E(this,e,ft,at,q,{isSignedIn:0})}}class dt{constructor(e){A(this,"title");A(this,"description");A(this,"publishedAt");A(this,"thumbnailUrl");A(this,"videoId");this.title=e.snippet.title,this.description=e.snippet.description.substring(0,313),this.publishedAt=e.snippet.publishedAt,this.thumbnailUrl=e.snippet.thumbnails.medium.url,this.videoId=e.snippet.resourceId.videoId}}class mt{constructor(e,n){A(this,"channelId");A(this,"title");A(this,"uploadsPlaylistId");A(this,"uploadsEtag");A(this,"nextUploadPageToken");A(this,"uploads");this.channelId=e.snippet.resourceId.channelId,this.title=e.snippet.title,this.uploadsPlaylistId=n.contentDetails.relatedPlaylists.uploads,this.uploads=[]}addUploads(e){this.uploadsEtag==null&&(this.uploadsEtag=e.etag),this.nextUploadPageToken=e.nextPageToken,e.items.forEach(n=>this.uploads.push(new dt(n)))}}class ht{constructor(e,n){A(this,"etag");A(this,"items");this.etag=e.etag,this.items=e.items.flatMap(t=>t.map(s=>{const i=n.get(s.snippet.resourceId.channelId);return new mt(s,i)}))}}ke.addDefaultLocale(Me);const me=new ke("en-US"),ne=Se(),se=Se();function _t(l){let e,n,t,s,i,o,r,a=l[0].title+"",u,c,h,p,T=me.format(new Date(l[0].publishedAt))+"",M,v,L,H=l[0].description+"",g,I,C,oe;return{c(){e=_("a"),n=_("div"),t=_("img"),i=P(),o=_("div"),r=_("p"),u=N(a),h=P(),p=_("p"),M=N(T),v=P(),L=_("p"),g=N(H),ae(t.src,s=l[0].thumbnailUrl)||f(t,"src",s),f(t,"alt",""),f(n,"class","inline-block w-image align-text-bottom p-1 svelte-tmjg5a"),f(r,"class","font-bold w-text truncate-line svelte-tmjg5a"),f(r,"title",c=l[0].title),f(p,"class","text-neutral-400"),f(L,"class","text-ellipsis truncate-lines svelte-tmjg5a"),f(o,"class","inline-block w-text align-top text-sm svelte-tmjg5a"),f(e,"class","block w-card bg-neutral-600 p-2 m-2 rounded-2xl svelte-tmjg5a"),f(e,"href",I="https://www.youtube.com/watch?v="+l[0].videoId)},m(R,z){d(R,e,z),$(e,n),$(n,t),$(e,i),$(e,o),$(o,r),$(r,u),$(o,h),$(o,p),$(p,M),$(o,v),$(o,L),$(L,g),C||(oe=j(e,"click",Te(l[1])),C=!0)},p(R,[z]){z&1&&!ae(t.src,s=R[0].thumbnailUrl)&&f(t,"src",s),z&1&&a!==(a=R[0].title+"")&&G(u,a),z&1&&c!==(c=R[0].title)&&f(r,"title",c),z&1&&T!==(T=me.format(new Date(R[0].publishedAt))+"")&&G(M,T),z&1&&H!==(H=R[0].description+"")&&G(g,H),z&1&&I!==(I="https://www.youtube.com/watch?v="+R[0].videoId)&&f(e,"href",I)},i:U,o:U,d(R){R&&m(e),C=!1,oe()}}}function gt(l,e,n){let{video:t}=e;function s(){ne.set(t.videoId)}return l.$$set=i=>{"video"in i&&n(0,t=i.video)},[t,s]}class $t extends D{constructor(e){super();E(this,e,gt,_t,q,{video:0})}}function bt(l,e){if(e){const n=new URLSearchParams(e);return`${l}?${n}`}else return l}function J(l,e={}){const n=bt("https://www.googleapis.com"+l,e.query);return e.headers=new Headers(e.headers),e.headers.append("Authorization","Bearer "+gapi.auth.getToken().access_token),new Request(n,e)}async function ie(l,e={}){typeof l=="string"&&(l=J(l,e));const n=await fetch(l);if(!n.ok)throw n;return n}async function Ee(l,e){const n=`boundary${Date.now()}`,t="/batch"+l,s=await ie(t,{method:"POST",headers:{"Content-Type":`multipart/mixed; boundary=${n}`},body:await It(e,n)});return wt(s)}async function It(l,e){let n=[];for(const[t,s]of l){if(n.push(`--${e}`),n.push("Content-Type: application/http"),n.push(`Content-ID: ${t}`),s.bodyUsed&&n.push(`Content-Length: ${(await s.blob()).size}`),n.push(""),n.push(`${s.method} ${s.url}`),s.headers)for(const[i,o]of s.headers.entries())n.push(`${i}: ${o}`);s.bodyUsed&&(n.push(""),n.push(await s.text()))}return n.push(`--${e}--`),n.join(`\r
`)}async function wt(l){const e=l.headers.get("Content-Type").match(/^multipart\/mixed; boundary=(.+)$/)[1],t=(await l.text()).split(new RegExp(`\r
--${e}(?:--)?\r
`,"g")).slice(1,-1),s=new Map;for(const i of t){const[o,r,a]=i.split(`\r
\r
`,3),c=he(o).get("Content-ID").match(/^response-(.+)$/)[1],[h,p]=r.split(`\r
`,2),[T,M,v]=h.split(" ",3),L=he(p),H=new Response(a,{status:parseInt(M,10),statusText:v,headers:L});s.set(c,H)}return s}function he(l){const e=new Headers;for(const n of l.split(`\r
`)){const[t,s]=n.split(": ");e.append(t,s)}return e}async function vt(){let l=await _e();const e=l.etag,n=[l.items];for(;l.nextPageToken;)l=await _e(l.nextPageToken),n.push(l.items);return{etag:e,items:n}}function _e(l){return ie(yt(l)).then(e=>e.json())}function yt(l){return J("/youtube/v3/subscriptions",{method:"GET",query:Z({part:"snippet",fields:"etag,items(snippet(title,resourceId/channelId)),nextPageToken",mine:"true",maxResults:"50"},l&&{pageToken:l})})}async function kt(l){const e=new Map(l.map((s,i)=>[`${i}`,St(s)])),n=await Ee("/youtube/v3",e),t=await Promise.all(Array.from(n.values()).map(s=>s.json()));return new Map(t.flatMap(s=>s.items.map(i=>[i.id,i])))}function St(l){return J("/youtube/v3/channels",{method:"GET",query:{part:"contentDetails",fields:"items(id,contentDetails/relatedPlaylists/uploads)",id:l.map(e=>e.snippet.resourceId.channelId).join(","),maxResults:"50"}})}async function Tt(l){const e=new Map(l.items.map(t=>[t.uploadsPlaylistId,qe(t)])),n=await Ee("/youtube/v3",e);await Promise.all(l.items.map(async t=>t.addUploads(await n.get(t.uploadsPlaylistId).json())))}async function At(l){const n=await(await ie(qe(l))).json();l.addUploads(n)}function qe(l){return J("/youtube/v3/playlistItems",{method:"GET",query:Z({part:"snippet",fields:"etag,items(snippet(title,description,publishedAt,thumbnails/medium/url,resourceId/videoId)),nextPageToken",playlistId:l.uploadsPlaylistId,maxResults:"50"},l.nextUploadPageToken&&{pageToken:l.nextUploadPageToken})})}function ge(l,e,n){const t=l.slice();return t[6]=e[n],t}function $e(l){let e,n,t,s,i;return{c(){e=_("a"),n=N("\u{1F782}"),f(e,"class","float-right pl-2 pr-2 -ml-8"),f(e,"href",t="https://www.youtube.com/watch?v="+l[0].uploads[0].videoId+"&list="+l[0].uploadsPlaylistId)},m(o,r){d(o,e,r),$(e,n),s||(i=j(e,"click",Te(l[1])),s=!0)},p(o,r){r&1&&t!==(t="https://www.youtube.com/watch?v="+o[0].uploads[0].videoId+"&list="+o[0].uploadsPlaylistId)&&f(e,"href",t)},d(o){o&&m(e),s=!1,i()}}}function be(l,e){let n,t,s;return t=new $t({props:{video:e[6]}}),{key:l,first:null,c(){n=K(),y(t.$$.fragment),this.first=n},m(i,o){d(i,n,o),k(t,i,o),s=!0},p(i,o){e=i;const r={};o&1&&(r.video=e[6]),t.$set(r)},i(i){s||(b(t.$$.fragment,i),s=!0)},o(i){w(t.$$.fragment,i),s=!1},d(i){i&&m(n),S(t,i)}}}function Pt(l){let e,n,t,s=l[0].title+"",i,o,r,a,u,c=[],h=new Map,p,T,M,v=l[0].uploads.length>0&&$e(l),L=l[0].uploads;const H=g=>g[6].videoId;for(let g=0;g<L.length;g+=1){let I=ge(l,L,g),C=H(I);h.set(C,c[g]=be(C,I))}return{c(){e=_("div"),n=_("p"),t=_("a"),i=N(s),r=P(),v&&v.c(),a=P(),u=_("div");for(let g=0;g<c.length;g+=1)c[g].c();f(t,"href",o="https://www.youtube.com/channel/"+l[0].channelId),f(n,"class","text-center font-bold h-8"),f(u,"class","overflow-y-scroll overflow-x-hidden svelte-10twfte"),W(u,"height","calc(100% - 1.5rem)"),f(e,"class","inline-block h-full bg-neutral-800 p-1 ml-1 mr-1 rounded-2xl svelte-10twfte")},m(g,I){d(g,e,I),$(e,n),$(n,t),$(t,i),$(n,r),v&&v.m(n,null),$(e,a),$(e,u);for(let C=0;C<c.length;C+=1)c[C].m(u,null);p=!0,T||(M=[j(u,"wheel",ze(l[3]),{passive:!0}),j(u,"scroll",l[2])],T=!0)},p(g,[I]){(!p||I&1)&&s!==(s=g[0].title+"")&&G(i,s),(!p||I&1&&o!==(o="https://www.youtube.com/channel/"+g[0].channelId))&&f(t,"href",o),g[0].uploads.length>0?v?v.p(g,I):(v=$e(g),v.c(),v.m(n,null)):v&&(v.d(1),v=null),I&1&&(L=g[0].uploads,F(),c=Ae(c,I,H,1,g,L,h,u,Pe,be,null,ge),Y())},i(g){if(!p){for(let I=0;I<L.length;I+=1)b(c[I]);p=!0}},o(g){for(let I=0;I<c.length;I+=1)w(c[I]);p=!1},d(g){g&&m(e),v&&v.d();for(let I=0;I<c.length;I+=1)c[I].d();T=!1,Ne(M)}}}function Nt(l,e,n){let{subscription:t}=e,s;function i(){se.set(t.uploadsPlaylistId)}function o(u){const c=u.target;c.scrollHeight-c.scrollTop-122<=c.clientHeight&&r()}async function r(){t.nextUploadPageToken&&t.nextUploadPageToken!==s&&(s=t.nextUploadPageToken,await At(t),n(0,t))}function a(u){ye.call(this,l,u)}return l.$$set=u=>{"subscription"in u&&n(0,t=u.subscription)},[t,i,o,a]}class Lt extends D{constructor(e){super();E(this,e,Nt,Pt,q,{subscription:0})}}function Ut(l){let e,n,t,s;const i=l[4].default,o=O(i,l,l[3],null);return{c(){e=_("div"),o&&o.c(),f(e,"class","w-full h-full overflow-x-scroll svelte-1ekfizo")},m(r,a){d(r,e,a),o&&o.m(e,null),l[5](e),n=!0,t||(s=[j(e,"wheel",l[1],{passive:!0}),j(e,"scroll",l[2])],t=!0)},p(r,[a]){o&&o.p&&(!n||a&8)&&B(o,i,r,r[3],n?x(i,r[3],a,null):V(r[3]),null)},i(r){n||(b(o,r),n=!0)},o(r){w(o,r),n=!1},d(r){r&&m(e),o&&o.d(r),l[5](null),t=!1,Ne(s)}}}const Ie=100;function Dt(l,e,n){let{$$slots:t={},$$scope:s}=e,i;const o=je(0,{duration:Ie});let r=!1,a;ee(o.subscribe(p=>{r&&n(0,i.scrollLeft=p,i)}));function u(p){p.deltaX||(r=!0,o.update(T=>Math.max(0,Math.min(T+p.deltaY,i.scrollWidth-i.clientWidth))))}function c(){clearTimeout(a),a=setTimeout(()=>{r=!1,o.set(i.scrollLeft,{duration:0})},Ie)}function h(p){Ge[p?"unshift":"push"](()=>{i=p,n(0,i)})}return l.$$set=p=>{"$$scope"in p&&n(3,s=p.$$scope)},[i,u,c,s,t,h]}class Et extends D{constructor(e){super();E(this,e,Dt,Ut,q,{})}}function we(l,e,n){const t=l.slice();return t[3]=e[n],t}function qt(l){let e,n=l[6]+"",t;return{c(){e=_("p"),t=N(n),f(e,"class","text-center")},m(s,i){d(s,e,i),$(e,t)},p:U,i:U,o:U,d(s){s&&m(e)}}}function Ct(l){let e,n,t;return n=new Et({props:{$$slots:{default:[Rt]},$$scope:{ctx:l}}}),{c(){e=_("div"),y(n.$$.fragment),f(e,"class","w-full"),W(e,"height","calc(100% - 6px)")},m(s,i){d(s,e,i),k(n,e,null),t=!0},p(s,i){const o={};i&128&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){t||(b(n.$$.fragment,s),t=!0)},o(s){w(n.$$.fragment,s),t=!1},d(s){s&&m(e),S(n)}}}function ve(l,e){let n,t,s;return t=new Lt({props:{subscription:e[3]}}),{key:l,first:null,c(){n=K(),y(t.$$.fragment),this.first=n},m(i,o){d(i,n,o),k(t,i,o),s=!0},p(i,o){e=i},i(i){s||(b(t.$$.fragment,i),s=!0)},o(i){w(t.$$.fragment,i),s=!1},d(i){i&&m(n),S(t,i)}}}function Rt(l){let e,n=[],t=new Map,s,i=l[2].items;const o=r=>r[3].uploadsPlaylistId;for(let r=0;r<i.length;r+=1){let a=we(l,i,r),u=o(a);t.set(u,n[r]=ve(u,a))}return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","w-max h-full")},m(r,a){d(r,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);s=!0},p(r,a){a&1&&(i=r[2].items,F(),n=Ae(n,a,o,1,r,i,t,e,Pe,ve,null,we),Y())},i(r){if(!s){for(let a=0;a<i.length;a+=1)b(n[a]);s=!0}},o(r){for(let a=0;a<n.length;a+=1)w(n[a]);s=!1},d(r){r&&m(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Ht(l){let e,n;return e=new De({}),{c(){y(e.$$.fragment)},m(t,s){k(e,t,s),n=!0},p:U,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Mt(l){let e,n,t={ctx:l,current:null,token:null,hasCatch:!0,pending:Ht,then:Ct,catch:qt,value:2,error:6,blocks:[,,,]};return Le(l[0](),t),{c(){e=K(),t.block.c()},m(s,i){d(s,e,i),t.block.m(s,t.anchor=i),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(s,[i]){l=s,Ue(t,l,i)},i(s){n||(b(t.block),n=!0)},o(s){for(let i=0;i<3;i+=1){const o=t.blocks[i];w(o)}n=!1},d(s){s&&m(e),t.block.d(s),t.token=null,t=null}}}function zt(l){async function e(){const t=await n();return await Tt(t),t}async function n(){const t=await vt(),s=await kt(t.items);return new ht(t,s)}return[e]}class jt extends D{constructor(e){super();E(this,e,zt,Mt,q,{})}}function Gt(l){let e,n,t,s,i;return{c(){e=_("div"),e.innerHTML='<div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20"><div id="player"></div></div>',f(e,"class","fixed top-0 bottom-0 left-0 right-0 z-10 svelte-yxae1v"),W(e,"background-color","rgba(0, 0, 0, 0.8)"),ue(e,"visuallyHidden",l[0])},m(o,r){d(o,e,r),t=!0,s||(i=j(e,"click",Oe(l[4])),s=!0)},p(o,[r]){r&1&&ue(e,"visuallyHidden",o[0])},i(o){t||(Be(()=>{n||(n=ce(e,fe,{duration:100},!0)),n.run(1)}),t=!0)},o(o){n||(n=ce(e,fe,{duration:100},!1)),n.run(0),t=!1},d(o){o&&m(e),o&&n&&n.end(),s=!1,i()}}}function Ot(l,e,n){var t;(function(u){u[u.UNINITIALISED=0]="UNINITIALISED",u[u.INITIALISING=1]="INITIALISING",u[u.INITIALISED=2]="INITIALISED"})(t||(t={}));let s=!0,i,o=t.UNINITIALISED;function r(u){if(o===t.UNINITIALISED){n(3,o=t.INITIALISING);const c={width:"1280",height:"720",playerVars:{autohide:1,autoplay:1,playsinline:1},events:{onReady:()=>n(3,o=t.INITIALISED),onStateChange:h=>{s&&(h.data===YT.PlayerState.BUFFERING||h.data===YT.PlayerState.PLAYING)&&n(0,s=!1)}}};u.videoId?c.videoId=u.videoId:u.playlistId&&(c.playerVars.listType="playlist",c.playerVars.list=u.playlistId),n(2,i=new YT.Player("player",c)),n(0,s=!1)}else o===t.INITIALISING?setTimeout(()=>r(u),100):o===t.INITIALISED&&(u.videoId?i.loadVideoById(u.videoId):u.playlistId&&i.loadPlaylist({listType:"playlist",list:u.playlistId}))}ee(ne.subscribe(u=>{u&&(ne.set(null),r({videoId:u}))})),ee(se.subscribe(u=>{u&&(se.set(null),r({playlistId:u}))}));const a=()=>n(0,s=!0);return l.$$.update=()=>{l.$$.dirty&15&&o===t.INITIALISED&&s&&i.stopVideo()},[s,t,i,o,a]}class Bt extends D{constructor(e){super();E(this,e,Ot,Gt,q,{})}}function Vt(l){let e,n=l[5]+"",t;return{c(){e=_("p"),t=N(n),f(e,"class","text-center")},m(s,i){d(s,e,i),$(e,t)},p:U,i:U,o:U,d(s){s&&m(e)}}}function xt(l){let e,n,t,s;const i=[Yt,Ft],o=[];function r(a,u){return a[1]?0:1}return e=r(l),n=o[e]=i[e](l),{c(){n.c(),t=K()},m(a,u){o[e].m(a,u),d(a,t,u),s=!0},p(a,u){let c=e;e=r(a),e===c?o[e].p(a,u):(F(),w(o[c],1,1,()=>{o[c]=null}),Y(),n=o[e],n?n.p(a,u):(n=o[e]=i[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){s||(b(n),s=!0)},o(a){w(n),s=!1},d(a){o[e].d(a),a&&m(t)}}}function Ft(l){let e,n;return e=new st({props:{isSignedIn:l[0]}}),{c(){y(e.$$.fragment)},m(t,s){k(e,t,s),n=!0},p(t,s){const i={};s&1&&(i.isSignedIn=t[0]),e.$set(i)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Yt(l){let e,n,t,s;return e=new Bt({}),t=new jt({}),{c(){y(e.$$.fragment),n=P(),y(t.$$.fragment)},m(i,o){k(e,i,o),d(i,n,o),k(t,i,o),s=!0},p:U,i(i){s||(b(e.$$.fragment,i),b(t.$$.fragment,i),s=!0)},o(i){w(e.$$.fragment,i),w(t.$$.fragment,i),s=!1},d(i){S(e,i),i&&m(n),S(t,i)}}}function Kt(l){let e,n;return e=new De({}),{c(){y(e.$$.fragment)},m(t,s){k(e,t,s),n=!0},p:U,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Wt(l){let e,n,t,s,i;n=new pt({props:{isSignedIn:l[0]}});let o={ctx:l,current:null,token:null,hasCatch:!0,pending:Kt,then:xt,catch:Vt,value:4,error:5,blocks:[,,,]};return Le(l[2](),o),{c(){e=_("main"),y(n.$$.fragment),t=P(),s=_("section"),o.block.c(),W(s,"height","calc(100% - 3rem)"),f(e,"class","w-screen h-screen bg-neutral-700 text-white")},m(r,a){d(r,e,a),k(n,e,null),$(e,t),$(e,s),o.block.m(s,o.anchor=null),o.mount=()=>s,o.anchor=null,i=!0},p(r,[a]){l=r;const u={};a&1&&(u.isSignedIn=l[0]),n.$set(u),Ue(o,l,a)},i(r){i||(b(n.$$.fragment,r),b(o.block),i=!0)},o(r){w(n.$$.fragment,r);for(let a=0;a<3;a+=1){const u=o.blocks[a];w(u)}i=!1},d(r){r&&m(e),S(n),o.block.d(),o.token=null,o=null}}}const X="https://www.googleapis.com/auth/youtube.readonly https://www.googleapis.com/auth/drive.appdata";function Jt(l,e,n){let t,s;function i(){return new Promise((r,a)=>{gapi.load("client:auth2",()=>o().then(()=>r()).catch(u=>a(u)))})}async function o(){await gapi.client.init({apiKey:"AIzaSyBAHcJ9fPTrCjDExl1NZkF4fZd15fICEFI",clientId:"789354109817-qrqoqtfj1k3gvs01gufrpqlv38g0bi9p.apps.googleusercontent.com",scope:X});const r=gapi.auth2.getAuthInstance();n(0,t=r.isSignedIn.get()),r.isSignedIn.listen(a=>n(0,t=a)),n(1,s=r.currentUser.get().hasGrantedScopes(X)),r.currentUser.listen(a=>n(1,s=a.hasGrantedScopes(X)))}return[t,s,i]}class Qt extends D{constructor(e){super();E(this,e,Jt,Wt,q,{})}}new Qt({target:document.getElementById("app")});
