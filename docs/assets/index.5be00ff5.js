var Re=Object.defineProperty;var re=Object.getOwnPropertySymbols;var He=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable;var ie=(s,e,n)=>e in s?Re(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,G=(s,e)=>{for(var n in e||(e={}))He.call(e,n)&&ie(s,n,e[n]);if(re)for(var n of re(e))ze.call(e,n)&&ie(s,n,e[n]);return s};import{S as E,i as D,s as U,c as O,e as g,a as P,b as f,d as m,f as $,u as B,g as V,h as x,t as b,j as w,k as h,l as y,m as k,n as S,o as z,p as ke,q as A,r as j,v as F,w as Y,T as Se,x as je,y as Ge,z as Oe,A as ne,B as ae,C as Te,D as L,E as W,F as K,G as Be,H as Pe,I as Ae,J as Ne,K as Ve,L as X,M as xe,N as Le,O as Ee,P as Fe,Q as Ye,R as ue,U as We,V as Ke,W as ce,X as fe}from"./vendor.157a2e25.js";const Je=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}};Je();const Qe=s=>({}),pe=s=>({});function Xe(s){let e,n,t,l;const o=s[1].inline,r=O(o,s,s[0],pe),i=s[1].default,a=O(i,s,s[0],null);return{c(){e=g("div"),r&&r.c(),n=P(),t=g("div"),a&&a.c(),f(t,"class","absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 text-center"),f(e,"class","relative w-full h-full")},m(u,c){m(u,e,c),r&&r.m(e,null),$(e,n),$(e,t),a&&a.m(t,null),l=!0},p(u,[c]){r&&r.p&&(!l||c&1)&&B(r,o,u,u[0],l?x(o,u[0],c,Qe):V(u[0]),pe),a&&a.p&&(!l||c&1)&&B(a,i,u,u[0],l?x(i,u[0],c,null):V(u[0]),null)},i(u){l||(b(r,u),b(a,u),l=!0)},o(u){w(r,u),w(a,u),l=!1},d(u){u&&h(e),r&&r.d(u),a&&a.d(u)}}}function Ze(s,e,n){let{$$slots:t={},$$scope:l}=e;return s.$$set=o=>{"$$scope"in o&&n(0,l=o.$$scope)},[l,t]}class le extends E{constructor(e){super();D(this,e,Ze,Xe,U,{})}}function et(s){let e,n,t,l,o;return{c(){e=g("span"),n=P(),t=g("br"),l=P(),o=g("span"),o.textContent="Loading\u2026",f(e,"class","loader svelte-gg29y1"),f(o,"class","font-extrabold")},m(r,i){m(r,e,i),m(r,n,i),m(r,t,i),m(r,l,i),m(r,o,i)},d(r){r&&h(e),r&&h(n),r&&h(t),r&&h(l),r&&h(o)}}}function tt(s){let e,n;return e=new le({props:{$$slots:{default:[et]},$$scope:{ctx:s}}}),{c(){y(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const o={};l&1&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}class De extends E{constructor(e){super();D(this,e,null,tt,U,{})}}function nt(s){let e,n,t,l,o;const r=s[2].default,i=O(r,s,s[1],null);return{c(){e=g("button"),i&&i.c(),f(e,"class",n="bg-blue-600 text-white p-1.5 rounded-2xl hover:bg-blue-700 "+s[0])},m(a,u){m(a,e,u),i&&i.m(e,null),t=!0,l||(o=z(e,"click",s[3]),l=!0)},p(a,[u]){i&&i.p&&(!t||u&2)&&B(i,r,a,a[1],t?x(r,a[1],u,null):V(a[1]),null),(!t||u&1&&n!==(n="bg-blue-600 text-white p-1.5 rounded-2xl hover:bg-blue-700 "+a[0]))&&f(e,"class",n)},i(a){t||(b(i,a),t=!0)},o(a){w(i,a),t=!1},d(a){a&&h(e),i&&i.d(a),l=!1,o()}}}function lt(s,e,n){let{$$slots:t={},$$scope:l}=e,{class:o=""}=e;function r(i){ke.call(this,s,i)}return s.$$set=i=>{"class"in i&&n(0,o=i.class),"$$scope"in i&&n(1,l=i.$$scope)},[o,l,t,r]}class Z extends E{constructor(e){super();D(this,e,lt,nt,U,{class:0})}}function st(s){let e=s[0]?"Authorize":"Sign in",n;return{c(){n=A(e)},m(t,l){m(t,n,l)},p(t,l){l&1&&e!==(e=t[0]?"Authorize":"Sign in")&&j(n,e)},d(t){t&&h(n)}}}function ot(s){let e,n,t=s[0]?"authorize this app":"sign in",l,o,r,i,a,u,c;return u=new Z({props:{class:"w-full",$$slots:{default:[st]},$$scope:{ctx:s}}}),u.$on("click",it),{c(){e=g("p"),n=A("Please "),l=A(t),o=A(" to continue"),r=P(),i=g("br"),a=P(),y(u.$$.fragment)},m(p,d){m(p,e,d),$(e,n),$(e,l),$(e,o),m(p,r,d),m(p,i,d),m(p,a,d),k(u,p,d),c=!0},p(p,d){(!c||d&1)&&t!==(t=p[0]?"authorize this app":"sign in")&&j(l,t);const T={};d&3&&(T.$$scope={dirty:d,ctx:p}),u.$set(T)},i(p){c||(b(u.$$.fragment,p),c=!0)},o(p){w(u.$$.fragment,p),c=!1},d(p){p&&h(e),p&&h(r),p&&h(i),p&&h(a),S(u,p)}}}function rt(s){let e,n;return e=new le({props:{$$slots:{default:[ot]},$$scope:{ctx:s}}}),{c(){y(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,[l]){const o={};l&3&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function it(){return gapi.auth2.getAuthInstance().signIn()}function at(s,e,n){let{isSignedIn:t}=e;return s.$$set=l=>{"isSignedIn"in l&&n(0,t=l.isSignedIn)},[t]}class ut extends E{constructor(e){super();D(this,e,at,rt,U,{isSignedIn:0})}}function ct(s){let e;return{c(){e=g("a"),e.textContent="Youtube Video Deck",f(e,"class","font-extrabold"),f(e,"href","#")},m(n,t){m(n,e,t)},d(n){n&&h(e)}}}function de(s){let e,n,t,l;return e=new Z({props:{class:"w-36 m-1",$$slots:{default:[ft]},$$scope:{ctx:s}}}),e.$on("click",ht),t=new Z({props:{class:"w-36 m-1",$$slots:{default:[pt]},$$scope:{ctx:s}}}),t.$on("click",gt),{c(){y(e.$$.fragment),n=P(),y(t.$$.fragment)},m(o,r){k(e,o,r),m(o,n,r),k(t,o,r),l=!0},p(o,r){const i={};r&2&&(i.$$scope={dirty:r,ctx:o}),e.$set(i);const a={};r&2&&(a.$$scope={dirty:r,ctx:o}),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){w(e.$$.fragment,o),w(t.$$.fragment,o),l=!1},d(o){S(e,o),o&&h(n),S(t,o)}}}function ft(s){let e;return{c(){e=A("Sign out")},m(n,t){m(n,e,t)},d(n){n&&h(e)}}}function pt(s){let e;return{c(){e=A("Revoke access")},m(n,t){m(n,e,t)},d(n){n&&h(e)}}}function dt(s){let e,n,t=s[0]&&de(s);return{c(){e=g("div"),t&&t.c(),f(e,"slot","inline"),f(e,"class","float-right p-1")},m(l,o){m(l,e,o),t&&t.m(e,null),n=!0},p(l,o){l[0]?t?(t.p(l,o),o&1&&b(t,1)):(t=de(l),t.c(),b(t,1),t.m(e,null)):t&&(F(),w(t,1,1,()=>{t=null}),Y())},i(l){n||(b(t),n=!0)},o(l){w(t),n=!1},d(l){l&&h(e),t&&t.d()}}}function mt(s){let e,n,t;return n=new le({props:{$$slots:{inline:[dt],default:[ct]},$$scope:{ctx:s}}}),{c(){e=g("header"),y(n.$$.fragment),f(e,"class","h-12")},m(l,o){m(l,e,o),k(n,e,null),t=!0},p(l,[o]){const r={};o&3&&(r.$$scope={dirty:o,ctx:l}),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){w(n.$$.fragment,l),t=!1},d(l){l&&h(e),S(n)}}}function ht(){gapi.auth2.getAuthInstance().signOut()}function gt(){gapi.auth2.getAuthInstance().disconnect()}function _t(s,e,n){let{isSignedIn:t}=e;return s.$$set=l=>{"isSignedIn"in l&&n(0,t=l.isSignedIn)},[t]}class $t extends E{constructor(e){super();D(this,e,_t,mt,U,{isSignedIn:0})}}function bt(s){return{title:s.snippet.title,description:s.snippet.description.substring(0,313),publishedAt:s.snippet.publishedAt,thumbnailUrl:s.snippet.thumbnails.medium.url,videoId:s.snippet.resourceId.videoId}}function It(s,e){return{channelId:s.snippet.resourceId.channelId,title:s.snippet.title,uploadsPlaylistId:e.contentDetails.relatedPlaylists.uploads,uploads:[]}}function wt(s,e){s.uploadsEtag==null&&(s.uploadsEtag=e.etag),s.nextUploadPageToken=e.nextPageToken,e.items.forEach(n=>s.uploads.push(bt(n)))}function vt(s){s.uploadsEtag=null,s.nextUploadPageToken=null,s.uploads=[]}function yt(s,e){return{etag:s.etag,items:s.items.flatMap(n=>n.map(t=>{const l=e.get(t.snippet.resourceId.channelId);return It(t,l)}))}}Se.addDefaultLocale(je);const me=new Se("en-US"),he=Ge(ne(),Oe(),"subscriptions"),ee=ne(),te=ne();function kt(s){let e,n,t,l,o,r,i,a=s[0].title+"",u,c,p,d,T=me.format(new Date(s[0].publishedAt))+"",R,v,N,M=s[0].description+"",_,I,q,oe;return{c(){e=g("a"),n=g("div"),t=g("img"),o=P(),r=g("div"),i=g("p"),u=A(a),p=P(),d=g("p"),R=A(T),v=P(),N=g("p"),_=A(M),ae(t.src,l=s[0].thumbnailUrl)||f(t,"src",l),f(t,"alt",""),f(t,"width","320"),f(t,"height","180"),f(n,"class","inline-block w-image align-text-bottom p-1 svelte-tmjg5a"),f(i,"class","font-bold w-text truncate-line svelte-tmjg5a"),f(i,"title",c=s[0].title),f(d,"class","text-neutral-400"),f(N,"class","text-ellipsis truncate-lines svelte-tmjg5a"),f(r,"class","inline-block w-text align-top text-sm svelte-tmjg5a"),f(e,"class","block w-card bg-neutral-600 p-2 m-2 rounded-2xl svelte-tmjg5a"),f(e,"href",I="https://www.youtube.com/watch?v="+s[0].videoId)},m(C,H){m(C,e,H),$(e,n),$(n,t),$(e,o),$(e,r),$(r,i),$(i,u),$(r,p),$(r,d),$(d,R),$(r,v),$(r,N),$(N,_),q||(oe=z(e,"click",Te(s[1])),q=!0)},p(C,[H]){H&1&&!ae(t.src,l=C[0].thumbnailUrl)&&f(t,"src",l),H&1&&a!==(a=C[0].title+"")&&j(u,a),H&1&&c!==(c=C[0].title)&&f(i,"title",c),H&1&&T!==(T=me.format(new Date(C[0].publishedAt))+"")&&j(R,T),H&1&&M!==(M=C[0].description+"")&&j(_,M),H&1&&I!==(I="https://www.youtube.com/watch?v="+C[0].videoId)&&f(e,"href",I)},i:L,o:L,d(C){C&&h(e),q=!1,oe()}}}function St(s,e,n){let{video:t}=e;function l(){ee.set(t.videoId)}return s.$$set=o=>{"video"in o&&n(0,t=o.video)},[t,l]}class Tt extends E{constructor(e){super();D(this,e,St,kt,U,{video:0})}}const Ue="Not Modified";function Pt(s,e){if(e){const n=new URLSearchParams(e);return`${s}?${n}`}else return s}function J(s,e={}){const n=Pt("https://www.googleapis.com"+s,e.query);return e.headers=new Headers(e.headers),e.headers.append("Authorization","Bearer "+gapi.auth.getToken().access_token),e.etag&&e.headers.append("If-None-Match",e.etag),new Request(n,e)}async function se(s,e={}){typeof s=="string"&&(s=J(s,e));const n=await fetch(s);if(n.status===304)throw Ue;if(!n.ok)throw n;return n}async function qe(s,e){const n=`boundary${Date.now()}`,t="/batch"+s,l=await se(t,{method:"POST",headers:{"Content-Type":`multipart/mixed; boundary=${n}`},body:await At(e,n)});return Nt(l)}async function At(s,e){let n=[];for(const[t,l]of s){if(n.push(`--${e}`),n.push("Content-Type: application/http"),n.push(`Content-ID: ${t}`),l.bodyUsed&&n.push(`Content-Length: ${(await l.blob()).size}`),n.push(""),n.push(`${l.method} ${l.url}`),l.headers)for(const[o,r]of l.headers.entries())n.push(`${o}: ${r}`);l.bodyUsed&&(n.push(""),n.push(await l.text()))}return n.push(`--${e}--`),n.join(`\r
`)}async function Nt(s){const e=s.headers.get("Content-Type").match(/^multipart\/mixed; boundary=(.+)$/)[1],t=(await s.text()).split(new RegExp(`\r
--${e}(?:--)?\r
`,"g")).slice(1,-1),l=new Map;for(const o of t){const[r,i,a]=o.split(`\r
\r
`,3),c=ge(r).get("Content-ID").match(/^response-(.+)$/)[1],[p,d]=i.split(`\r
`,2),[T,R,v]=p.split(" ",3),N=ge(d),M=a.length===0?null:a,_=new Response(M,{status:parseInt(R,10),statusText:v,headers:N});l.set(c,_)}return l}function ge(s){const e=new Headers;for(const n of s.split(`\r
`)){const[t,l]=n.split(": ");e.append(t,l)}return e}async function Lt(s){let e=await _e({etag:s});const n=e.etag,t=[e.items];for(;e.nextPageToken;)e=await _e({pageToken:e.nextPageToken}),t.push(e.items);return{etag:n,items:t}}async function _e(s={}){return(await se(Et(s))).json()}function Et(s={}){return J("/youtube/v3/subscriptions",G({method:"GET",query:G({part:"snippet",fields:"etag,items(snippet(title,resourceId/channelId)),nextPageToken",mine:"true",order:"alphabetical",maxResults:"50"},s.pageToken&&{pageToken:s.pageToken})},s.etag&&{etag:s.etag}))}async function Dt(s){const e=new Map(s.map((l,o)=>[`${o}`,Ut(l)])),n=await qe("/youtube/v3",e),t=await Promise.all(Array.from(n.values()).map(l=>l.json()));return new Map(t.flatMap(l=>l.items.map(o=>[o.id,o])))}function Ut(s){return J("/youtube/v3/channels",{method:"GET",query:{part:"contentDetails",fields:"items(id,contentDetails/relatedPlaylists/uploads)",id:s.map(e=>e.snippet.resourceId.channelId).join(","),maxResults:"50"}})}async function qt(s){const e=new Map(s.items.map(t=>[t.uploadsPlaylistId,Ce(t,!0)])),n=await qe("/youtube/v3",e);await Promise.all(s.items.map(t=>Me(t,n.get(t.uploadsPlaylistId),!0)))}async function Ct(s){const e=await se(Ce(s,!1));await Me(s,e,!1)}function Ce(s,e){return J("/youtube/v3/playlistItems",G({method:"GET",query:G({part:"snippet",fields:"etag,items(snippet(title,description,publishedAt,thumbnails/medium/url,resourceId/videoId)),nextPageToken",playlistId:s.uploadsPlaylistId,maxResults:"50"},!e&&s.nextUploadPageToken&&{pageToken:s.nextUploadPageToken})},e&&s.uploadsEtag&&{etag:s.uploadsEtag}))}async function Me(s,e,n){if(n){if(s.uploadsEtag&&e.status===304)return;vt(s)}if(!e.ok)throw e;wt(s,await e.json())}function $e(s,e,n){const t=s.slice();return t[8]=e[n],t}function be(s){let e,n,t,l,o;return{c(){e=g("a"),n=A("\u{1F782}"),f(e,"class","float-right pl-2 pr-2 -ml-8"),f(e,"href",t="https://www.youtube.com/watch?v="+s[1][0].videoId+"&list="+s[0].uploadsPlaylistId)},m(r,i){m(r,e,i),$(e,n),l||(o=z(e,"click",Te(s[2])),l=!0)},p(r,i){i&3&&t!==(t="https://www.youtube.com/watch?v="+r[1][0].videoId+"&list="+r[0].uploadsPlaylistId)&&f(e,"href",t)},d(r){r&&h(e),l=!1,o()}}}function Ie(s,e){let n,t,l;return t=new Tt({props:{video:e[8]}}),{key:s,first:null,c(){n=W(),y(t.$$.fragment),this.first=n},m(o,r){m(o,n,r),k(t,o,r),l=!0},p(o,r){e=o;const i={};r&2&&(i.video=e[8]),t.$set(i)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){w(t.$$.fragment,o),l=!1},d(o){o&&h(n),S(t,o)}}}function Mt(s){let e,n,t,l=s[0].title+"",o,r,i,a,u,c=[],p=new Map,d,T,R,v=s[1].length>0&&be(s),N=s[1];const M=_=>_[8].videoId;for(let _=0;_<N.length;_+=1){let I=$e(s,N,_),q=M(I);p.set(q,c[_]=Ie(q,I))}return{c(){e=g("div"),n=g("p"),t=g("a"),o=A(l),i=P(),v&&v.c(),a=P(),u=g("div");for(let _=0;_<c.length;_+=1)c[_].c();f(t,"href",r="https://www.youtube.com/channel/"+s[0].channelId),f(n,"class","text-center font-bold h-8"),f(u,"class","overflow-y-scroll overflow-x-hidden svelte-10twfte"),K(u,"height","calc(100% - 1.5rem)"),f(e,"class","inline-block h-full bg-neutral-800 p-1 ml-1 mr-1 rounded-2xl svelte-10twfte")},m(_,I){m(_,e,I),$(e,n),$(n,t),$(t,o),$(n,i),v&&v.m(n,null),$(e,a),$(e,u);for(let q=0;q<c.length;q+=1)c[q].m(u,null);d=!0,T||(R=[z(u,"wheel",Be(s[4]),{passive:!0}),z(u,"scroll",s[3])],T=!0)},p(_,[I]){(!d||I&1)&&l!==(l=_[0].title+"")&&j(o,l),(!d||I&1&&r!==(r="https://www.youtube.com/channel/"+_[0].channelId))&&f(t,"href",r),_[1].length>0?v?v.p(_,I):(v=be(_),v.c(),v.m(n,null)):v&&(v.d(1),v=null),I&2&&(N=_[1],F(),c=Pe(c,I,M,1,_,N,p,u,Ae,Ie,null,$e),Y())},i(_){if(!d){for(let I=0;I<N.length;I+=1)b(c[I]);d=!0}},o(_){for(let I=0;I<c.length;I+=1)w(c[I]);d=!1},d(_){_&&h(e),v&&v.d();for(let I=0;I<c.length;I+=1)c[I].d();T=!1,Ne(R)}}}function Rt(s,e,n){let{subscription:t}=e,l=t.uploads.slice(0,10),o;function r(){te.set(t.uploadsPlaylistId)}function i(p){const d=p.target;d.scrollHeight-d.scrollTop-122<=d.clientHeight&&a()}async function a(){t.uploads.length===l.length&&await u(),t.uploads.length>l.length&&n(1,l=l.concat(t.uploads.slice(l.length,l.length+10)))}async function u(){t.nextUploadPageToken&&t.nextUploadPageToken!==o&&(o=t.nextUploadPageToken,await Ct(t),n(0,t))}function c(p){ke.call(this,s,p)}return s.$$set=p=>{"subscription"in p&&n(0,t=p.subscription)},[t,l,r,i,c]}class Ht extends E{constructor(e){super();D(this,e,Rt,Mt,U,{subscription:0})}}function zt(s){let e,n,t,l;const o=s[4].default,r=O(o,s,s[3],null);return{c(){e=g("div"),r&&r.c(),f(e,"class","w-full h-full overflow-x-scroll svelte-1ekfizo")},m(i,a){m(i,e,a),r&&r.m(e,null),s[5](e),n=!0,t||(l=[z(e,"wheel",s[1],{passive:!0}),z(e,"scroll",s[2])],t=!0)},p(i,[a]){r&&r.p&&(!n||a&8)&&B(r,o,i,i[3],n?x(o,i[3],a,null):V(i[3]),null)},i(i){n||(b(r,i),n=!0)},o(i){w(r,i),n=!1},d(i){i&&h(e),r&&r.d(i),s[5](null),t=!1,Ne(l)}}}const we=100;function jt(s,e,n){let{$$slots:t={},$$scope:l}=e,o;const r=Ve(0,{duration:we});let i=!1,a;X(r.subscribe(d=>{i&&n(0,o.scrollLeft=d,o)}));function u(d){d.deltaX||(i=!0,r.update(T=>Math.max(0,Math.min(T+d.deltaY,o.scrollWidth-o.clientWidth))))}function c(){clearTimeout(a),a=setTimeout(()=>{i=!1,r.set(o.scrollLeft,{duration:0})},we)}function p(d){xe[d?"unshift":"push"](()=>{o=d,n(0,o)})}return s.$$set=d=>{"$$scope"in d&&n(3,l=d.$$scope)},[o,u,c,l,t,p]}class Gt extends E{constructor(e){super();D(this,e,jt,zt,U,{})}}function ve(s,e,n){const t=s.slice();return t[4]=e[n],t}function Ot(s){let e,n=s[7]+"",t;return{c(){e=g("p"),t=A(n),f(e,"class","text-center")},m(l,o){m(l,e,o),$(e,t)},p:L,i:L,o:L,d(l){l&&h(e)}}}function Bt(s){let e,n,t;return n=new Gt({props:{$$slots:{default:[Vt]},$$scope:{ctx:s}}}),{c(){e=g("div"),y(n.$$.fragment),f(e,"class","w-full"),K(e,"height","calc(100% - 6px)")},m(l,o){m(l,e,o),k(n,e,null),t=!0},p(l,o){const r={};o&256&&(r.$$scope={dirty:o,ctx:l}),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){w(n.$$.fragment,l),t=!1},d(l){l&&h(e),S(n)}}}function ye(s,e){let n,t,l;return t=new Ht({props:{subscription:e[4]}}),{key:s,first:null,c(){n=W(),y(t.$$.fragment),this.first=n},m(o,r){m(o,n,r),k(t,o,r),l=!0},p(o,r){e=o},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){w(t.$$.fragment,o),l=!1},d(o){o&&h(n),S(t,o)}}}function Vt(s){let e,n=[],t=new Map,l,o=s[3].items;const r=i=>i[4].uploadsPlaylistId;for(let i=0;i<o.length;i+=1){let a=ve(s,o,i),u=r(a);t.set(u,n[i]=ye(u,a))}return{c(){e=g("div");for(let i=0;i<n.length;i+=1)n[i].c();f(e,"class","w-max h-full")},m(i,a){m(i,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);l=!0},p(i,a){a&1&&(o=i[3].items,F(),n=Pe(n,a,r,1,i,o,t,e,Ae,ye,null,ve),Y())},i(i){if(!l){for(let a=0;a<o.length;a+=1)b(n[a]);l=!0}},o(i){for(let a=0;a<n.length;a+=1)w(n[a]);l=!1},d(i){i&&h(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function xt(s){let e,n;return e=new De({}),{c(){y(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:L,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ft(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!0,pending:xt,then:Bt,catch:Ot,value:3,error:7,blocks:[,,,]};return Le(s[0](),t),{c(){e=W(),t.block.c()},m(l,o){m(l,e,o),t.block.m(l,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(l,[o]){s=l,Ee(t,s,o)},i(l){n||(b(t.block),n=!0)},o(l){for(let o=0;o<3;o+=1){const r=t.blocks[o];w(r)}n=!1},d(l){l&&h(e),t.block.d(l),t.token=null,t=null}}}function Yt(s,e,n){let t;Fe(s,he,r=>n(1,t=r));async function l(){const r=await o();return await qt(r),Ye(he,t=r,t),r}async function o(){const r=t;try{const i=await Lt(r==null?void 0:r.etag),a=await Dt(i.items);return yt(i,a)}catch(i){if(r&&i===Ue)return r;throw i}}return[l]}class Wt extends E{constructor(e){super();D(this,e,Yt,Ft,U,{})}}function Kt(s){let e,n,t,l,o;return{c(){e=g("div"),e.innerHTML='<div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20"><div id="player"></div></div>',f(e,"class","fixed top-0 bottom-0 left-0 right-0 z-10 svelte-yxae1v"),K(e,"background-color","rgba(0, 0, 0, 0.8)"),ue(e,"visuallyHidden",s[0])},m(r,i){m(r,e,i),t=!0,l||(o=z(e,"click",We(s[4])),l=!0)},p(r,[i]){i&1&&ue(e,"visuallyHidden",r[0])},i(r){t||(Ke(()=>{n||(n=ce(e,fe,{duration:100},!0)),n.run(1)}),t=!0)},o(r){n||(n=ce(e,fe,{duration:100},!1)),n.run(0),t=!1},d(r){r&&h(e),r&&n&&n.end(),l=!1,o()}}}function Jt(s,e,n){var t;(function(u){u[u.UNINITIALISED=0]="UNINITIALISED",u[u.INITIALISING=1]="INITIALISING",u[u.INITIALISED=2]="INITIALISED"})(t||(t={}));let l=!0,o,r=t.UNINITIALISED;function i(u){if(r===t.UNINITIALISED){n(3,r=t.INITIALISING);const c={width:"1280",height:"720",playerVars:{autohide:1,autoplay:1,playsinline:1},events:{onReady:()=>n(3,r=t.INITIALISED),onStateChange:p=>{l&&(p.data===YT.PlayerState.BUFFERING||p.data===YT.PlayerState.PLAYING)&&n(0,l=!1)}}};u.videoId?c.videoId=u.videoId:u.playlistId&&(c.playerVars.listType="playlist",c.playerVars.list=u.playlistId),n(2,o=new YT.Player("player",c)),n(0,l=!1)}else r===t.INITIALISING?setTimeout(()=>i(u),100):r===t.INITIALISED&&(u.videoId?o.loadVideoById(u.videoId):u.playlistId&&o.loadPlaylist({listType:"playlist",list:u.playlistId}))}X(ee.subscribe(u=>{u&&(ee.set(null),i({videoId:u}))})),X(te.subscribe(u=>{u&&(te.set(null),i({playlistId:u}))}));const a=()=>n(0,l=!0);return s.$$.update=()=>{s.$$.dirty&15&&r===t.INITIALISED&&l&&o.stopVideo()},[l,t,o,r,a]}class Qt extends E{constructor(e){super();D(this,e,Jt,Kt,U,{})}}function Xt(s){let e,n=s[5]+"",t;return{c(){e=g("p"),t=A(n),f(e,"class","text-center")},m(l,o){m(l,e,o),$(e,t)},p:L,i:L,o:L,d(l){l&&h(e)}}}function Zt(s){let e,n,t,l;const o=[tn,en],r=[];function i(a,u){return a[1]?0:1}return e=i(s),n=r[e]=o[e](s),{c(){n.c(),t=W()},m(a,u){r[e].m(a,u),m(a,t,u),l=!0},p(a,u){let c=e;e=i(a),e===c?r[e].p(a,u):(F(),w(r[c],1,1,()=>{r[c]=null}),Y(),n=r[e],n?n.p(a,u):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){l||(b(n),l=!0)},o(a){w(n),l=!1},d(a){r[e].d(a),a&&h(t)}}}function en(s){let e,n;return e=new ut({props:{isSignedIn:s[0]}}),{c(){y(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.isSignedIn=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function tn(s){let e,n,t,l;return e=new Qt({}),t=new Wt({}),{c(){y(e.$$.fragment),n=P(),y(t.$$.fragment)},m(o,r){k(e,o,r),m(o,n,r),k(t,o,r),l=!0},p:L,i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){w(e.$$.fragment,o),w(t.$$.fragment,o),l=!1},d(o){S(e,o),o&&h(n),S(t,o)}}}function nn(s){let e,n;return e=new De({}),{c(){y(e.$$.fragment)},m(t,l){k(e,t,l),n=!0},p:L,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ln(s){let e,n,t,l,o;n=new $t({props:{isSignedIn:s[0]}});let r={ctx:s,current:null,token:null,hasCatch:!0,pending:nn,then:Zt,catch:Xt,value:4,error:5,blocks:[,,,]};return Le(s[2](),r),{c(){e=g("main"),y(n.$$.fragment),t=P(),l=g("section"),r.block.c(),K(l,"height","calc(100% - 3rem)"),f(e,"class","w-screen h-screen bg-neutral-700 text-white")},m(i,a){m(i,e,a),k(n,e,null),$(e,t),$(e,l),r.block.m(l,r.anchor=null),r.mount=()=>l,r.anchor=null,o=!0},p(i,[a]){s=i;const u={};a&1&&(u.isSignedIn=s[0]),n.$set(u),Ee(r,s,a)},i(i){o||(b(n.$$.fragment,i),b(r.block),o=!0)},o(i){w(n.$$.fragment,i);for(let a=0;a<3;a+=1){const u=r.blocks[a];w(u)}o=!1},d(i){i&&h(e),S(n),r.block.d(),r.token=null,r=null}}}const Q="https://www.googleapis.com/auth/youtube.readonly https://www.googleapis.com/auth/drive.appdata";function sn(s,e,n){let t,l;function o(){return new Promise((i,a)=>{gapi.load("client:auth2",()=>r().then(()=>i()).catch(u=>a(u)))})}async function r(){await gapi.client.init({apiKey:"AIzaSyBAHcJ9fPTrCjDExl1NZkF4fZd15fICEFI",clientId:"789354109817-qrqoqtfj1k3gvs01gufrpqlv38g0bi9p.apps.googleusercontent.com",scope:Q});const i=gapi.auth2.getAuthInstance();n(0,t=i.isSignedIn.get()),i.isSignedIn.listen(a=>n(0,t=a)),n(1,l=i.currentUser.get().hasGrantedScopes(Q)),i.currentUser.listen(a=>n(1,l=a.hasGrantedScopes(Q)))}return[t,l,o]}class on extends E{constructor(e){super();D(this,e,sn,ln,U,{})}}new on({target:document.getElementById("app")});
