const p=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}};p();function noop(){}const identity=t=>t;function assign(t,e){for(const r in e)t[r]=e[r];return t}function is_promise(t){return t&&typeof t=="object"&&typeof t.then=="function"}function run(t){return t()}function blank_object(){return Object.create(null)}function run_all(t){t.forEach(run)}function is_function(t){return typeof t=="function"}function safe_not_equal(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let src_url_equal_anchor;function src_url_equal(t,e){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=e,t===src_url_equal_anchor.href}function not_equal(t,e){return t!=t?e==e:t!==e}function is_empty(t){return Object.keys(t).length===0}function subscribe(t,...e){if(t==null)return noop;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function component_subscribe(t,e,r){t.$$.on_destroy.push(subscribe(e,r))}function create_slot(t,e,r,i){if(t){const a=get_slot_context(t,e,r,i);return t[0](a)}}function get_slot_context(t,e,r,i){return t[1]&&i?assign(r.ctx.slice(),t[1](i(e))):r.ctx}function get_slot_changes(t,e,r,i){if(t[2]&&i){const a=t[2](i(r));if(e.dirty===void 0)return a;if(typeof a=="object"){const o=[],u=Math.max(e.dirty.length,a.length);for(let c=0;c<u;c+=1)o[c]=e.dirty[c]|a[c];return o}return e.dirty|a}return e.dirty}function update_slot_base(t,e,r,i,a,o){if(a){const u=get_slot_context(e,r,i,o);t.p(u,a)}}function get_all_dirty_from_scope(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let i=0;i<r;i++)e[i]=-1;return e}return-1}function set_store_value(t,e,r){return t.set(r),e}function action_destroyer(t){return t&&is_function(t.destroy)?t.destroy:noop}const is_client=typeof window<"u";let now$1=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?t=>requestAnimationFrame(t):noop;const tasks=new Set;function run_tasks(t){tasks.forEach(e=>{e.c(t)||(tasks.delete(e),e.f())}),tasks.size!==0&&raf(run_tasks)}function loop$1(t){let e;return tasks.size===0&&raf(run_tasks),{promise:new Promise(r=>{tasks.add(e={c:t,f:r})}),abort(){tasks.delete(e)}}}function append(t,e){t.appendChild(e)}function get_root_for_style(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function append_empty_stylesheet(t){const e=element("style");return append_stylesheet(get_root_for_style(t),e),e.sheet}function append_stylesheet(t,e){append(t.head||t,e)}function insert(t,e,r){t.insertBefore(e,r||null)}function detach(t){t.parentNode.removeChild(t)}function destroy_each(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function element(t){return document.createElement(t)}function svg_element(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function text(t){return document.createTextNode(t)}function space(){return text(" ")}function empty(){return text("")}function listen(t,e,r,i){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r,i)}function prevent_default(t){return function(e){return e.preventDefault(),t.call(this,e)}}function stop_propagation(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function self(t){return function(e){e.target===this&&t.call(this,e)}}function attr(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function children(t){return Array.from(t.childNodes)}function set_data(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function set_input_value(t,e){t.value=e==null?"":e}function toggle_class(t,e,r){t.classList[r?"add":"remove"](e)}function custom_event(t,e,{bubbles:r=!1,cancelable:i=!1}={}){const a=document.createEvent("CustomEvent");return a.initCustomEvent(t,r,i,e),a}const managed_styles=new Map;let active=0;function hash(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function create_style_information(t,e){const r={stylesheet:append_empty_stylesheet(e),rules:{}};return managed_styles.set(t,r),r}function create_rule(t,e,r,i,a,o,u,c=0){const d=16.666/i;let f=`{
`;for(let S=0;S<=1;S+=d){const T=e+(r-e)*o(S);f+=S*100+`%{${u(T,1-T)}}
`}const g=f+`100% {${u(r,1-r)}}
}`,_=`__svelte_${hash(g)}_${c}`,m=get_root_for_style(t),{stylesheet:h,rules:b}=managed_styles.get(m)||create_style_information(m,t);b[_]||(b[_]=!0,h.insertRule(`@keyframes ${_} ${g}`,h.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${_} ${i}ms linear ${a}ms 1 both`,active+=1,_}function delete_rule(t,e){const r=(t.style.animation||"").split(", "),i=r.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),a=r.length-i.length;a&&(t.style.animation=i.join(", "),active-=a,active||clear_rules())}function clear_rules(){raf(()=>{active||(managed_styles.forEach(t=>{const{stylesheet:e}=t;let r=e.cssRules.length;for(;r--;)e.deleteRule(r);t.rules={}}),managed_styles.clear())})}function create_animation(t,e,r,i){if(!e)return noop;const a=t.getBoundingClientRect();if(e.left===a.left&&e.right===a.right&&e.top===a.top&&e.bottom===a.bottom)return noop;const{delay:o=0,duration:u=300,easing:c=identity,start:d=now$1()+o,end:f=d+u,tick:g=noop,css:_}=r(t,{from:e,to:a},i);let m=!0,h=!1,b;function y(){_&&(b=create_rule(t,0,1,u,o,c,_)),o||(h=!0)}function S(){_&&delete_rule(t,b),m=!1}return loop$1(T=>{if(!h&&T>=d&&(h=!0),h&&T>=f&&(g(1,0),S()),!m)return!1;if(h){const w=T-d,E=0+1*c(w/u);g(E,1-E)}return!0}),y(),g(0,1),S}function fix_position(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:r,height:i}=e,a=t.getBoundingClientRect();t.style.position="absolute",t.style.width=r,t.style.height=i,add_transform(t,a)}}function add_transform(t,e){const r=t.getBoundingClientRect();if(e.left!==r.left||e.top!==r.top){const i=getComputedStyle(t),a=i.transform==="none"?"":i.transform;t.style.transform=`${a} translate(${e.left-r.left}px, ${e.top-r.top}px)`}}let current_component;function set_current_component(t){current_component=t}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onDestroy(t){get_current_component().$$.on_destroy.push(t)}function bubble(t,e){const r=t.$$.callbacks[e.type];r&&r.slice().forEach(i=>i.call(this,e))}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(t){render_callbacks.push(t)}const seen_callbacks=new Set;let flushidx=0;function flush(){const t=current_component;do{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const r=render_callbacks[e];seen_callbacks.has(r)||(seen_callbacks.add(r),r())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(t)}function update(t){if(t.fragment!==null){t.update(),run_all(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(add_render_callback)}}let promise;function wait(){return promise||(promise=Promise.resolve(),promise.then(()=>{promise=null})),promise}function dispatch(t,e,r){t.dispatchEvent(custom_event(`${e?"intro":"outro"}${r}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(t,e){t&&t.i&&(outroing.delete(t),t.i(e))}function transition_out(t,e,r,i){if(t&&t.o){if(outroing.has(t))return;outroing.add(t),outros.c.push(()=>{outroing.delete(t),i&&(r&&t.d(1),i())}),t.o(e)}else i&&i()}const null_transition={duration:0};function create_in_transition(t,e,r){let i=e(t,r),a=!1,o,u,c=0;function d(){o&&delete_rule(t,o)}function f(){const{delay:_=0,duration:m=300,easing:h=identity,tick:b=noop,css:y}=i||null_transition;y&&(o=create_rule(t,0,1,m,_,h,y,c++)),b(0,1);const S=now$1()+_,T=S+m;u&&u.abort(),a=!0,add_render_callback(()=>dispatch(t,!0,"start")),u=loop$1(w=>{if(a){if(w>=T)return b(1,0),dispatch(t,!0,"end"),d(),a=!1;if(w>=S){const E=h((w-S)/m);b(E,1-E)}}return a})}let g=!1;return{start(){g||(g=!0,delete_rule(t),is_function(i)?(i=i(),wait().then(f)):f())},invalidate(){g=!1},end(){a&&(d(),a=!1)}}}function handle_promise(t,e){const r=e.token={};function i(a,o,u,c){if(e.token!==r)return;e.resolved=c;let d=e.ctx;u!==void 0&&(d=d.slice(),d[u]=c);const f=a&&(e.current=a)(d);let g=!1;e.block&&(e.blocks?e.blocks.forEach((_,m)=>{m!==o&&_&&(group_outros(),transition_out(_,1,1,()=>{e.blocks[m]===_&&(e.blocks[m]=null)}),check_outros())}):e.block.d(1),f.c(),transition_in(f,1),f.m(e.mount(),e.anchor),g=!0),e.block=f,e.blocks&&(e.blocks[o]=f),g&&flush()}if(is_promise(t)){const a=get_current_component();if(t.then(o=>{set_current_component(a),i(e.then,1,e.value,o),set_current_component(null)},o=>{if(set_current_component(a),i(e.catch,2,e.error,o),set_current_component(null),!e.hasCatch)throw o}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}}function update_await_block_branch(t,e,r){const i=e.slice(),{resolved:a}=t;t.current===t.then&&(i[t.value]=a),t.current===t.catch&&(i[t.error]=a),t.block.p(i,r)}const globals=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function destroy_block(t,e){t.d(1),e.delete(t.key)}function outro_and_destroy_block(t,e){transition_out(t,1,1,()=>{e.delete(t.key)})}function fix_and_destroy_block(t,e){t.f(),destroy_block(t,e)}function fix_and_outro_and_destroy_block(t,e){t.f(),outro_and_destroy_block(t,e)}function update_keyed_each(t,e,r,i,a,o,u,c,d,f,g,_){let m=t.length,h=o.length,b=m;const y={};for(;b--;)y[t[b].key]=b;const S=[],T=new Map,w=new Map;for(b=h;b--;){const v=_(a,o,b),D=r(v);let I=u.get(D);I?i&&I.p(v,e):(I=f(D,v),I.c()),T.set(D,S[b]=I),D in y&&w.set(D,Math.abs(b-y[D]))}const E=new Set,O=new Set;function N(v){transition_in(v,1),v.m(c,g),u.set(v.key,v),g=v.first,h--}for(;m&&h;){const v=S[h-1],D=t[m-1],I=v.key,A=D.key;v===D?(g=v.first,m--,h--):T.has(A)?!u.has(I)||E.has(I)?N(v):O.has(A)?m--:w.get(I)>w.get(A)?(O.add(I),N(v)):(E.add(A),m--):(d(D,u),m--)}for(;m--;){const v=t[m];T.has(v.key)||d(v,u)}for(;h;)N(S[h-1]);return S}function create_component(t){t&&t.c()}function mount_component(t,e,r,i){const{fragment:a,on_mount:o,on_destroy:u,after_update:c}=t.$$;a&&a.m(e,r),i||add_render_callback(()=>{const d=o.map(run).filter(is_function);u?u.push(...d):run_all(d),t.$$.on_mount=[]}),c.forEach(add_render_callback)}function destroy_component(t,e){const r=t.$$;r.fragment!==null&&(run_all(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function make_dirty(t,e){t.$$.dirty[0]===-1&&(dirty_components.push(t),schedule_update(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function init(t,e,r,i,a,o,u,c=[-1]){const d=current_component;set_current_component(t);const f=t.$$={fragment:null,ctx:null,props:o,update:noop,not_equal:a,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:blank_object(),dirty:c,skip_bound:!1,root:e.target||d.$$.root};u&&u(f.root);let g=!1;if(f.ctx=r?r(t,e.props||{},(_,m,...h)=>{const b=h.length?h[0]:m;return f.ctx&&a(f.ctx[_],f.ctx[_]=b)&&(!f.skip_bound&&f.bound[_]&&f.bound[_](b),g&&make_dirty(t,_)),m}):[],f.update(),g=!0,run_all(f.before_update),f.fragment=i?i(f.ctx):!1,e.target){if(e.hydrate){const _=children(e.target);f.fragment&&f.fragment.l(_),_.forEach(detach)}else f.fragment&&f.fragment.c();e.intro&&transition_in(t.$$.fragment),mount_component(t,e.target,e.anchor,e.customElement),flush()}set_current_component(d)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,r){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(r),()=>{const a=i.indexOf(r);a!==-1&&i.splice(a,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Spinner_svelte_svelte_type_style_lang="";function create_fragment$d(t){let e;return{c(){e=element("div"),e.innerHTML=`<span class="loader svelte-gg29y1"></span> 
  <br/> 
  <span class="font-extrabold">Loading\u2026</span>`,attr(e,"class","text-center")},m(r,i){insert(r,e,i)},p:noop,i:noop,o:noop,d(r){r&&detach(e)}}}class Spinner extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$d,safe_not_equal,{})}}const get_after_slot_changes=t=>({}),get_after_slot_context=t=>({}),get_before_slot_changes=t=>({}),get_before_slot_context=t=>({});function create_fragment$c(t){let e,r,i,a,o;const u=t[1].before,c=create_slot(u,t,t[0],get_before_slot_context),d=t[1].default,f=create_slot(d,t,t[0],null),g=t[1].after,_=create_slot(g,t,t[0],get_after_slot_context);return{c(){e=element("div"),c&&c.c(),r=space(),i=element("div"),f&&f.c(),a=space(),_&&_.c(),attr(i,"class","absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 text-center"),attr(e,"class","relative w-full h-full")},m(m,h){insert(m,e,h),c&&c.m(e,null),append(e,r),append(e,i),f&&f.m(i,null),append(e,a),_&&_.m(e,null),o=!0},p(m,[h]){c&&c.p&&(!o||h&1)&&update_slot_base(c,u,m,m[0],o?get_slot_changes(u,m[0],h,get_before_slot_changes):get_all_dirty_from_scope(m[0]),get_before_slot_context),f&&f.p&&(!o||h&1)&&update_slot_base(f,d,m,m[0],o?get_slot_changes(d,m[0],h,null):get_all_dirty_from_scope(m[0]),null),_&&_.p&&(!o||h&1)&&update_slot_base(_,g,m,m[0],o?get_slot_changes(g,m[0],h,get_after_slot_changes):get_all_dirty_from_scope(m[0]),get_after_slot_context)},i(m){o||(transition_in(c,m),transition_in(f,m),transition_in(_,m),o=!0)},o(m){transition_out(c,m),transition_out(f,m),transition_out(_,m),o=!1},d(m){m&&detach(e),c&&c.d(m),f&&f.d(m),_&&_.d(m)}}}function instance$c(t,e,r){let{$$slots:i={},$$scope:a}=e;return t.$$set=o=>{"$$scope"in o&&r(0,a=o.$$scope)},[a,i]}class Center extends SvelteComponent{constructor(e){super(),init(this,e,instance$c,create_fragment$c,safe_not_equal,{})}}function create_fragment$b(t){let e,r,i,a,o;const u=t[3].default,c=create_slot(u,t,t[2],null);return{c(){e=element("button"),c&&c.c(),attr(e,"class",r="bg-blue-600 text-white p-1.5 rounded-2xl hover:enabled:bg-blue-700 disabled:opacity-60 "+t[0]),attr(e,"tabindex",t[1])},m(d,f){insert(d,e,f),c&&c.m(e,null),i=!0,a||(o=listen(e,"click",t[4]),a=!0)},p(d,[f]){c&&c.p&&(!i||f&4)&&update_slot_base(c,u,d,d[2],i?get_slot_changes(u,d[2],f,null):get_all_dirty_from_scope(d[2]),null),(!i||f&1&&r!==(r="bg-blue-600 text-white p-1.5 rounded-2xl hover:enabled:bg-blue-700 disabled:opacity-60 "+d[0]))&&attr(e,"class",r),(!i||f&2)&&attr(e,"tabindex",d[1])},i(d){i||(transition_in(c,d),i=!0)},o(d){transition_out(c,d),i=!1},d(d){d&&detach(e),c&&c.d(d),a=!1,o()}}}function instance$b(t,e,r){let{$$slots:i={},$$scope:a}=e,{class:o=""}=e,{tabindex:u=0}=e;function c(d){bubble.call(this,t,d)}return t.$$set=d=>{"class"in d&&r(0,o=d.class),"tabindex"in d&&r(1,u=d.tabindex),"$$scope"in d&&r(2,a=d.$$scope)},[o,u,a,i,c]}class PrimaryButton extends SvelteComponent{constructor(e){super(),init(this,e,instance$b,create_fragment$b,safe_not_equal,{class:0,tabindex:1})}}function create_default_slot_1$4(t){let e=t[0]?"Authorize":"Sign in",r;return{c(){r=text(e)},m(i,a){insert(i,r,a)},p(i,a){a&1&&e!==(e=i[0]?"Authorize":"Sign in")&&set_data(r,e)},d(i){i&&detach(r)}}}function create_default_slot$5(t){let e,r,i=t[0]?"authorize this app":"sign in",a,o,u,c,d,f,g;return f=new PrimaryButton({props:{class:"w-full",$$slots:{default:[create_default_slot_1$4]},$$scope:{ctx:t}}}),f.$on("click",signIn),{c(){e=element("p"),r=text("Please "),a=text(i),o=text(" to continue"),u=space(),c=element("br"),d=space(),create_component(f.$$.fragment)},m(_,m){insert(_,e,m),append(e,r),append(e,a),append(e,o),insert(_,u,m),insert(_,c,m),insert(_,d,m),mount_component(f,_,m),g=!0},p(_,m){(!g||m&1)&&i!==(i=_[0]?"authorize this app":"sign in")&&set_data(a,i);const h={};m&3&&(h.$$scope={dirty:m,ctx:_}),f.$set(h)},i(_){g||(transition_in(f.$$.fragment,_),g=!0)},o(_){transition_out(f.$$.fragment,_),g=!1},d(_){_&&detach(e),_&&detach(u),_&&detach(c),_&&detach(d),destroy_component(f,_)}}}function create_fragment$a(t){let e,r;return e=new Center({props:{$$slots:{default:[create_default_slot$5]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},m(i,a){mount_component(e,i,a),r=!0},p(i,[a]){const o={};a&3&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){r||(transition_in(e.$$.fragment,i),r=!0)},o(i){transition_out(e.$$.fragment,i),r=!1},d(i){destroy_component(e,i)}}}function signIn(){return gapi.auth2.getAuthInstance().signIn()}function instance$a(t,e,r){let{isSignedIn:i}=e;return t.$$set=a=>{"isSignedIn"in a&&r(0,i=a.isSignedIn)},[i]}class LoginScreen extends SvelteComponent{constructor(e){super(),init(this,e,instance$a,create_fragment$a,safe_not_equal,{isSignedIn:0})}}const subscriber_queue=[];function writable(t,e=noop){let r;const i=new Set;function a(c){if(safe_not_equal(t,c)&&(t=c,r)){const d=!subscriber_queue.length;for(const f of i)f[1](),subscriber_queue.push(f,t);if(d){for(let f=0;f<subscriber_queue.length;f+=2)subscriber_queue[f][0](subscriber_queue[f+1]);subscriber_queue.length=0}}}function o(c){a(c(t))}function u(c,d=noop){const f=[c,d];return i.add(f),i.size===1&&(r=e(a)||noop),c(t),()=>{i.delete(f),i.size===0&&(r(),r=null)}}return{set:a,update:o,subscribe:u}}function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var browserCookies={};(function(t){t.defaults={},t.set=function(e,r,i){var a=i||{},o=t.defaults,u=a.expires||o.expires,c=a.domain||o.domain,d=a.path!==void 0?a.path:o.path!==void 0?o.path:"/",f=a.secure!==void 0?a.secure:o.secure,g=a.httponly!==void 0?a.httponly:o.httponly,_=a.samesite!==void 0?a.samesite:o.samesite,m=u?new Date(typeof u=="number"?new Date().getTime()+u*864e5:u):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+r.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(m&&m.getTime()>=0?";expires="+m.toUTCString():"")+(c?";domain="+c:"")+(d?";path="+d:"")+(f?";secure":"")+(g?";httponly":"")+(_?";samesite="+_:"")},t.get=function(e){for(var r=document.cookie.split(";");r.length;){var i=r.pop(),a=i.indexOf("=");a=a<0?i.length:a;var o=decodeURIComponent(i.slice(0,a).replace(/^\s+/,""));if(o===e)return decodeURIComponent(i.slice(a+1))}return null},t.erase=function(e,r){t.set(e,"",{expires:-1,domain:r&&r.domain,path:r&&r.path,secure:0,httponly:0})},t.all=function(){for(var e={},r=document.cookie.split(";");r.length;){var i=r.pop(),a=i.indexOf("=");a=a<0?i.length:a;var o=decodeURIComponent(i.slice(0,a).replace(/^\s+/,""));e[o]=decodeURIComponent(i.slice(a+1))}return e}})(browserCookies);var bundle={};(function(exports){(function(t,e){for(var r in e)t[r]=e[r];e.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})})(exports,(()=>{var __webpack_modules__={607:(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var serializer_1=__webpack_require__(810),deserializer_1=__webpack_require__(496),Module;typeof process<"u"&&process.release.name==="node"&&(Module=eval("require")("module"));var ESSerializer=function(){function t(){}return t.throwErrorIfInNonNodeEnvironment=function(){if(!Module)throw new Error("Cannot intercept require in non-Node environment.")},t.interceptRequire=function(){this.isRequireIntercepted||(this.isRequireIntercepted=!0,this.throwErrorIfInNonNodeEnvironment(),t.originRequire=Module.prototype.require,Module.prototype.require=function(){var e=t.originRequire.apply(this,arguments),r=e.name;return t.requiredClasses[r]||(t.requiredClasses[r]=e),e})},t.stopInterceptRequire=function(){this.throwErrorIfInNonNodeEnvironment(),Module.prototype.require=t.originRequire,this.isRequireIntercepted=!1},t.isInterceptingRequire=function(){return this.isRequireIntercepted},t.getRequiredClasses=function(){return this.requiredClasses},t.clearRequiredClasses=function(){this.requiredClasses={}},t.registerClass=function(e){this.registeredClasses.push(e)},t.registerClasses=function(e){this.registeredClasses=this.registeredClasses.concat(e)},t.clearRegisteredClasses=function(){this.registeredClasses=[]},t.serialize=function(e,r){return r===void 0&&(r={}),JSON.stringify(serializer_1.getSerializeValueWithClassName(e,r))},t.deserialize=function(e,r,i){return r===void 0&&(r=[]),i===void 0&&(i={}),deserializer_1.deserializeFromParsedObj(JSON.parse(e),Object.values(this.requiredClasses).concat(this.registeredClasses).concat(r),i)},t.originRequire=null,t.isRequireIntercepted=!1,t.requiredClasses={},t.registeredClasses=[],t}();module.exports=ESSerializer},917:function(t,e){var r=this&&this.__spreadArrays||function(){for(var Y=0,z=0,X=arguments.length;z<X;z++)Y+=arguments[z].length;var W=Array(Y),K=0;for(z=0;z<X;z++)for(var Q=arguments[z],j=0,ee=Q.length;j<ee;j++,K++)W[K]=Q[j];return W};Object.defineProperty(e,"__esModule",{value:!0}),e.TO_STRING_FIELD=e.TIMESTAMP_FIELD=e.OPTIONS_FIELD=e.CLASS_NAME_FIELD=e.BOOLEAN_FIELD=e.ARRAY_FIELD=e.BUILTIN_TYPE_UNDEFINED=e.BUILTIN_TYPE_NOT_FINITE=e.BUILTIN_TYPE_BIG_INT=e.BUILTIN_CLASS_AGGREGATE_ERROR=e.BUILTIN_CLASS_URI_ERROR=e.BUILTIN_CLASS_TYPE_ERROR=e.BUILTIN_CLASS_SYNTAX_ERROR=e.BUILTIN_CLASS_REFERENCE_ERROR=e.BUILTIN_CLASS_RANGE_ERROR=e.BUILTIN_CLASS_EVAL_ERROR=e.BUILTIN_CLASS_ERROR=e.BUILTIN_CLASS_STRING=e.BUILTIN_CLASS_SET=e.BUILTIN_CLASS_REGEXP=e.BUILTIN_CLASS_INTL_RELATIVETIMEFORMAT=e.BUILTIN_CLASS_INTL_PLURALRULES=e.BUILTIN_CLASS_INTL_NUMBERFORMAT=e.BUILTIN_CLASS_INTL_LOCALE=e.BUILTIN_CLASS_INTL_LISTFORMAT=e.BUILTIN_CLASS_INTL_DATETIMEFORMAT=e.BUILTIN_CLASS_INTL_COLLATOR=e.BUILTIN_CLASS_DATE=e.BUILTIN_CLASS_DATAVIEW=e.BUILTIN_CLASS_BOOLEAN=e.BUILTIN_CLASS_SHAREDARRAYBUFFER=e.BUILTIN_CLASS_ARRAYBUFFER=e.BUILTIN_CLASS_BIGUINT64ARRAY=e.BUILTIN_CLASS_BIGINT64ARRAY=e.BUILTIN_CLASS_FLOAT64ARRAY=e.BUILTIN_CLASS_FLOAT32ARRAY=e.BUILTIN_CLASS_UINT32ARRAY=e.BUILTIN_CLASS_INT32ARRAY=e.BUILTIN_CLASS_UINT16ARRAY=e.BUILTIN_CLASS_INT16ARRAY=e.BUILTIN_CLASS_UINT8CLAMPEDARRAY=e.BUILTIN_CLASS_UINT8ARRAY=e.BUILTIN_CLASS_INT8ARRAY=e.CLASSNAMES_WHOSE_ENUMERABLE_PROPERTIES_SHOULD_BE_IGNORED=e.ALL_BUILTIN_INTLS=e.ALL_BUILTIN_ERRORS=e.ALL_BUILTIN_ARRAYS=e.ESSERIALIZER_NULL=void 0,e.ESSERIALIZER_NULL="__ESSERIALIZER_NULL__",e.ARRAY_FIELD="ess_arr",e.BOOLEAN_FIELD="ess_bool",e.CLASS_NAME_FIELD="ess_cn",e.OPTIONS_FIELD="ess_opt",e.TIMESTAMP_FIELD="ess_ts",e.TO_STRING_FIELD="ess_str";var i="Int8Array";e.BUILTIN_CLASS_INT8ARRAY=i;var a="Uint8Array";e.BUILTIN_CLASS_UINT8ARRAY=a;var o="Uint8ClampedArray";e.BUILTIN_CLASS_UINT8CLAMPEDARRAY=o;var u="Int16Array";e.BUILTIN_CLASS_INT16ARRAY=u;var c="Uint16Array";e.BUILTIN_CLASS_UINT16ARRAY=c;var d="Int32Array";e.BUILTIN_CLASS_INT32ARRAY=d;var f="Uint32Array";e.BUILTIN_CLASS_UINT32ARRAY=f;var g="Float32Array";e.BUILTIN_CLASS_FLOAT32ARRAY=g;var _="Float64Array";e.BUILTIN_CLASS_FLOAT64ARRAY=_;var m="BigInt64Array";e.BUILTIN_CLASS_BIGINT64ARRAY=m;var h="BigUint64Array";e.BUILTIN_CLASS_BIGUINT64ARRAY=h,e.BUILTIN_CLASS_ARRAYBUFFER="ArrayBuffer",e.BUILTIN_CLASS_SHAREDARRAYBUFFER="SharedArrayBuffer",e.BUILTIN_CLASS_BOOLEAN="Boolean",e.BUILTIN_CLASS_DATAVIEW="DataView",e.BUILTIN_CLASS_DATE="Date";var b="Collator";e.BUILTIN_CLASS_INTL_COLLATOR=b;var y="DateTimeFormat";e.BUILTIN_CLASS_INTL_DATETIMEFORMAT=y;var S="ListFormat";e.BUILTIN_CLASS_INTL_LISTFORMAT=S,e.BUILTIN_CLASS_INTL_LOCALE="Locale";var T="NumberFormat";e.BUILTIN_CLASS_INTL_NUMBERFORMAT=T;var w="PluralRules";e.BUILTIN_CLASS_INTL_PLURALRULES=w;var E="RelativeTimeFormat";e.BUILTIN_CLASS_INTL_RELATIVETIMEFORMAT=E,e.BUILTIN_CLASS_REGEXP="RegExp",e.BUILTIN_CLASS_SET="Set";var O="String";e.BUILTIN_CLASS_STRING=O;var N="Error";e.BUILTIN_CLASS_ERROR=N;var v="EvalError";e.BUILTIN_CLASS_EVAL_ERROR=v;var D="RangeError";e.BUILTIN_CLASS_RANGE_ERROR=D;var I="ReferenceError";e.BUILTIN_CLASS_REFERENCE_ERROR=I;var A="SyntaxError";e.BUILTIN_CLASS_SYNTAX_ERROR=A;var R="TypeError";e.BUILTIN_CLASS_TYPE_ERROR=R;var C="URIError";e.BUILTIN_CLASS_URI_ERROR=C;var F="AggregateError";e.BUILTIN_CLASS_AGGREGATE_ERROR=F,e.BUILTIN_TYPE_BIG_INT="BI",e.BUILTIN_TYPE_NOT_FINITE="NF",e.BUILTIN_TYPE_UNDEFINED="UD";var k=[i,a,o,u,c,d,f,g,_,m,h];e.ALL_BUILTIN_ARRAYS=k;var $=[N,v,D,I,A,R,C,F];e.ALL_BUILTIN_ERRORS=$;var P=[b,y,S,T,w,E];e.ALL_BUILTIN_INTLS=P;var B=r([O],k);e.CLASSNAMES_WHOSE_ENUMERABLE_PROPERTIES_SHOULD_BE_IGNORED=B},496:function(t,e,r){var i=this&&this.__spreadArrays||function(){for(var T=0,w=0,E=arguments.length;w<E;w++)T+=arguments[w].length;var O=Array(T),N=0;for(w=0;w<E;w++)for(var v=arguments[w],D=0,I=v.length;D<I;D++,N++)O[N]=v[D];return O};Object.defineProperty(e,"__esModule",{value:!0}),e.getParentClassName=e.getClassMappingFromClassArray=e.deserializeFromParsedObjWithClassMapping=e.deserializeFromParsedObj=void 0;var a=r(821),o=r(917),u=/^\s*class\s+/;function c(T,w,E){if(E===void 0&&(E={}),a.notObject(T))return T;if(Array.isArray(T))return d(T,w);var O=T[o.CLASS_NAME_FIELD],N=function(D,I,A){switch(D){case o.BUILTIN_CLASS_INT8ARRAY:return f(I[o.ARRAY_FIELD],Int8Array);case o.BUILTIN_CLASS_UINT8ARRAY:return f(I[o.ARRAY_FIELD],Uint8Array);case o.BUILTIN_CLASS_UINT8CLAMPEDARRAY:return f(I[o.ARRAY_FIELD],Uint8ClampedArray);case o.BUILTIN_CLASS_INT16ARRAY:return f(I[o.ARRAY_FIELD],Int16Array);case o.BUILTIN_CLASS_UINT16ARRAY:return f(I[o.ARRAY_FIELD],Uint16Array);case o.BUILTIN_CLASS_INT32ARRAY:return f(I[o.ARRAY_FIELD],Int32Array);case o.BUILTIN_CLASS_UINT32ARRAY:return f(I[o.ARRAY_FIELD],Uint32Array);case o.BUILTIN_CLASS_FLOAT32ARRAY:return f(I[o.ARRAY_FIELD],Float32Array);case o.BUILTIN_CLASS_FLOAT64ARRAY:return f(I[o.ARRAY_FIELD],Float64Array);case o.BUILTIN_CLASS_BIGINT64ARRAY:return g(I[o.ARRAY_FIELD],BigInt64Array);case o.BUILTIN_CLASS_BIGUINT64ARRAY:return g(I[o.ARRAY_FIELD],BigUint64Array);case o.BUILTIN_TYPE_BIG_INT:return _(I[o.TO_STRING_FIELD]);case o.BUILTIN_TYPE_UNDEFINED:return;case o.BUILTIN_TYPE_NOT_FINITE:return a.getValueFromToStringResult(I[o.TO_STRING_FIELD]);case o.BUILTIN_CLASS_ARRAYBUFFER:return R=I[o.ARRAY_FIELD],new Uint8Array(R).buffer;case o.BUILTIN_CLASS_SHAREDARRAYBUFFER:return function(C){var F=new SharedArrayBuffer(C.length),k=new Uint8Array(F);return C.forEach(function($,P){k[P]=$}),F}(I[o.ARRAY_FIELD]);case o.BUILTIN_CLASS_BOOLEAN:return function(C){return new Boolean(C[o.BOOLEAN_FIELD])}(I);case o.BUILTIN_CLASS_DATAVIEW:return function(C){return new DataView(new Uint8Array(C).buffer)}(I[o.ARRAY_FIELD]);case o.BUILTIN_CLASS_DATE:return function(C){return typeof C[o.TIMESTAMP_FIELD]=="number"?new Date(C[o.TIMESTAMP_FIELD]):null}(I);case o.BUILTIN_CLASS_INTL_COLLATOR:return m(I,Intl.Collator);case o.BUILTIN_CLASS_INTL_DATETIMEFORMAT:return m(I,Intl.DateTimeFormat);case o.BUILTIN_CLASS_INTL_LISTFORMAT:return m(I,Intl.ListFormat);case o.BUILTIN_CLASS_INTL_LOCALE:return new Intl.Locale(I[o.TO_STRING_FIELD]);case o.BUILTIN_CLASS_INTL_NUMBERFORMAT:return m(I,Intl.NumberFormat);case o.BUILTIN_CLASS_INTL_PLURALRULES:return m(I,Intl.PluralRules);case o.BUILTIN_CLASS_INTL_RELATIVETIMEFORMAT:return m(I,Intl.RelativeTimeFormat);case o.BUILTIN_CLASS_REGEXP:return function(C){var F=C[o.TO_STRING_FIELD],k=F.lastIndexOf("/");return new RegExp(F.substring(1,k),F.substring(k+1))}(I);case o.BUILTIN_CLASS_SET:return function(C,F){return new Set(d(C[o.ARRAY_FIELD],F))}(I,A);case o.BUILTIN_CLASS_STRING:return function(C){return new String(C[o.TO_STRING_FIELD])}(I);case o.BUILTIN_CLASS_ERROR:return h(I,Error);case o.BUILTIN_CLASS_EVAL_ERROR:return h(I,EvalError);case o.BUILTIN_CLASS_RANGE_ERROR:return h(I,RangeError);case o.BUILTIN_CLASS_REFERENCE_ERROR:return h(I,ReferenceError);case o.BUILTIN_CLASS_SYNTAX_ERROR:return h(I,SyntaxError);case o.BUILTIN_CLASS_TYPE_ERROR:return h(I,TypeError);case o.BUILTIN_CLASS_URI_ERROR:return h(I,URIError);case o.BUILTIN_CLASS_AGGREGATE_ERROR:return h(I,AggregateError);default:return o.ESSERIALIZER_NULL}var R}(O,T,w);if(N!==o.ESSERIALIZER_NULL)return N;if(O&&!w[O])throw new Error("Class "+O+" not found");var v=[];return E.fieldsForConstructorParameters&&(v=E.fieldsForConstructorParameters.map(function(D){return D in T?T[D]:{}})),function(D,I,A,R){for(var C in I){var F=I[C];if(!R.ignoreProperties||!R.ignoreProperties.includes(C))if(R.rawProperties&&R.rawProperties.includes(C))D[C]=JSON.stringify(F);else{var k=Object.getOwnPropertyDescriptor(D,C);$=F,P=k,C===o.CLASS_NAME_FIELD||P&&(typeof P.set=="function"||P.writable===!1&&typeof $!="object")||(k&&k.writable===!1&&typeof F=="object"?y(D[C],F,A):D[C]=c(F,A))}}var $,P;return D}(function(D,I){var A={};if(!D)return A;var R=D.length-I.length;if(R>0&&(I=I.concat(Array.from(Array(R),function(){return{}}))),u.test(D.toString()))try{A=new(D.bind.apply(D,i([void 0],I)))}catch{b(D.name),A={},Object.setPrototypeOf(A,D?D.prototype:Object.prototype)}else{A=Object.create(D.prototype.constructor.prototype);try{D.prototype.constructor.call(A,I)}catch{b(D.name)}}return A}(w[O],v),T,w,E)}function d(T,w){return T.map(function(E){return c(E,w)})}function f(T,w){return new w(T)}function g(T,w){return new w(T.map(function(E){return _(E[o.TO_STRING_FIELD])}))}function _(T){return BigInt(T)}function m(T,w){var E=T[o.OPTIONS_FIELD],O=E.locale;return delete E.locale,new w(O,E)}function h(T,w){var E;return delete(E=T.message?new w(T.message):new w).stack,T.name&&(E.name=T.name),T.stack&&(E.stack=T.stack),w===AggregateError&&(E.errors=c(T.errors,{})),E}function b(T){console.warn("Incorrect parameter type passed to constructor: "+T)}function y(T,w,E){for(var O in w){var N=Object.getOwnPropertyDescriptor(T,O);N&&N.writable!==!0&&typeof N.set!="function"||(T[O]=c(w[O],E))}}function S(T){T===void 0&&(T=[]);var w={};return T.forEach(function(E){if(a.isClass(E)){var O=E.name,N=w[O];N&&N!==E&&console.warn("WARNING: Found class definition with the same name: "+O),w[O]=E}}),w}e.deserializeFromParsedObj=function(T,w,E){return c(T,S(w),E)},e.deserializeFromParsedObjWithClassMapping=c,e.getClassMappingFromClassArray=S,e.getParentClassName=function(T){return T.prototype.__proto__.constructor.name}},821:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isClass=e.notObject=e.getValueFromToStringResult=void 0,e.notObject=function(r){return r===null||typeof r!="object"},e.getValueFromToStringResult=function(r){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN;default:return null}},e.isClass=function(r){if(function(i){return[Date].indexOf(i)>=0}(r))return!0;try{Reflect.construct(String,[],r)}catch{return!1}return!0}},810:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getSerializeValueWithClassName=void 0;var i=r(917),a=r(821);function o(c,d){d===void 0&&(d={});var f=function(h){var b,y,S;return h===void 0?((b={})[i.CLASS_NAME_FIELD]=i.BUILTIN_TYPE_UNDEFINED,b):typeof h!="number"||isFinite(h)?typeof h=="bigint"?((S={})[i.CLASS_NAME_FIELD]=i.BUILTIN_TYPE_BIG_INT,S[i.TO_STRING_FIELD]=h.toString(),S):a.notObject(h)?h:i.ESSERIALIZER_NULL:((y={})[i.CLASS_NAME_FIELD]=i.BUILTIN_TYPE_NOT_FINITE,y[i.TO_STRING_FIELD]=h.toString(),y)}(c);if(f!==i.ESSERIALIZER_NULL)return f;if(Array.isArray(c))return u(c);var g={};if(!function(h){var b=h.__proto__.constructor.name;return i.CLASSNAMES_WHOSE_ENUMERABLE_PROPERTIES_SHOULD_BE_IGNORED.includes(b)}(c)){if(d.ignoreProperties&&d.ignoreProperties.forEach(function(h){delete c[h]}),d.interceptProperties)for(var _ in d.interceptProperties)c[_]=d.interceptProperties[_].call(c,c[_]);for(var m in c)g[m]=o(c[m])}return function(h,b){var y=h.__proto__.constructor.name;return y!=="Object"&&(b[i.CLASS_NAME_FIELD]=y,y===i.BUILTIN_CLASS_ARRAYBUFFER||y===i.BUILTIN_CLASS_SHAREDARRAYBUFFER?b[i.ARRAY_FIELD]=u(Array.from(new Uint8Array(h))):y===i.BUILTIN_CLASS_BOOLEAN?b[i.BOOLEAN_FIELD]=h.valueOf():y===i.BUILTIN_CLASS_DATAVIEW?b[i.ARRAY_FIELD]=u(Array.from(new Uint8Array(h.buffer))):y===i.BUILTIN_CLASS_DATE?b[i.TIMESTAMP_FIELD]=h.getTime():y===i.BUILTIN_CLASS_INTL_LOCALE||y===i.BUILTIN_CLASS_REGEXP?b[i.TO_STRING_FIELD]=h.toString():y===i.BUILTIN_CLASS_SET?b[i.ARRAY_FIELD]=u(Array.from(h)):y===i.BUILTIN_CLASS_STRING?b[i.TO_STRING_FIELD]=h.toString():i.ALL_BUILTIN_ARRAYS.includes(y)?b[i.ARRAY_FIELD]=u(Array.from(h)):i.ALL_BUILTIN_ERRORS.includes(y)?function(S,T,w){S.name!=="Error"&&(T.name=S.name),S.message&&(T.message=S.message),S.stack&&(T.stack=S.stack),w===i.BUILTIN_CLASS_AGGREGATE_ERROR&&(T.errors=o(S.errors))}(h,b,y):i.ALL_BUILTIN_INTLS.includes(y)&&(b[i.OPTIONS_FIELD]=h.resolvedOptions())),b}(c,g)}function u(c){return c.map(function(d){return o(d)})}e.getSerializeValueWithClassName=o}},__webpack_module_cache__={};function __webpack_require__(t){if(__webpack_module_cache__[t])return __webpack_module_cache__[t].exports;var e=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(e.exports,e,e.exports,__webpack_require__),e.exports}return __webpack_require__(607)})())})(bundle);var ESSerializer=getDefaultExportFromCjs(bundle);function idbReady(){if(!(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent))||!indexedDB.databases)return Promise.resolve();let e;return new Promise(r=>{const i=()=>indexedDB.databases().finally(r);e=setInterval(i,100),i()}).finally(()=>clearInterval(e))}function promisifyRequest(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function createStore(t,e){const r=idbReady().then(()=>{const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),promisifyRequest(i)});return(i,a)=>r.then(o=>a(o.transaction(e,i).objectStore(e)))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore("keyval-store","keyval")),defaultGetStoreFunc}function get(t,e=defaultGetStore()){return e("readonly",r=>promisifyRequest(r.get(t)))}function set(t,e,r=defaultGetStore()){return r("readwrite",i=>(i.put(e,t),promisifyRequest(i.transaction)))}function del(t,e=defaultGetStore()){return e("readwrite",r=>(r.delete(t),promisifyRequest(r.transaction)))}const alreadyWarnFor=[],warnStorageNotFound=t=>{var e;const r=typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.NODE_ENV)==="production";if(alreadyWarnFor.indexOf(t)===-1&&!r){let i=`Unable to find the ${t}. No data will be persisted.`;typeof window>"u"&&(i+=`
Are you running on a server? Most of storages are not available while running on a server.`),console.warn(i),alreadyWarnFor.push(t)}},allowedClasses=[],serialize=t=>ESSerializer.serialize(t),deserialize=t=>{if(t!=="undefined"){if(t!=null){try{return ESSerializer.deserialize(t,allowedClasses)}catch{}try{return JSON.parse(t)}catch{}}return t}};function persist(t,e,r){const i=e.getValue(r);return i!==null&&t.set(i),e.addListener&&e.addListener(r,a=>{t.set(a)}),t.subscribe(a=>{e.setValue(r,a)}),Object.assign(Object.assign({},t),{delete(){e.deleteValue(r)}})}function indexedDBStorage(){if(typeof indexedDB!="object"||typeof window>"u"||typeof(window==null?void 0:window.indexedDB)!="object")return warnStorageNotFound("IndexedDB"),noopSelfUpdateStorage();const t=createStore("svelte-persist","persist"),e=[],r=(i,a)=>{a!==void 0&&e.filter(({key:o})=>o===i).forEach(({listener:o})=>o(a))};return{addListener(i,a){e.push({key:i,listener:a})},removeListener(i,a){const o=e.indexOf({key:i,listener:a});o!==-1&&e.splice(o,1)},getValue(i){return get(i,t).then(a=>r(i,deserialize(a))),null},setValue(i,a){set(i,serialize(a),t)},deleteValue(i){del(i,t)}}}function noopSelfUpdateStorage(){return{addListener(){},removeListener(){},getValue(){return null},deleteValue(){},setValue(){}}}const subscriptionsStore=persist(writable(),indexedDBStorage(),"subscriptions"),settingsStore=writable(),editorVisible=writable(!1),playerStore=writable();function create_default_slot_2$3(t){let e;return{c(){e=element("a"),e.textContent="YouTube Video Deck",attr(e,"class","font-extrabold"),attr(e,"href","#")},m(r,i){insert(r,e,i)},p:noop,d(r){r&&detach(e)}}}function create_if_block_1$3(t){let e,r;return e=new PrimaryButton({props:{class:"w-20 m-1",$$slots:{default:[create_default_slot_1$3]},$$scope:{ctx:t}}}),e.$on("click",t[4]),{c(){create_component(e.$$.fragment)},m(i,a){mount_component(e,i,a),r=!0},p(i,a){const o={};a&64&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){r||(transition_in(e.$$.fragment,i),r=!0)},o(i){transition_out(e.$$.fragment,i),r=!1},d(i){destroy_component(e,i)}}}function create_default_slot_1$3(t){let e;return{c(){e=text("Edit")},m(r,i){insert(r,e,i)},d(r){r&&detach(e)}}}function create_before_slot(t){let e,r,i=t[1]&&t[2]&&t[3]&&create_if_block_1$3(t);return{c(){e=element("div"),i&&i.c(),attr(e,"slot","before"),attr(e,"class","float-left p-1")},m(a,o){insert(a,e,o),i&&i.m(e,null),r=!0},p(a,o){a[1]&&a[2]&&a[3]?i?(i.p(a,o),o&14&&transition_in(i,1)):(i=create_if_block_1$3(a),i.c(),transition_in(i,1),i.m(e,null)):i&&(group_outros(),transition_out(i,1,1,()=>{i=null}),check_outros())},i(a){r||(transition_in(i),r=!0)},o(a){transition_out(i),r=!1},d(a){a&&detach(e),i&&i.d()}}}function create_if_block$5(t){let e,r;return e=new PrimaryButton({props:{class:"w-20 m-1",$$slots:{default:[create_default_slot$4]},$$scope:{ctx:t}}}),e.$on("click",signOut),{c(){create_component(e.$$.fragment)},m(i,a){mount_component(e,i,a),r=!0},p(i,a){const o={};a&64&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){r||(transition_in(e.$$.fragment,i),r=!0)},o(i){transition_out(e.$$.fragment,i),r=!1},d(i){destroy_component(e,i)}}}function create_default_slot$4(t){let e;return{c(){e=text("Sign out")},m(r,i){insert(r,e,i)},d(r){r&&detach(e)}}}function create_after_slot(t){let e,r,i=t[0]&&create_if_block$5(t);return{c(){e=element("div"),i&&i.c(),attr(e,"slot","after"),attr(e,"class","float-right p-1")},m(a,o){insert(a,e,o),i&&i.m(e,null),r=!0},p(a,o){a[0]?i?(i.p(a,o),o&1&&transition_in(i,1)):(i=create_if_block$5(a),i.c(),transition_in(i,1),i.m(e,null)):i&&(group_outros(),transition_out(i,1,1,()=>{i=null}),check_outros())},i(a){r||(transition_in(i),r=!0)},o(a){transition_out(i),r=!1},d(a){a&&detach(e),i&&i.d()}}}function create_fragment$9(t){let e,r,i;return r=new Center({props:{$$slots:{after:[create_after_slot],before:[create_before_slot],default:[create_default_slot_2$3]},$$scope:{ctx:t}}}),{c(){e=element("header"),create_component(r.$$.fragment),attr(e,"class","w-full h-12")},m(a,o){insert(a,e,o),mount_component(r,e,null),i=!0},p(a,[o]){const u={};o&79&&(u.$$scope={dirty:o,ctx:a}),r.$set(u)},i(a){i||(transition_in(r.$$.fragment,a),i=!0)},o(a){transition_out(r.$$.fragment,a),i=!1},d(a){a&&detach(e),destroy_component(r)}}}function signOut(){gapi.auth2.getAuthInstance().signOut()}function instance$9(t,e,r){let i,a,o;component_subscribe(t,editorVisible,f=>r(5,i=f)),component_subscribe(t,settingsStore,f=>r(2,a=f)),component_subscribe(t,subscriptionsStore,f=>r(3,o=f));let{isSignedIn:u}=e,{isAuthorized:c}=e;function d(){set_store_value(editorVisible,i=!0,i)}return t.$$set=f=>{"isSignedIn"in f&&r(0,u=f.isSignedIn),"isAuthorized"in f&&r(1,c=f.isAuthorized)},[u,c,a,o,d]}class Header extends SvelteComponent{constructor(e){super(),init(this,e,instance$9,create_fragment$9,safe_not_equal,{isSignedIn:0,isAuthorized:1})}}function Video(t){var e,r;return{videoId:t.id,title:t.snippet.title,description:t.snippet.description.substring(0,275),thumbnailUrl:t.snippet.thumbnails.medium.url,publishedAt:((e=t.liveStreamingDetails)==null?void 0:e.actualStartTime)||((r=t.liveStreamingDetails)==null?void 0:r.scheduledStartTime)||t.snippet.publishedAt,duration:t.contentDetails.duration,viewCount:t.statistics.viewCount,likeCount:t.statistics.likeCount,commentCount:t.statistics.commentCount}}function Subscription(t,e){return{channelId:t.snippet.resourceId.channelId,title:t.snippet.title,thumbnailUrl:t.snippet.thumbnails.default.url,uploadsPlaylistId:e.contentDetails.relatedPlaylists.uploads,uploads:[]}}function setUploads(t,e,r){t.uploadsEtag=e.etag,t.nextUploadPageToken=e.nextPageToken,t.uploads=r.items.map(Video)}function addUploads(t,e,r){t.nextUploadPageToken=e.nextPageToken,r.items.forEach(i=>t.uploads.push(Video(i)))}const subscriptionsModelVersion=2;function Subscriptions(t,e){return{etag:t.etag,items:t.items.flatMap(r=>r.map(i=>{const a=e.get(i.snippet.resourceId.channelId);return Subscription(i,a)})),version:subscriptionsModelVersion}}class LuxonError extends Error{}class InvalidDateTimeError extends LuxonError{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class InvalidIntervalError extends LuxonError{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class InvalidDurationError extends LuxonError{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class ConflictingSpecificationError extends LuxonError{}class InvalidUnitError extends LuxonError{constructor(e){super(`Invalid unit ${e}`)}}class InvalidArgumentError extends LuxonError{}class ZoneIsAbstractError extends LuxonError{constructor(){super("Zone is an abstract class")}}const n="numeric",s="short",l="long",DATE_SHORT={year:n,month:n,day:n},DATE_MED={year:n,month:s,day:n},DATE_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s},DATE_FULL={year:n,month:l,day:n},DATE_HUGE={year:n,month:l,day:n,weekday:l},TIME_SIMPLE={hour:n,minute:n},TIME_WITH_SECONDS={hour:n,minute:n,second:n},TIME_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,timeZoneName:s},TIME_WITH_LONG_OFFSET={hour:n,minute:n,second:n,timeZoneName:l},TIME_24_SIMPLE={hour:n,minute:n,hourCycle:"h23"},TIME_24_WITH_SECONDS={hour:n,minute:n,second:n,hourCycle:"h23"},TIME_24_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:s},TIME_24_WITH_LONG_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:l},DATETIME_SHORT={year:n,month:n,day:n,hour:n,minute:n},DATETIME_SHORT_WITH_SECONDS={year:n,month:n,day:n,hour:n,minute:n,second:n},DATETIME_MED={year:n,month:s,day:n,hour:n,minute:n},DATETIME_MED_WITH_SECONDS={year:n,month:s,day:n,hour:n,minute:n,second:n},DATETIME_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s,hour:n,minute:n},DATETIME_FULL={year:n,month:l,day:n,hour:n,minute:n,timeZoneName:s},DATETIME_FULL_WITH_SECONDS={year:n,month:l,day:n,hour:n,minute:n,second:n,timeZoneName:s},DATETIME_HUGE={year:n,month:l,day:n,weekday:l,hour:n,minute:n,timeZoneName:l},DATETIME_HUGE_WITH_SECONDS={year:n,month:l,day:n,weekday:l,hour:n,minute:n,second:n,timeZoneName:l};function isUndefined(t){return typeof t>"u"}function isNumber(t){return typeof t=="number"}function isInteger(t){return typeof t=="number"&&t%1===0}function isString(t){return typeof t=="string"}function isDate(t){return Object.prototype.toString.call(t)==="[object Date]"}function hasRelative(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function maybeArray(t){return Array.isArray(t)?t:[t]}function bestBy(t,e,r){if(t.length!==0)return t.reduce((i,a)=>{const o=[e(a),a];return i&&r(i[0],o[0])===i[0]?i:o},null)[1]}function pick(t,e){return e.reduce((r,i)=>(r[i]=t[i],r),{})}function hasOwnProperty(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function integerBetween(t,e,r){return isInteger(t)&&t>=e&&t<=r}function floorMod(t,e){return t-e*Math.floor(t/e)}function padStart(t,e=2){const r=t<0;let i;return r?i="-"+(""+-t).padStart(e,"0"):i=(""+t).padStart(e,"0"),i}function parseInteger(t){if(!(isUndefined(t)||t===null||t===""))return parseInt(t,10)}function parseFloating(t){if(!(isUndefined(t)||t===null||t===""))return parseFloat(t)}function parseMillis(t){if(!(isUndefined(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function roundTo(t,e,r=!1){const i=10**e;return(r?Math.trunc:Math.round)(t*i)/i}function isLeapYear(t){return t%4===0&&(t%100!==0||t%400===0)}function daysInYear(t){return isLeapYear(t)?366:365}function daysInMonth(t,e){const r=floorMod(e-1,12)+1,i=t+(e-r)/12;return r===2?isLeapYear(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function objToLocalTS(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function weeksInWeekYear(t){const e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,r=t-1,i=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return e===4||i===3?53:52}function untruncateYear(t){return t>99?t:t>60?1900+t:2e3+t}function parseZoneInfo(t,e,r,i=null){const a=new Date(t),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(o.timeZone=i);const u={timeZoneName:e,...o},c=new Intl.DateTimeFormat(r,u).formatToParts(a).find(d=>d.type.toLowerCase()==="timezonename");return c?c.value:null}function signedOffset(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const i=parseInt(e,10)||0,a=r<0||Object.is(r,-0)?-i:i;return r*60+a}function asNumber(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new InvalidArgumentError(`Invalid unit value ${t}`);return e}function normalizeObject(t,e){const r={};for(const i in t)if(hasOwnProperty(t,i)){const a=t[i];if(a==null)continue;r[e(i)]=asNumber(a)}return r}function formatOffset(t,e){const r=Math.trunc(Math.abs(t/60)),i=Math.trunc(Math.abs(t%60)),a=t>=0?"+":"-";switch(e){case"short":return`${a}${padStart(r,2)}:${padStart(i,2)}`;case"narrow":return`${a}${r}${i>0?`:${i}`:""}`;case"techie":return`${a}${padStart(r,2)}${padStart(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function timeObject(t){return pick(t,["hour","minute","second","millisecond"])}const ianaRegex=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,monthsLong=["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsNarrow=["J","F","M","A","M","J","J","A","S","O","N","D"];function months(t){switch(t){case"narrow":return[...monthsNarrow];case"short":return[...monthsShort];case"long":return[...monthsLong];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const weekdaysLong=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],weekdaysShort=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],weekdaysNarrow=["M","T","W","T","F","S","S"];function weekdays(t){switch(t){case"narrow":return[...weekdaysNarrow];case"short":return[...weekdaysShort];case"long":return[...weekdaysLong];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const meridiems=["AM","PM"],erasLong=["Before Christ","Anno Domini"],erasShort=["BC","AD"],erasNarrow=["B","A"];function eras(t){switch(t){case"narrow":return[...erasNarrow];case"short":return[...erasShort];case"long":return[...erasLong];default:return null}}function meridiemForDateTime(t){return meridiems[t.hour<12?0:1]}function weekdayForDateTime(t,e){return weekdays(e)[t.weekday-1]}function monthForDateTime(t,e){return months(e)[t.month-1]}function eraForDateTime(t,e){return eras(e)[t.year<0?0:1]}function formatRelativeTime(t,e,r="always",i=!1){const a={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&o){const _=t==="days";switch(e){case 1:return _?"tomorrow":`next ${a[t][0]}`;case-1:return _?"yesterday":`last ${a[t][0]}`;case 0:return _?"today":`this ${a[t][0]}`}}const u=Object.is(e,-0)||e<0,c=Math.abs(e),d=c===1,f=a[t],g=i?d?f[1]:f[2]||f[1]:d?a[t][0]:t;return u?`${c} ${g} ago`:`in ${c} ${g}`}function stringifyTokens(t,e){let r="";for(const i of t)i.literal?r+=i.val:r+=e(i.val);return r}const macroTokenToFormatOpts={D:DATE_SHORT,DD:DATE_MED,DDD:DATE_FULL,DDDD:DATE_HUGE,t:TIME_SIMPLE,tt:TIME_WITH_SECONDS,ttt:TIME_WITH_SHORT_OFFSET,tttt:TIME_WITH_LONG_OFFSET,T:TIME_24_SIMPLE,TT:TIME_24_WITH_SECONDS,TTT:TIME_24_WITH_SHORT_OFFSET,TTTT:TIME_24_WITH_LONG_OFFSET,f:DATETIME_SHORT,ff:DATETIME_MED,fff:DATETIME_FULL,ffff:DATETIME_HUGE,F:DATETIME_SHORT_WITH_SECONDS,FF:DATETIME_MED_WITH_SECONDS,FFF:DATETIME_FULL_WITH_SECONDS,FFFF:DATETIME_HUGE_WITH_SECONDS};class Formatter{static create(e,r={}){return new Formatter(e,r)}static parseFormat(e){let r=null,i="",a=!1;const o=[];for(let u=0;u<e.length;u++){const c=e.charAt(u);c==="'"?(i.length>0&&o.push({literal:a,val:i}),r=null,i="",a=!a):a||c===r?i+=c:(i.length>0&&o.push({literal:!1,val:i}),i=c,r=c)}return i.length>0&&o.push({literal:a,val:i}),o}static macroTokenToFormatOpts(e){return macroTokenToFormatOpts[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}formatDateTime(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r}).format()}formatDateTimeParts(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r}).formatToParts()}resolvedOptions(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r}).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return padStart(e,r);const i={...this.opts};return r>0&&(i.padTo=r),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,r){const i=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(h,b)=>this.loc.extract(e,h,b),u=h=>e.isOffsetFixed&&e.offset===0&&h.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,h.format):"",c=()=>i?meridiemForDateTime(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(h,b)=>i?monthForDateTime(e,h):o(b?{month:h}:{month:h,day:"numeric"},"month"),f=(h,b)=>i?weekdayForDateTime(e,h):o(b?{weekday:h}:{weekday:h,month:"long",day:"numeric"},"weekday"),g=h=>{const b=Formatter.macroTokenToFormatOpts(h);return b?this.formatWithSystemDefault(e,b):h},_=h=>i?eraForDateTime(e,h):o({era:h},"era"),m=h=>{switch(h){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return u({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return u({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return u({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return c();case"d":return a?o({day:"numeric"},"day"):this.num(e.day);case"dd":return a?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return f("short",!0);case"cccc":return f("long",!0);case"ccccc":return f("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return f("short",!1);case"EEEE":return f("long",!1);case"EEEEE":return f("narrow",!1);case"L":return a?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return a?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return a?o({month:"numeric"},"month"):this.num(e.month);case"MM":return a?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return a?o({year:"numeric"},"year"):this.num(e.year);case"yy":return a?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return a?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return a?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return _("short");case"GG":return _("long");case"GGGGG":return _("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return g(h)}};return stringifyTokens(Formatter.parseFormat(r),m)}formatDurationFromString(e,r){const i=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},a=d=>f=>{const g=i(f);return g?this.num(d.get(g),f.length):f},o=Formatter.parseFormat(r),u=o.reduce((d,{literal:f,val:g})=>f?d:d.concat(g),[]),c=e.shiftTo(...u.map(i).filter(d=>d));return stringifyTokens(o,a(c))}}class Invalid{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class Zone{get type(){throw new ZoneIsAbstractError}get name(){throw new ZoneIsAbstractError}get ianaName(){return this.name}get isUniversal(){throw new ZoneIsAbstractError}offsetName(e,r){throw new ZoneIsAbstractError}formatOffset(e,r){throw new ZoneIsAbstractError}offset(e){throw new ZoneIsAbstractError}equals(e){throw new ZoneIsAbstractError}get isValid(){throw new ZoneIsAbstractError}}let singleton$1=null;class SystemZone extends Zone{static get instance(){return singleton$1===null&&(singleton$1=new SystemZone),singleton$1}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:i}){return parseZoneInfo(e,r,i)}formatOffset(e,r){return formatOffset(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let dtfCache={};function makeDTF(t){return dtfCache[t]||(dtfCache[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),dtfCache[t]}const typeToPos={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function hackyOffset(t,e){const r=t.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,a,o,u,c,d,f,g]=i;return[u,a,o,c,d,f,g]}function partsOffset(t,e){const r=t.formatToParts(e),i=[];for(let a=0;a<r.length;a++){const{type:o,value:u}=r[a],c=typeToPos[o];o==="era"?i[c]=u:isUndefined(c)||(i[c]=parseInt(u,10))}return i}let ianaZoneCache={};class IANAZone extends Zone{static create(e){return ianaZoneCache[e]||(ianaZoneCache[e]=new IANAZone(e)),ianaZoneCache[e]}static resetCache(){ianaZoneCache={},dtfCache={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=IANAZone.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:i}){return parseZoneInfo(e,r,i,this.name)}formatOffset(e,r){return formatOffset(this.offset(e),r)}offset(e){const r=new Date(e);if(isNaN(r))return NaN;const i=makeDTF(this.name);let[a,o,u,c,d,f,g]=i.formatToParts?partsOffset(i,r):hackyOffset(i,r);c==="BC"&&(a=-Math.abs(a)+1);const m=objToLocalTS({year:a,month:o,day:u,hour:d===24?0:d,minute:f,second:g,millisecond:0});let h=+r;const b=h%1e3;return h-=b>=0?b:1e3+b,(m-h)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let singleton=null;class FixedOffsetZone extends Zone{static get utcInstance(){return singleton===null&&(singleton=new FixedOffsetZone(0)),singleton}static instance(e){return e===0?FixedOffsetZone.utcInstance:new FixedOffsetZone(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new FixedOffsetZone(signedOffset(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${formatOffset(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${formatOffset(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return formatOffset(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class InvalidZone extends Zone{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function normalizeZone(t,e){if(isUndefined(t)||t===null)return e;if(t instanceof Zone)return t;if(isString(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?SystemZone.instance:r==="utc"||r==="gmt"?FixedOffsetZone.utcInstance:FixedOffsetZone.parseSpecifier(r)||IANAZone.create(t)}else return isNumber(t)?FixedOffsetZone.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new InvalidZone(t)}let now=()=>Date.now(),defaultZone="system",defaultLocale=null,defaultNumberingSystem=null,defaultOutputCalendar=null,throwOnInvalid;class Settings$1{static get now(){return now}static set now(e){now=e}static set defaultZone(e){defaultZone=e}static get defaultZone(){return normalizeZone(defaultZone,SystemZone.instance)}static get defaultLocale(){return defaultLocale}static set defaultLocale(e){defaultLocale=e}static get defaultNumberingSystem(){return defaultNumberingSystem}static set defaultNumberingSystem(e){defaultNumberingSystem=e}static get defaultOutputCalendar(){return defaultOutputCalendar}static set defaultOutputCalendar(e){defaultOutputCalendar=e}static get throwOnInvalid(){return throwOnInvalid}static set throwOnInvalid(e){throwOnInvalid=e}static resetCaches(){Locale.resetCache(),IANAZone.resetCache()}}let intlLFCache={};function getCachedLF(t,e={}){const r=JSON.stringify([t,e]);let i=intlLFCache[r];return i||(i=new Intl.ListFormat(t,e),intlLFCache[r]=i),i}let intlDTCache={};function getCachedDTF(t,e={}){const r=JSON.stringify([t,e]);let i=intlDTCache[r];return i||(i=new Intl.DateTimeFormat(t,e),intlDTCache[r]=i),i}let intlNumCache={};function getCachedINF(t,e={}){const r=JSON.stringify([t,e]);let i=intlNumCache[r];return i||(i=new Intl.NumberFormat(t,e),intlNumCache[r]=i),i}let intlRelCache={};function getCachedRTF(t,e={}){const{base:r,...i}=e,a=JSON.stringify([t,i]);let o=intlRelCache[a];return o||(o=new Intl.RelativeTimeFormat(t,e),intlRelCache[a]=o),o}let sysLocaleCache=null;function systemLocale(){return sysLocaleCache||(sysLocaleCache=new Intl.DateTimeFormat().resolvedOptions().locale,sysLocaleCache)}function parseLocaleString(t){const e=t.indexOf("-u-");if(e===-1)return[t];{let r;const i=t.substring(0,e);try{r=getCachedDTF(t).resolvedOptions()}catch{r=getCachedDTF(i).resolvedOptions()}const{numberingSystem:a,calendar:o}=r;return[i,a,o]}}function intlConfigString(t,e,r){return(r||e)&&(t+="-u",r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function mapMonths(t){const e=[];for(let r=1;r<=12;r++){const i=DateTime.utc(2016,r,1);e.push(t(i))}return e}function mapWeekdays(t){const e=[];for(let r=1;r<=7;r++){const i=DateTime.utc(2016,11,13+r);e.push(t(i))}return e}function listStuff(t,e,r,i,a){const o=t.listingMode(r);return o==="error"?null:o==="en"?i(e):a(e)}function supportsFastNumbers(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class PolyNumberFormatter{constructor(e,r,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:a,floor:o,...u}=i;if(!r||Object.keys(u).length>0){const c={useGrouping:!1,...i};i.padTo>0&&(c.minimumIntegerDigits=i.padTo),this.inf=getCachedINF(e,c)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):roundTo(e,3);return padStart(r,this.padTo)}}}class PolyDateFormatter{constructor(e,r,i){this.opts=i;let a;if(e.zone.isUniversal){const u=-1*(e.offset/60),c=u>=0?`Etc/GMT+${u}`:`Etc/GMT${u}`;e.offset!==0&&IANAZone.create(c).valid?(a=c,this.dt=e):(a="UTC",i.timeZoneName?this.dt=e:this.dt=e.offset===0?e:DateTime.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,a=e.zone.name);const o={...this.opts};a&&(o.timeZone=a),this.dtf=getCachedDTF(r,o)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class PolyRelFormatter{constructor(e,r,i){this.opts={style:"long",...i},!r&&hasRelative()&&(this.rtf=getCachedRTF(e,i))}format(e,r){return this.rtf?this.rtf.format(e,r):formatRelativeTime(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}class Locale{static fromOpts(e){return Locale.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,r,i,a=!1){const o=e||Settings$1.defaultLocale,u=o||(a?"en-US":systemLocale()),c=r||Settings$1.defaultNumberingSystem,d=i||Settings$1.defaultOutputCalendar;return new Locale(u,c,d,o)}static resetCache(){sysLocaleCache=null,intlDTCache={},intlNumCache={},intlRelCache={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:i}={}){return Locale.create(e,r,i)}constructor(e,r,i,a){const[o,u,c]=parseLocaleString(e);this.locale=o,this.numberingSystem=r||u||null,this.outputCalendar=i||c||null,this.intl=intlConfigString(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=supportsFastNumbers(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Locale.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1,i=!0){return listStuff(this,e,i,months,()=>{const a=r?{month:e,day:"numeric"}:{month:e},o=r?"format":"standalone";return this.monthsCache[o][e]||(this.monthsCache[o][e]=mapMonths(u=>this.extract(u,a,"month"))),this.monthsCache[o][e]})}weekdays(e,r=!1,i=!0){return listStuff(this,e,i,weekdays,()=>{const a=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},o=r?"format":"standalone";return this.weekdaysCache[o][e]||(this.weekdaysCache[o][e]=mapWeekdays(u=>this.extract(u,a,"weekday"))),this.weekdaysCache[o][e]})}meridiems(e=!0){return listStuff(this,void 0,e,()=>meridiems,()=>{if(!this.meridiemCache){const r={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[DateTime.utc(2016,11,13,9),DateTime.utc(2016,11,13,19)].map(i=>this.extract(i,r,"dayperiod"))}return this.meridiemCache})}eras(e,r=!0){return listStuff(this,e,r,eras,()=>{const i={era:e};return this.eraCache[e]||(this.eraCache[e]=[DateTime.utc(-40,1,1),DateTime.utc(2017,1,1)].map(a=>this.extract(a,i,"era"))),this.eraCache[e]})}extract(e,r,i){const a=this.dtFormatter(e,r),o=a.formatToParts(),u=o.find(c=>c.type.toLowerCase()===i);return u?u.value:null}numberFormatter(e={}){return new PolyNumberFormatter(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new PolyDateFormatter(e,this.intl,r)}relFormatter(e={}){return new PolyRelFormatter(this.intl,this.isEnglish(),e)}listFormatter(e={}){return getCachedLF(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}function combineRegexes(...t){const e=t.reduce((r,i)=>r+i.source,"");return RegExp(`^${e}$`)}function combineExtractors(...t){return e=>t.reduce(([r,i,a],o)=>{const[u,c,d]=o(e,a);return[{...r,...u},c||i,d]},[{},null,1]).slice(0,2)}function parse(t,...e){if(t==null)return[null,null];for(const[r,i]of e){const a=r.exec(t);if(a)return i(a)}return[null,null]}function simpleParse(...t){return(e,r)=>{const i={};let a;for(a=0;a<t.length;a++)i[t[a]]=parseInteger(e[r+a]);return[i,null,r+a]}}const offsetRegex=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,isoExtendedZone=`(?:${offsetRegex.source}?(?:\\[(${ianaRegex.source})\\])?)?`,isoTimeBaseRegex=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,isoTimeRegex=RegExp(`${isoTimeBaseRegex.source}${isoExtendedZone}`),isoTimeExtensionRegex=RegExp(`(?:T${isoTimeRegex.source})?`),isoYmdRegex=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,isoWeekRegex=/(\d{4})-?W(\d\d)(?:-?(\d))?/,isoOrdinalRegex=/(\d{4})-?(\d{3})/,extractISOWeekData=simpleParse("weekYear","weekNumber","weekDay"),extractISOOrdinalData=simpleParse("year","ordinal"),sqlYmdRegex=/(\d{4})-(\d\d)-(\d\d)/,sqlTimeRegex=RegExp(`${isoTimeBaseRegex.source} ?(?:${offsetRegex.source}|(${ianaRegex.source}))?`),sqlTimeExtensionRegex=RegExp(`(?: ${sqlTimeRegex.source})?`);function int(t,e,r){const i=t[e];return isUndefined(i)?r:parseInteger(i)}function extractISOYmd(t,e){return[{year:int(t,e),month:int(t,e+1,1),day:int(t,e+2,1)},null,e+3]}function extractISOTime(t,e){return[{hours:int(t,e,0),minutes:int(t,e+1,0),seconds:int(t,e+2,0),milliseconds:parseMillis(t[e+3])},null,e+4]}function extractISOOffset(t,e){const r=!t[e]&&!t[e+1],i=signedOffset(t[e+1],t[e+2]),a=r?null:FixedOffsetZone.instance(i);return[{},a,e+3]}function extractIANAZone(t,e){const r=t[e]?IANAZone.create(t[e]):null;return[{},r,e+1]}const isoTimeOnly=RegExp(`^T?${isoTimeBaseRegex.source}$`),isoDuration=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function extractISODuration(t){const[e,r,i,a,o,u,c,d,f]=t,g=e[0]==="-",_=d&&d[0]==="-",m=(h,b=!1)=>h!==void 0&&(b||h&&g)?-h:h;return[{years:m(parseFloating(r)),months:m(parseFloating(i)),weeks:m(parseFloating(a)),days:m(parseFloating(o)),hours:m(parseFloating(u)),minutes:m(parseFloating(c)),seconds:m(parseFloating(d),d==="-0"),milliseconds:m(parseMillis(f),_)}]}const obsOffsets={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fromStrings(t,e,r,i,a,o,u){const c={year:e.length===2?untruncateYear(parseInteger(e)):parseInteger(e),month:monthsShort.indexOf(r)+1,day:parseInteger(i),hour:parseInteger(a),minute:parseInteger(o)};return u&&(c.second=parseInteger(u)),t&&(c.weekday=t.length>3?weekdaysLong.indexOf(t)+1:weekdaysShort.indexOf(t)+1),c}const rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function extractRFC2822(t){const[,e,r,i,a,o,u,c,d,f,g,_]=t,m=fromStrings(e,a,i,r,o,u,c);let h;return d?h=obsOffsets[d]:f?h=0:h=signedOffset(g,_),[m,new FixedOffsetZone(h)]}function preprocessRFC2822(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const rfc1123=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,rfc850=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ascii=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function extractRFC1123Or850(t){const[,e,r,i,a,o,u,c]=t;return[fromStrings(e,a,i,r,o,u,c),FixedOffsetZone.utcInstance]}function extractASCII(t){const[,e,r,i,a,o,u,c]=t;return[fromStrings(e,c,r,i,a,o,u),FixedOffsetZone.utcInstance]}const isoYmdWithTimeExtensionRegex=combineRegexes(isoYmdRegex,isoTimeExtensionRegex),isoWeekWithTimeExtensionRegex=combineRegexes(isoWeekRegex,isoTimeExtensionRegex),isoOrdinalWithTimeExtensionRegex=combineRegexes(isoOrdinalRegex,isoTimeExtensionRegex),isoTimeCombinedRegex=combineRegexes(isoTimeRegex),extractISOYmdTimeAndOffset=combineExtractors(extractISOYmd,extractISOTime,extractISOOffset,extractIANAZone),extractISOWeekTimeAndOffset=combineExtractors(extractISOWeekData,extractISOTime,extractISOOffset,extractIANAZone),extractISOOrdinalDateAndTime=combineExtractors(extractISOOrdinalData,extractISOTime,extractISOOffset,extractIANAZone),extractISOTimeAndOffset=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseISODate(t){return parse(t,[isoYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[isoWeekWithTimeExtensionRegex,extractISOWeekTimeAndOffset],[isoOrdinalWithTimeExtensionRegex,extractISOOrdinalDateAndTime],[isoTimeCombinedRegex,extractISOTimeAndOffset])}function parseRFC2822Date(t){return parse(preprocessRFC2822(t),[rfc2822,extractRFC2822])}function parseHTTPDate(t){return parse(t,[rfc1123,extractRFC1123Or850],[rfc850,extractRFC1123Or850],[ascii,extractASCII])}function parseISODuration(t){return parse(t,[isoDuration,extractISODuration])}const extractISOTimeOnly=combineExtractors(extractISOTime);function parseISOTimeOnly(t){return parse(t,[isoTimeOnly,extractISOTimeOnly])}const sqlYmdWithTimeExtensionRegex=combineRegexes(sqlYmdRegex,sqlTimeExtensionRegex),sqlTimeCombinedRegex=combineRegexes(sqlTimeRegex),extractISOTimeOffsetAndIANAZone=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseSQL(t){return parse(t,[sqlYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[sqlTimeCombinedRegex,extractISOTimeOffsetAndIANAZone])}const INVALID$2="Invalid Duration",lowOrderMatrix={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},casualMatrix={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...lowOrderMatrix},daysInYearAccurate=146097/400,daysInMonthAccurate=146097/4800,accurateMatrix={years:{quarters:4,months:12,weeks:daysInYearAccurate/7,days:daysInYearAccurate,hours:daysInYearAccurate*24,minutes:daysInYearAccurate*24*60,seconds:daysInYearAccurate*24*60*60,milliseconds:daysInYearAccurate*24*60*60*1e3},quarters:{months:3,weeks:daysInYearAccurate/28,days:daysInYearAccurate/4,hours:daysInYearAccurate*24/4,minutes:daysInYearAccurate*24*60/4,seconds:daysInYearAccurate*24*60*60/4,milliseconds:daysInYearAccurate*24*60*60*1e3/4},months:{weeks:daysInMonthAccurate/7,days:daysInMonthAccurate,hours:daysInMonthAccurate*24,minutes:daysInMonthAccurate*24*60,seconds:daysInMonthAccurate*24*60*60,milliseconds:daysInMonthAccurate*24*60*60*1e3},...lowOrderMatrix},orderedUnits$1=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],reverseUnits=orderedUnits$1.slice(0).reverse();function clone$1(t,e,r=!1){const i={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy};return new Duration(i)}function antiTrunc(t){return t<0?Math.floor(t):Math.ceil(t)}function convert(t,e,r,i,a){const o=t[a][r],u=e[r]/o,c=Math.sign(u)===Math.sign(i[a]),d=!c&&i[a]!==0&&Math.abs(u)<=1?antiTrunc(u):Math.trunc(u);i[a]+=d,e[r]-=d*o}function normalizeValues(t,e){reverseUnits.reduce((r,i)=>isUndefined(e[i])?r:(r&&convert(t,e,r,e,i),i),null)}class Duration{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;this.values=e.values,this.loc=e.loc||Locale.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r?accurateMatrix:casualMatrix,this.isLuxonDuration=!0}static fromMillis(e,r){return Duration.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new InvalidArgumentError(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Duration({values:normalizeObject(e,Duration.normalizeUnit),loc:Locale.fromObject(r),conversionAccuracy:r.conversionAccuracy})}static fromDurationLike(e){if(isNumber(e))return Duration.fromMillis(e);if(Duration.isDuration(e))return e;if(typeof e=="object")return Duration.fromObject(e);throw new InvalidArgumentError(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[i]=parseISODuration(e);return i?Duration.fromObject(i,r):Duration.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[i]=parseISOTimeOnly(e);return i?Duration.fromObject(i,r):Duration.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new InvalidArgumentError("need to specify a reason the Duration is invalid");const i=e instanceof Invalid?e:new Invalid(e,r);if(Settings$1.throwOnInvalid)throw new InvalidDurationError(i);return new Duration({invalid:i})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new InvalidUnitError(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const i={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Formatter.create(this.loc,i).formatDurationFromString(this,e):INVALID$2}toHuman(e={}){const r=orderedUnits$1.map(i=>{const a=this.values[i];return isUndefined(a)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(a)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=roundTo(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();if(r<0||r>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const i=this.shiftTo("hours","minutes","seconds","milliseconds");let a=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||i.seconds!==0||i.milliseconds!==0)&&(a+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||i.milliseconds!==0)&&(a+=".SSS"));let o=i.toFormat(a);return e.includePrefix&&(o="T"+o),o}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=Duration.fromDurationLike(e),i={};for(const a of orderedUnits$1)(hasOwnProperty(r.values,a)||hasOwnProperty(this.values,a))&&(i[a]=r.get(a)+this.get(a));return clone$1(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const r=Duration.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const i of Object.keys(this.values))r[i]=asNumber(e(this.values[i],i));return clone$1(this,{values:r},!0)}get(e){return this[Duration.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...normalizeObject(e,Duration.normalizeUnit)};return clone$1(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:i}={}){const a=this.loc.clone({locale:e,numberingSystem:r}),o={loc:a};return i&&(o.conversionAccuracy=i),clone$1(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return normalizeValues(this.matrix,e),clone$1(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(u=>Duration.normalizeUnit(u));const r={},i={},a=this.toObject();let o;for(const u of orderedUnits$1)if(e.indexOf(u)>=0){o=u;let c=0;for(const f in i)c+=this.matrix[f][u]*i[f],i[f]=0;isNumber(a[u])&&(c+=a[u]);const d=Math.trunc(c);r[u]=d,i[u]=(c*1e3-d*1e3)/1e3;for(const f in a)orderedUnits$1.indexOf(f)>orderedUnits$1.indexOf(u)&&convert(this.matrix,a,f,r,u)}else isNumber(a[u])&&(i[u]=a[u]);for(const u in i)i[u]!==0&&(r[o]+=u===o?i[u]:i[u]/this.matrix[o][u]);return clone$1(this,{values:r},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return clone$1(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(i,a){return i===void 0||i===0?a===void 0||a===0:i===a}for(const i of orderedUnits$1)if(!r(this.values[i],e.values[i]))return!1;return!0}}const INVALID$1="Invalid Interval";function validateStartEnd(t,e){return!t||!t.isValid?Interval.invalid("missing or invalid start"):!e||!e.isValid?Interval.invalid("missing or invalid end"):e<t?Interval.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Interval{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new InvalidArgumentError("need to specify a reason the Interval is invalid");const i=e instanceof Invalid?e:new Invalid(e,r);if(Settings$1.throwOnInvalid)throw new InvalidIntervalError(i);return new Interval({invalid:i})}static fromDateTimes(e,r){const i=friendlyDateTime(e),a=friendlyDateTime(r),o=validateStartEnd(i,a);return o==null?new Interval({start:i,end:a}):o}static after(e,r){const i=Duration.fromDurationLike(r),a=friendlyDateTime(e);return Interval.fromDateTimes(a,a.plus(i))}static before(e,r){const i=Duration.fromDurationLike(r),a=friendlyDateTime(e);return Interval.fromDateTimes(a.minus(i),a)}static fromISO(e,r){const[i,a]=(e||"").split("/",2);if(i&&a){let o,u;try{o=DateTime.fromISO(i,r),u=o.isValid}catch{u=!1}let c,d;try{c=DateTime.fromISO(a,r),d=c.isValid}catch{d=!1}if(u&&d)return Interval.fromDateTimes(o,c);if(u){const f=Duration.fromISO(a,r);if(f.isValid)return Interval.after(o,f)}else if(d){const f=Duration.fromISO(i,r);if(f.isValid)return Interval.before(c,f)}}return Interval.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const r=this.start.startOf(e),i=this.end.startOf(e);return Math.floor(i.diff(r,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?Interval.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(friendlyDateTime).filter(u=>this.contains(u)).sort(),i=[];let{s:a}=this,o=0;for(;a<this.e;){const u=r[o]||this.e,c=+u>+this.e?this.e:u;i.push(Interval.fromDateTimes(a,c)),a=c,o+=1}return i}splitBy(e){const r=Duration.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:i}=this,a=1,o;const u=[];for(;i<this.e;){const c=this.start.plus(r.mapUnits(d=>d*a));o=+c>+this.e?this.e:c,u.push(Interval.fromDateTimes(i,o)),i=o,a+=1}return u}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return r>=i?null:Interval.fromDateTimes(r,i)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return Interval.fromDateTimes(r,i)}static merge(e){const[r,i]=e.sort((a,o)=>a.s-o.s).reduce(([a,o],u)=>o?o.overlaps(u)||o.abutsStart(u)?[a,o.union(u)]:[a.concat([o]),u]:[a,u],[[],null]);return i&&r.push(i),r}static xor(e){let r=null,i=0;const a=[],o=e.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),u=Array.prototype.concat(...o),c=u.sort((d,f)=>d.time-f.time);for(const d of c)i+=d.type==="s"?1:-1,i===1?r=d.time:(r&&+r!=+d.time&&a.push(Interval.fromDateTimes(r,d.time)),r=null);return Interval.merge(a)}difference(...e){return Interval.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:INVALID$1}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:INVALID$1}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:INVALID$1}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:INVALID$1}toFormat(e,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:INVALID$1}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):Duration.invalid(this.invalidReason)}mapEndpoints(e){return Interval.fromDateTimes(e(this.s),e(this.e))}}class Info{static hasDST(e=Settings$1.defaultZone){const r=DateTime.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return IANAZone.isValidZone(e)}static normalizeZone(e){return normalizeZone(e,Settings$1.defaultZone)}static months(e="long",{locale:r=null,numberingSystem:i=null,locObj:a=null,outputCalendar:o="gregory"}={}){return(a||Locale.create(r,i,o)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:i=null,locObj:a=null,outputCalendar:o="gregory"}={}){return(a||Locale.create(r,i,o)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:i=null,locObj:a=null}={}){return(a||Locale.create(r,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:i=null,locObj:a=null}={}){return(a||Locale.create(r,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Locale.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Locale.create(r,null,"gregory").eras(e)}static features(){return{relative:hasRelative()}}}function dayDiff(t,e){const r=a=>a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=r(e)-r(t);return Math.floor(Duration.fromMillis(i).as("days"))}function highOrderDiffs(t,e,r){const i=[["years",(c,d)=>d.year-c.year],["quarters",(c,d)=>d.quarter-c.quarter],["months",(c,d)=>d.month-c.month+(d.year-c.year)*12],["weeks",(c,d)=>{const f=dayDiff(c,d);return(f-f%7)/7}],["days",dayDiff]],a={};let o,u;for(const[c,d]of i)if(r.indexOf(c)>=0){o=c;let f=d(t,e);u=t.plus({[c]:f}),u>e?(t=t.plus({[c]:f-1}),f-=1):t=u,a[c]=f}return[t,a,u,o]}function diff(t,e,r,i){let[a,o,u,c]=highOrderDiffs(t,e,r);const d=e-a,f=r.filter(_=>["hours","minutes","seconds","milliseconds"].indexOf(_)>=0);f.length===0&&(u<e&&(u=a.plus({[c]:1})),u!==a&&(o[c]=(o[c]||0)+d/(u-a)));const g=Duration.fromObject(o,i);return f.length>0?Duration.fromMillis(d,i).shiftTo(...f).plus(g):g}const numberingSystems={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},numberingSystemsUTF16={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},hanidecChars=numberingSystems.hanidec.replace(/[\[|\]]/g,"").split("");function parseDigits(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(t[r].search(numberingSystems.hanidec)!==-1)e+=hanidecChars.indexOf(t[r]);else for(const a in numberingSystemsUTF16){const[o,u]=numberingSystemsUTF16[a];i>=o&&i<=u&&(e+=i-o)}}return parseInt(e,10)}else return e}function digitRegex({numberingSystem:t},e=""){return new RegExp(`${numberingSystems[t||"latn"]}${e}`)}const MISSING_FTP="missing Intl.DateTimeFormat.formatToParts support";function intUnit(t,e=r=>r){return{regex:t,deser:([r])=>e(parseDigits(r))}}const NBSP=String.fromCharCode(160),spaceOrNBSP=`[ ${NBSP}]`,spaceOrNBSPRegExp=new RegExp(spaceOrNBSP,"g");function fixListRegex(t){return t.replace(/\./g,"\\.?").replace(spaceOrNBSPRegExp,spaceOrNBSP)}function stripInsensitivities(t){return t.replace(/\./g,"").replace(spaceOrNBSPRegExp," ").toLowerCase()}function oneOf(t,e){return t===null?null:{regex:RegExp(t.map(fixListRegex).join("|")),deser:([r])=>t.findIndex(i=>stripInsensitivities(r)===stripInsensitivities(i))+e}}function offset(t,e){return{regex:t,deser:([,r,i])=>signedOffset(r,i),groups:e}}function simple(t){return{regex:t,deser:([e])=>e}}function escapeToken(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function unitForToken(t,e){const r=digitRegex(e),i=digitRegex(e,"{2}"),a=digitRegex(e,"{3}"),o=digitRegex(e,"{4}"),u=digitRegex(e,"{6}"),c=digitRegex(e,"{1,2}"),d=digitRegex(e,"{1,3}"),f=digitRegex(e,"{1,6}"),g=digitRegex(e,"{1,9}"),_=digitRegex(e,"{2,4}"),m=digitRegex(e,"{4,6}"),h=S=>({regex:RegExp(escapeToken(S.val)),deser:([T])=>T,literal:!0}),y=(S=>{if(t.literal)return h(S);switch(S.val){case"G":return oneOf(e.eras("short",!1),0);case"GG":return oneOf(e.eras("long",!1),0);case"y":return intUnit(f);case"yy":return intUnit(_,untruncateYear);case"yyyy":return intUnit(o);case"yyyyy":return intUnit(m);case"yyyyyy":return intUnit(u);case"M":return intUnit(c);case"MM":return intUnit(i);case"MMM":return oneOf(e.months("short",!0,!1),1);case"MMMM":return oneOf(e.months("long",!0,!1),1);case"L":return intUnit(c);case"LL":return intUnit(i);case"LLL":return oneOf(e.months("short",!1,!1),1);case"LLLL":return oneOf(e.months("long",!1,!1),1);case"d":return intUnit(c);case"dd":return intUnit(i);case"o":return intUnit(d);case"ooo":return intUnit(a);case"HH":return intUnit(i);case"H":return intUnit(c);case"hh":return intUnit(i);case"h":return intUnit(c);case"mm":return intUnit(i);case"m":return intUnit(c);case"q":return intUnit(c);case"qq":return intUnit(i);case"s":return intUnit(c);case"ss":return intUnit(i);case"S":return intUnit(d);case"SSS":return intUnit(a);case"u":return simple(g);case"uu":return simple(c);case"uuu":return intUnit(r);case"a":return oneOf(e.meridiems(),0);case"kkkk":return intUnit(o);case"kk":return intUnit(_,untruncateYear);case"W":return intUnit(c);case"WW":return intUnit(i);case"E":case"c":return intUnit(r);case"EEE":return oneOf(e.weekdays("short",!1,!1),1);case"EEEE":return oneOf(e.weekdays("long",!1,!1),1);case"ccc":return oneOf(e.weekdays("short",!0,!1),1);case"cccc":return oneOf(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return offset(new RegExp(`([+-]${c.source})(?::(${i.source}))?`),2);case"ZZZ":return offset(new RegExp(`([+-]${c.source})(${i.source})?`),2);case"z":return simple(/[a-z_+-/]{1,256}?/i);default:return h(S)}})(t)||{invalidReason:MISSING_FTP};return y.token=t,y}const partTypeStyleToTokenVal={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function tokenForPart(t,e,r){const{type:i,value:a}=t;if(i==="literal")return{literal:!0,val:a};const o=r[i];let u=partTypeStyleToTokenVal[i];if(typeof u=="object"&&(u=u[o]),u)return{literal:!1,val:u}}function buildRegex(t){return[`^${t.map(r=>r.regex).reduce((r,i)=>`${r}(${i.source})`,"")}$`,t]}function match(t,e,r){const i=t.match(e);if(i){const a={};let o=1;for(const u in r)if(hasOwnProperty(r,u)){const c=r[u],d=c.groups?c.groups+1:1;!c.literal&&c.token&&(a[c.token.val[0]]=c.deser(i.slice(o,o+d))),o+=d}return[i,a]}else return[i,{}]}function dateTimeFromMatches(t){const e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,i;return isUndefined(t.z)||(r=IANAZone.create(t.z)),isUndefined(t.Z)||(r||(r=new FixedOffsetZone(t.Z)),i=t.Z),isUndefined(t.q)||(t.M=(t.q-1)*3+1),isUndefined(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),isUndefined(t.u)||(t.S=parseMillis(t.u)),[Object.keys(t).reduce((o,u)=>{const c=e(u);return c&&(o[c]=t[u]),o},{}),r,i]}let dummyDateTimeCache=null;function getDummyDateTime(){return dummyDateTimeCache||(dummyDateTimeCache=DateTime.fromMillis(1555555555555)),dummyDateTimeCache}function maybeExpandMacroToken(t,e){if(t.literal)return t;const r=Formatter.macroTokenToFormatOpts(t.val),i=formatOptsToTokens(r,e);return i==null||i.includes(void 0)?t:i}function expandMacroTokens(t,e){return Array.prototype.concat(...t.map(r=>maybeExpandMacroToken(r,e)))}function explainFromTokens(t,e,r){const i=expandMacroTokens(Formatter.parseFormat(r),t),a=i.map(u=>unitForToken(u,t)),o=a.find(u=>u.invalidReason);if(o)return{input:e,tokens:i,invalidReason:o.invalidReason};{const[u,c]=buildRegex(a),d=RegExp(u,"i"),[f,g]=match(e,d,c),[_,m,h]=g?dateTimeFromMatches(g):[null,null,void 0];if(hasOwnProperty(g,"a")&&hasOwnProperty(g,"H"))throw new ConflictingSpecificationError("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:i,regex:d,rawMatches:f,matches:g,result:_,zone:m,specificOffset:h}}}function parseFromTokens(t,e,r){const{result:i,zone:a,specificOffset:o,invalidReason:u}=explainFromTokens(t,e,r);return[i,a,o,u]}function formatOptsToTokens(t,e){return t?Formatter.create(e,t).formatDateTimeParts(getDummyDateTime()).map(a=>tokenForPart(a,e,t)):null}const nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335];function unitOutOfRange(t,e){return new Invalid("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function dayOfWeek(t,e,r){const i=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const a=i.getUTCDay();return a===0?7:a}function computeOrdinal(t,e,r){return r+(isLeapYear(t)?leapLadder:nonLeapLadder)[e-1]}function uncomputeOrdinal(t,e){const r=isLeapYear(t)?leapLadder:nonLeapLadder,i=r.findIndex(o=>o<e),a=e-r[i];return{month:i+1,day:a}}function gregorianToWeek(t){const{year:e,month:r,day:i}=t,a=computeOrdinal(e,r,i),o=dayOfWeek(e,r,i);let u=Math.floor((a-o+10)/7),c;return u<1?(c=e-1,u=weeksInWeekYear(c)):u>weeksInWeekYear(e)?(c=e+1,u=1):c=e,{weekYear:c,weekNumber:u,weekday:o,...timeObject(t)}}function weekToGregorian(t){const{weekYear:e,weekNumber:r,weekday:i}=t,a=dayOfWeek(e,1,4),o=daysInYear(e);let u=r*7+i-a-3,c;u<1?(c=e-1,u+=daysInYear(c)):u>o?(c=e+1,u-=daysInYear(e)):c=e;const{month:d,day:f}=uncomputeOrdinal(c,u);return{year:c,month:d,day:f,...timeObject(t)}}function gregorianToOrdinal(t){const{year:e,month:r,day:i}=t,a=computeOrdinal(e,r,i);return{year:e,ordinal:a,...timeObject(t)}}function ordinalToGregorian(t){const{year:e,ordinal:r}=t,{month:i,day:a}=uncomputeOrdinal(e,r);return{year:e,month:i,day:a,...timeObject(t)}}function hasInvalidWeekData(t){const e=isInteger(t.weekYear),r=integerBetween(t.weekNumber,1,weeksInWeekYear(t.weekYear)),i=integerBetween(t.weekday,1,7);return e?r?i?!1:unitOutOfRange("weekday",t.weekday):unitOutOfRange("week",t.week):unitOutOfRange("weekYear",t.weekYear)}function hasInvalidOrdinalData(t){const e=isInteger(t.year),r=integerBetween(t.ordinal,1,daysInYear(t.year));return e?r?!1:unitOutOfRange("ordinal",t.ordinal):unitOutOfRange("year",t.year)}function hasInvalidGregorianData(t){const e=isInteger(t.year),r=integerBetween(t.month,1,12),i=integerBetween(t.day,1,daysInMonth(t.year,t.month));return e?r?i?!1:unitOutOfRange("day",t.day):unitOutOfRange("month",t.month):unitOutOfRange("year",t.year)}function hasInvalidTimeData(t){const{hour:e,minute:r,second:i,millisecond:a}=t,o=integerBetween(e,0,23)||e===24&&r===0&&i===0&&a===0,u=integerBetween(r,0,59),c=integerBetween(i,0,59),d=integerBetween(a,0,999);return o?u?c?d?!1:unitOutOfRange("millisecond",a):unitOutOfRange("second",i):unitOutOfRange("minute",r):unitOutOfRange("hour",e)}const INVALID="Invalid DateTime",MAX_DATE=864e13;function unsupportedZone(t){return new Invalid("unsupported zone",`the zone "${t.name}" is not supported`)}function possiblyCachedWeekData(t){return t.weekData===null&&(t.weekData=gregorianToWeek(t.c)),t.weekData}function clone(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new DateTime({...r,...e,old:r})}function fixOffset(t,e,r){let i=t-e*60*1e3;const a=r.offset(i);if(e===a)return[i,e];i-=(a-e)*60*1e3;const o=r.offset(i);return a===o?[i,a]:[t-Math.min(a,o)*60*1e3,Math.max(a,o)]}function tsToObj(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function objToTS(t,e,r){return fixOffset(objToLocalTS(t),e,r)}function adjustTime(t,e){const r=t.o,i=t.c.year+Math.trunc(e.years),a=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o={...t.c,year:i,month:a,day:Math.min(t.c.day,daysInMonth(i,a))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},u=Duration.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),c=objToLocalTS(o);let[d,f]=fixOffset(c,r,t.zone);return u!==0&&(d+=u,f=t.zone.offset(d)),{ts:d,o:f}}function parseDataToDateTime(t,e,r,i,a,o){const{setZone:u,zone:c}=r;if(t&&Object.keys(t).length!==0){const d=e||c,f=DateTime.fromObject(t,{...r,zone:d,specificOffset:o});return u?f:f.setZone(c)}else return DateTime.invalid(new Invalid("unparsable",`the input "${a}" can't be parsed as ${i}`))}function toTechFormat(t,e,r=!0){return t.isValid?Formatter.create(Locale.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function toISODate(t,e){const r=t.c.year>9999||t.c.year<0;let i="";return r&&t.c.year>=0&&(i+="+"),i+=padStart(t.c.year,r?6:4),e?(i+="-",i+=padStart(t.c.month),i+="-",i+=padStart(t.c.day)):(i+=padStart(t.c.month),i+=padStart(t.c.day)),i}function toISOTime(t,e,r,i,a,o){let u=padStart(t.c.hour);return e?(u+=":",u+=padStart(t.c.minute),(t.c.second!==0||!r)&&(u+=":")):u+=padStart(t.c.minute),(t.c.second!==0||!r)&&(u+=padStart(t.c.second),(t.c.millisecond!==0||!i)&&(u+=".",u+=padStart(t.c.millisecond,3))),a&&(t.isOffsetFixed&&t.offset===0&&!o?u+="Z":t.o<0?(u+="-",u+=padStart(Math.trunc(-t.o/60)),u+=":",u+=padStart(Math.trunc(-t.o%60))):(u+="+",u+=padStart(Math.trunc(t.o/60)),u+=":",u+=padStart(Math.trunc(t.o%60)))),o&&(u+="["+t.zone.ianaName+"]"),u}const defaultUnitValues={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},defaultWeekUnitValues={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},defaultOrdinalUnitValues={ordinal:1,hour:0,minute:0,second:0,millisecond:0},orderedUnits=["year","month","day","hour","minute","second","millisecond"],orderedWeekUnits=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],orderedOrdinalUnits=["year","ordinal","hour","minute","second","millisecond"];function normalizeUnit(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new InvalidUnitError(t);return e}function quickDT(t,e){const r=normalizeZone(e.zone,Settings$1.defaultZone),i=Locale.fromObject(e),a=Settings$1.now();let o,u;if(isUndefined(t.year))o=a;else{for(const f of orderedUnits)isUndefined(t[f])&&(t[f]=defaultUnitValues[f]);const c=hasInvalidGregorianData(t)||hasInvalidTimeData(t);if(c)return DateTime.invalid(c);const d=r.offset(a);[o,u]=objToTS(t,d,r)}return new DateTime({ts:o,zone:r,loc:i,o:u})}function diffRelative(t,e,r){const i=isUndefined(r.round)?!0:r.round,a=(u,c)=>(u=roundTo(u,i||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(u,c)),o=u=>r.calendary?e.hasSame(t,u)?0:e.startOf(u).diff(t.startOf(u),u).get(u):e.diff(t,u).get(u);if(r.unit)return a(o(r.unit),r.unit);for(const u of r.units){const c=o(u);if(Math.abs(c)>=1)return a(c,u)}return a(t>e?-0:0,r.units[r.units.length-1])}function lastOpts(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}class DateTime{constructor(e){const r=e.zone||Settings$1.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Invalid("invalid input"):null)||(r.isValid?null:unsupportedZone(r));this.ts=isUndefined(e.ts)?Settings$1.now():e.ts;let a=null,o=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[a,o]=[e.old.c,e.old.o];else{const c=r.offset(this.ts);a=tsToObj(this.ts,c),i=Number.isNaN(a.year)?new Invalid("invalid input"):null,a=i?null:a,o=i?null:c}this._zone=r,this.loc=e.loc||Locale.create(),this.invalid=i,this.weekData=null,this.c=a,this.o=o,this.isLuxonDateTime=!0}static now(){return new DateTime({})}static local(){const[e,r]=lastOpts(arguments),[i,a,o,u,c,d,f]=r;return quickDT({year:i,month:a,day:o,hour:u,minute:c,second:d,millisecond:f},e)}static utc(){const[e,r]=lastOpts(arguments),[i,a,o,u,c,d,f]=r;return e.zone=FixedOffsetZone.utcInstance,quickDT({year:i,month:a,day:o,hour:u,minute:c,second:d,millisecond:f},e)}static fromJSDate(e,r={}){const i=isDate(e)?e.valueOf():NaN;if(Number.isNaN(i))return DateTime.invalid("invalid input");const a=normalizeZone(r.zone,Settings$1.defaultZone);return a.isValid?new DateTime({ts:i,zone:a,loc:Locale.fromObject(r)}):DateTime.invalid(unsupportedZone(a))}static fromMillis(e,r={}){if(isNumber(e))return e<-MAX_DATE||e>MAX_DATE?DateTime.invalid("Timestamp out of range"):new DateTime({ts:e,zone:normalizeZone(r.zone,Settings$1.defaultZone),loc:Locale.fromObject(r)});throw new InvalidArgumentError(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(isNumber(e))return new DateTime({ts:e*1e3,zone:normalizeZone(r.zone,Settings$1.defaultZone),loc:Locale.fromObject(r)});throw new InvalidArgumentError("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const i=normalizeZone(r.zone,Settings$1.defaultZone);if(!i.isValid)return DateTime.invalid(unsupportedZone(i));const a=Settings$1.now(),o=isUndefined(r.specificOffset)?i.offset(a):r.specificOffset,u=normalizeObject(e,normalizeUnit),c=!isUndefined(u.ordinal),d=!isUndefined(u.year),f=!isUndefined(u.month)||!isUndefined(u.day),g=d||f,_=u.weekYear||u.weekNumber,m=Locale.fromObject(r);if((g||c)&&_)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&c)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");const h=_||u.weekday&&!g;let b,y,S=tsToObj(a,o);h?(b=orderedWeekUnits,y=defaultWeekUnitValues,S=gregorianToWeek(S)):c?(b=orderedOrdinalUnits,y=defaultOrdinalUnitValues,S=gregorianToOrdinal(S)):(b=orderedUnits,y=defaultUnitValues);let T=!1;for(const I of b){const A=u[I];isUndefined(A)?T?u[I]=y[I]:u[I]=S[I]:T=!0}const w=h?hasInvalidWeekData(u):c?hasInvalidOrdinalData(u):hasInvalidGregorianData(u),E=w||hasInvalidTimeData(u);if(E)return DateTime.invalid(E);const O=h?weekToGregorian(u):c?ordinalToGregorian(u):u,[N,v]=objToTS(O,o,i),D=new DateTime({ts:N,zone:i,o:v,loc:m});return u.weekday&&g&&e.weekday!==D.weekday?DateTime.invalid("mismatched weekday",`you can't specify both a weekday of ${u.weekday} and a date of ${D.toISO()}`):D}static fromISO(e,r={}){const[i,a]=parseISODate(e);return parseDataToDateTime(i,a,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[i,a]=parseRFC2822Date(e);return parseDataToDateTime(i,a,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[i,a]=parseHTTPDate(e);return parseDataToDateTime(i,a,r,"HTTP",r)}static fromFormat(e,r,i={}){if(isUndefined(e)||isUndefined(r))throw new InvalidArgumentError("fromFormat requires an input string and a format");const{locale:a=null,numberingSystem:o=null}=i,u=Locale.fromOpts({locale:a,numberingSystem:o,defaultToEN:!0}),[c,d,f,g]=parseFromTokens(u,e,r);return g?DateTime.invalid(g):parseDataToDateTime(c,d,i,`format ${r}`,e,f)}static fromString(e,r,i={}){return DateTime.fromFormat(e,r,i)}static fromSQL(e,r={}){const[i,a]=parseSQL(e);return parseDataToDateTime(i,a,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new InvalidArgumentError("need to specify a reason the DateTime is invalid");const i=e instanceof Invalid?e:new Invalid(e,r);if(Settings$1.throwOnInvalid)throw new InvalidDateTimeError(i);return new DateTime({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const i=formatOptsToTokens(e,Locale.fromObject(r));return i?i.map(a=>a?a.val:null).join(""):null}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?possiblyCachedWeekData(this).weekYear:NaN}get weekNumber(){return this.isValid?possiblyCachedWeekData(this).weekNumber:NaN}get weekday(){return this.isValid?possiblyCachedWeekData(this).weekday:NaN}get ordinal(){return this.isValid?gregorianToOrdinal(this.c).ordinal:NaN}get monthShort(){return this.isValid?Info.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Info.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Info.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Info.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return isLeapYear(this.year)}get daysInMonth(){return daysInMonth(this.year,this.month)}get daysInYear(){return this.isValid?daysInYear(this.year):NaN}get weeksInWeekYear(){return this.isValid?weeksInWeekYear(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:i,calendar:a}=Formatter.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:i,outputCalendar:a}}toUTC(e=0,r={}){return this.setZone(FixedOffsetZone.instance(e),r)}toLocal(){return this.setZone(Settings$1.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:i=!1}={}){if(e=normalizeZone(e,Settings$1.defaultZone),e.equals(this.zone))return this;if(e.isValid){let a=this.ts;if(r||i){const o=e.offset(this.ts),u=this.toObject();[a]=objToTS(u,o,e)}return clone(this,{ts:a,zone:e})}else return DateTime.invalid(unsupportedZone(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:i}={}){const a=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:i});return clone(this,{loc:a})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=normalizeObject(e,normalizeUnit),i=!isUndefined(r.weekYear)||!isUndefined(r.weekNumber)||!isUndefined(r.weekday),a=!isUndefined(r.ordinal),o=!isUndefined(r.year),u=!isUndefined(r.month)||!isUndefined(r.day),c=o||u,d=r.weekYear||r.weekNumber;if((c||a)&&d)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");let f;i?f=weekToGregorian({...gregorianToWeek(this.c),...r}):isUndefined(r.ordinal)?(f={...this.toObject(),...r},isUndefined(r.day)&&(f.day=Math.min(daysInMonth(f.year,f.month),f.day))):f=ordinalToGregorian({...gregorianToOrdinal(this.c),...r});const[g,_]=objToTS(f,this.o,this.zone);return clone(this,{ts:g,o:_})}plus(e){if(!this.isValid)return this;const r=Duration.fromDurationLike(e);return clone(this,adjustTime(this,r))}minus(e){if(!this.isValid)return this;const r=Duration.fromDurationLike(e).negate();return clone(this,adjustTime(this,r))}startOf(e){if(!this.isValid)return this;const r={},i=Duration.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks"&&(r.weekday=1),i==="quarters"){const a=Math.ceil(this.month/3);r.month=(a-1)*3+1}return this.set(r)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,r={}){return this.isValid?Formatter.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):INVALID}toLocaleString(e=DATE_SHORT,r={}){return this.isValid?Formatter.create(this.loc.clone(r),e).formatDateTime(this):INVALID}toLocaleParts(e={}){return this.isValid?Formatter.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:i=!1,includeOffset:a=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const u=e==="extended";let c=toISODate(this,u);return c+="T",c+=toISOTime(this,u,r,i,a,o),c}toISODate({format:e="extended"}={}){return this.isValid?toISODate(this,e==="extended"):null}toISOWeekDate(){return toTechFormat(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:i=!0,includePrefix:a=!1,extendedZone:o=!1,format:u="extended"}={}){return this.isValid?(a?"T":"")+toISOTime(this,u==="extended",r,e,i,o):null}toRFC2822(){return toTechFormat(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return toTechFormat(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?toISODate(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:i=!0}={}){let a="HH:mm:ss.SSS";return(r||e)&&(i&&(a+=" "),r?a+="z":e&&(a+="ZZ")),toTechFormat(this,a,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():INVALID}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",i={}){if(!this.isValid||!e.isValid)return Duration.invalid("created by diffing an invalid DateTime");const a={locale:this.locale,numberingSystem:this.numberingSystem,...i},o=maybeArray(r).map(Duration.normalizeUnit),u=e.valueOf()>this.valueOf(),c=u?this:e,d=u?e:this,f=diff(c,d,o,a);return u?f.negate():f}diffNow(e="milliseconds",r={}){return this.diff(DateTime.now(),e,r)}until(e){return this.isValid?Interval.fromDateTimes(this,e):this}hasSame(e,r){if(!this.isValid)return!1;const i=e.valueOf(),a=this.setZone(e.zone,{keepLocalTime:!0});return a.startOf(r)<=i&&i<=a.endOf(r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||DateTime.fromObject({},{zone:this.zone}),i=e.padding?this<r?-e.padding:e.padding:0;let a=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(a=e.unit,o=void 0),diffRelative(r,this.plus(i),{...e,numeric:"always",units:a,unit:o})}toRelativeCalendar(e={}){return this.isValid?diffRelative(e.base||DateTime.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(DateTime.isDateTime))throw new InvalidArgumentError("min requires all arguments be DateTimes");return bestBy(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(DateTime.isDateTime))throw new InvalidArgumentError("max requires all arguments be DateTimes");return bestBy(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,i={}){const{locale:a=null,numberingSystem:o=null}=i,u=Locale.fromOpts({locale:a,numberingSystem:o,defaultToEN:!0});return explainFromTokens(u,e,r)}static fromStringExplain(e,r,i={}){return DateTime.fromFormatExplain(e,r,i)}static get DATE_SHORT(){return DATE_SHORT}static get DATE_MED(){return DATE_MED}static get DATE_MED_WITH_WEEKDAY(){return DATE_MED_WITH_WEEKDAY}static get DATE_FULL(){return DATE_FULL}static get DATE_HUGE(){return DATE_HUGE}static get TIME_SIMPLE(){return TIME_SIMPLE}static get TIME_WITH_SECONDS(){return TIME_WITH_SECONDS}static get TIME_WITH_SHORT_OFFSET(){return TIME_WITH_SHORT_OFFSET}static get TIME_WITH_LONG_OFFSET(){return TIME_WITH_LONG_OFFSET}static get TIME_24_SIMPLE(){return TIME_24_SIMPLE}static get TIME_24_WITH_SECONDS(){return TIME_24_WITH_SECONDS}static get TIME_24_WITH_SHORT_OFFSET(){return TIME_24_WITH_SHORT_OFFSET}static get TIME_24_WITH_LONG_OFFSET(){return TIME_24_WITH_LONG_OFFSET}static get DATETIME_SHORT(){return DATETIME_SHORT}static get DATETIME_SHORT_WITH_SECONDS(){return DATETIME_SHORT_WITH_SECONDS}static get DATETIME_MED(){return DATETIME_MED}static get DATETIME_MED_WITH_SECONDS(){return DATETIME_MED_WITH_SECONDS}static get DATETIME_MED_WITH_WEEKDAY(){return DATETIME_MED_WITH_WEEKDAY}static get DATETIME_FULL(){return DATETIME_FULL}static get DATETIME_FULL_WITH_SECONDS(){return DATETIME_FULL_WITH_SECONDS}static get DATETIME_HUGE(){return DATETIME_HUGE}static get DATETIME_HUGE_WITH_SECONDS(){return DATETIME_HUGE_WITH_SECONDS}}function friendlyDateTime(t){if(DateTime.isDateTime(t))return t;if(t&&t.valueOf&&isNumber(t.valueOf()))return DateTime.fromJSDate(t);if(t&&typeof t=="object")return DateTime.fromObject(t);throw new InvalidArgumentError(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const abbreviations=["","K","M","B","T"];function abbreviate(t){for(let e=abbreviations.length-1;e>0;e--)if(t.length>3*e)return t.slice(0,-3*e)+abbreviations[e];return t}function create_fragment$8(t){let e,r,i,a,o,u,c,d,f,g,_=t[0].title+"",m,h,b,y,S,T,w,E,O=t[0].channelTitle+"",N,v,D,I,A=t[0].description+"",R,C,F,k;return{c(){e=element("a"),r=element("div"),i=element("img"),o=space(),u=element("span"),c=text(t[1]),d=space(),f=element("div"),g=element("p"),m=text(_),b=space(),y=element("p"),S=text(t[2]),T=text(" views - "),w=text(t[3]),E=text(" - "),N=text(O),D=space(),I=element("p"),R=text(A),src_url_equal(i.src,a=t[0].thumbnailUrl)||attr(i,"src",a),attr(i,"alt",""),attr(i,"loading","lazy"),attr(i,"width","320"),attr(i,"height","180"),attr(u,"class","absolute right-0 bottom-0 m-1.5 px-0.5 rounded bg-black/80 text-sm"),attr(r,"class","inline-block relative w-[11rem] align-text-bottom p-1"),attr(g,"class","font-bold truncate"),attr(g,"title",h=t[0].title),attr(y,"class","text-neutral-400 truncate"),attr(y,"title",v=t[2]+" views - "+t[3]+" - "+t[0].channelTitle),attr(I,"class","text-ellipsis line-clamp-3"),attr(f,"class","inline-block w-[calc(100%-11.5rem)] align-top text-sm"),attr(e,"class","block w-[calc(100%-1rem)] bg-neutral-600 p-2 m-2 first:mt-0 last:mb-0 rounded-2xl"),attr(e,"href",C="https://www.youtube.com/watch?v="+t[0].videoId)},m($,P){insert($,e,P),append(e,r),append(r,i),append(r,o),append(r,u),append(u,c),append(e,d),append(e,f),append(f,g),append(g,m),append(f,b),append(f,y),append(y,S),append(y,T),append(y,w),append(y,E),append(y,N),append(f,D),append(f,I),append(I,R),F||(k=listen(e,"click",prevent_default(t[4])),F=!0)},p($,[P]){P&1&&!src_url_equal(i.src,a=$[0].thumbnailUrl)&&attr(i,"src",a),P&2&&set_data(c,$[1]),P&1&&_!==(_=$[0].title+"")&&set_data(m,_),P&1&&h!==(h=$[0].title)&&attr(g,"title",h),P&4&&set_data(S,$[2]),P&8&&set_data(w,$[3]),P&1&&O!==(O=$[0].channelTitle+"")&&set_data(N,O),P&13&&v!==(v=$[2]+" views - "+$[3]+" - "+$[0].channelTitle)&&attr(y,"title",v),P&1&&A!==(A=$[0].description+"")&&set_data(R,A),P&1&&C!==(C="https://www.youtube.com/watch?v="+$[0].videoId)&&attr(e,"href",C)},i:noop,o:noop,d($){$&&detach(e),F=!1,k()}}}function instance$8(t,e,r){let{video:i}=e,a,o,u;function c(){playerStore.set({videoId:i.videoId})}return t.$$set=d=>{"video"in d&&r(0,i=d.video)},t.$$.update=()=>{if(t.$$.dirty&1&&i){const d=Duration.fromISO(i.duration);d.days>0?r(1,a=d.toFormat("d:hh:mm:ss")):d.hours>0?r(1,a=d.toFormat("h:mm:ss")):r(1,a=d.toFormat("m:ss")),r(2,o=abbreviate(i.viewCount)),r(3,u=DateTime.fromISO(i.publishedAt).toRelative({locale:"en"}))}},[i,a,o,u,c]}class VideoCard extends SvelteComponent{constructor(e){super(),init(this,e,instance$8,create_fragment$8,safe_not_equal,{video:0})}}const NOT_MODIFIED="Not Modified";function appendQuery(t,e){if(e){const r=new URLSearchParams(e);return`${t}?${r}`}else return t}function toRequest(t,e={}){const r=appendQuery("https://www.googleapis.com"+t,e.query);return e.headers=new Headers(e.headers),e.headers.append("Authorization","Bearer "+gapi.auth.getToken().access_token),e.etag&&e.headers.append("If-None-Match",e.etag),new Request(r,e)}async function request(t,e={}){typeof t=="string"&&(t=toRequest(t,e));const r=await fetch(t);if(r.status===304)throw NOT_MODIFIED;if(!r.ok)throw r;return r}async function batchRequest(t,e){const r=`boundary${Date.now()}`,i="/batch"+t,a=await request(i,{method:"POST",headers:{"Content-Type":`multipart/mixed; boundary=${r}`},body:await batchRequestsToBody(e,r)});return batchResponseToMap(a)}async function batchRequestsToBody(t,e){let r=[];for(const[i,a]of t){if(r.push(`--${e}`),r.push("Content-Type: application/http"),r.push(`Content-ID: ${i}`),a.bodyUsed&&r.push(`Content-Length: ${(await a.blob()).size}`),r.push(""),r.push(`${a.method} ${a.url}`),a.headers)for(const[o,u]of a.headers.entries())r.push(`${o}: ${u}`);a.bodyUsed&&(r.push(""),r.push(await a.text()))}return r.push(`--${e}--`),r.join(`\r
`)}async function batchResponseToMap(t){const e=t.headers.get("Content-Type").match(/^multipart\/mixed; boundary=(.+)$/)[1],i=(await t.text()).split(new RegExp(`\r
--${e}(?:--)?\r
`,"g")).slice(1,-1),a=new Map;for(const o of i){const[u,c,d]=o.split(`\r
\r
`,3),g=headerStringToHeaders(u).get("Content-ID").match(/^response-(.+)$/)[1],[_,m]=c.split(`\r
`,2),[h,b,y]=_.split(" ",3),S=headerStringToHeaders(m),T=d.length===0?null:d,w=new Response(T,{status:parseInt(b,10),statusText:y,headers:S});a.set(g,w)}return a}function headerStringToHeaders(t){const e=new Headers;for(const r of t.split(`\r
`)){const[i,a]=r.split(": ");e.append(i,a)}return e}function jsonBlob(t){return new Blob([JSON.stringify(t)],{type:"application/json"})}async function listAllSubscriptions(t){let e=await listSubscriptions({etag:t});const r=e.etag,i=[e.items];for(;e.nextPageToken;)e=await listSubscriptions({pageToken:e.nextPageToken}),i.push(e.items);return{etag:r,items:i}}async function listSubscriptions(t={}){return(await request(listSubscriptionsRequest(t))).json()}function listSubscriptionsRequest(t={}){return toRequest("/youtube/v3/subscriptions",{method:"GET",query:{part:"snippet",fields:"etag,items(snippet(title,resourceId/channelId,thumbnails/default/url)),nextPageToken",mine:"true",order:"alphabetical",maxResults:"50",...t.pageToken&&{pageToken:t.pageToken}},...t.etag&&{etag:t.etag}})}async function listAllChannels(t){const e=new Map(t.map((a,o)=>[`${o}`,listChannelsRequest(a)])),r=await batchRequest("/youtube/v3",e),i=await Promise.all(Array.from(r.values()).map(a=>a.json()));return new Map(i.flatMap(a=>a.items.map(o=>[o.id,o])))}function listChannelsRequest(t){return toRequest("/youtube/v3/channels",{method:"GET",query:{part:"contentDetails",fields:"items(id,contentDetails/relatedPlaylists/uploads)",id:t.map(e=>e.snippet.resourceId.channelId).join(","),maxResults:"50"}})}async function listAllPlaylistItems(t,e){const r=new Set(e.subscriptionGroups.flatMap(i=>i.subscriptionIds));if(r.size>0){const i=t.items.filter(c=>r.has(c.channelId)),a=new Map(i.map(c=>[c.uploadsPlaylistId,listPlaylistItemsRequest(c,!0)])),o=await batchRequest("/youtube/v3",a),u=await Promise.all(i.map(c=>listPlaylistItemsResponse(c,o.get(c.uploadsPlaylistId),!0)));await listAllVideos(u)}}async function listPlaylistItems(t){const e=await request(listPlaylistItemsRequest(t,!1)),r=await listPlaylistItemsResponse(t,e,!1);await listVideos(r)}function listPlaylistItemsRequest(t,e){return toRequest("/youtube/v3/playlistItems",{method:"GET",query:{part:"snippet",fields:"etag,items/snippet/resourceId/videoId,nextPageToken",playlistId:t.uploadsPlaylistId,maxResults:"50",...!e&&t.nextUploadPageToken&&{pageToken:t.nextUploadPageToken}},...e&&t.uploadsEtag&&{etag:t.uploadsEtag}})}async function listPlaylistItemsResponse(t,e,r){if(e.status===304)return null;if(!e.ok)throw e;const i=await e.json();return{subscription:t,playListItemListResponse:i,initial:r}}async function listAllVideos(t){const e=t.filter(r=>!!r);if(e.length>0){const r=new Map(e.map(a=>[a.subscription.channelId,listVideosRequest(a.playListItemListResponse)])),i=await batchRequest("/youtube/v3",r);await Promise.all(e.map(a=>listVideosResponse(a,i.get(a.subscription.channelId))))}}async function listVideos(t){const e=await request(listVideosRequest(t.playListItemListResponse));await listVideosResponse(t,e)}function listVideosRequest(t){return toRequest("/youtube/v3/videos",{method:"GET",query:{part:"id,snippet,liveStreamingDetails,contentDetails,statistics",fields:"items(id,snippet(title,description,thumbnails/medium/url,publishedAt),liveStreamingDetails(actualStartTime,scheduledStartTime),contentDetails/duration,statistics(viewCount,likeCount,commentCount))",id:t.items.map(e=>e.snippet.resourceId.videoId).join(","),maxResults:"50"}})}async function listVideosResponse(t,e){if(e.status===304)return;if(!e.ok)throw e;const r=await e.json();t.initial?setUploads(t.subscription,t.playListItemListResponse,r):addUploads(t.subscription,t.playListItemListResponse,r)}const maxPlaylistLength=200;async function SubscriptionGroup(t,e,r){const i={name:t,expanded:e,subscriptions:r.map(a=>({subscription:a,uploadIndex:0})),videos:[],...r.length===1&&{playlistId:r[0].uploadsPlaylistId}};return await loadMoreVideos(i),i}function SubscriptionGroupChild(t){const e=t.uploads.slice(0,10);return{name:t.title,expanded:!1,subscriptions:[{subscription:t,uploadIndex:e.length}],videos:e,playlist:{playlistId:t.uploadsPlaylistId}}}async function loadCustomPlaylist(t){t.videos.length<maxPlaylistLength&&await loadMoreVideos(t,maxPlaylistLength-t.videos.length),t.playlist={customPlaylist:t.videos.slice(0,maxPlaylistLength).map(e=>e.videoId)}}async function loadMoreVideos(t,e=10){for(let r=0;r<e;r++){let i,a;for(const o of t.subscriptions){if(o.uploadIndex===o.subscription.uploads.length){if(!o.subscription.nextUploadPageToken)continue;await listPlaylistItems(o.subscription)}const u=o.subscription.uploads[o.uploadIndex];(!i||u.publishedAt>i.publishedAt)&&(i=u,a=o)}if(!i||!a)break;i.channelTitle=a.subscription.title,t.videos.push(i),a.uploadIndex++}}function allVideosLoaded(t){return t.subscriptions.every(e=>e.uploadIndex===e.subscription.uploads.length&&!e.subscription.nextUploadPageToken)}const parseNumber=parseFloat;function joinCss(t,e=";"){let r;if(Array.isArray(t))r=t.filter(i=>i);else{r=[];for(const i in t)t[i]&&r.push(`${i}:${t[i]}`)}return r.join(e)}function getStyles(t,e,r,i){let a,o;const u="1em";let c,d,f,g="-.125em";const _="visible";return i&&(f="center",o="1.25em"),r&&(a=r),e&&(e=="lg"?(d="1.33333em",c=".75em",g="-.225em"):e=="xs"?d=".75em":e=="sm"?d=".875em":d=e.replace("x","em")),joinCss([joinCss({float:a,width:o,height:u,"line-height":c,"font-size":d,"text-align":f,"vertical-align":g,"transform-origin":"center",overflow:_}),t])}function getTransform(t,e,r,i,a,o=1,u="",c=""){let d=1,f=1;return a&&(a=="horizontal"?d=-1:a=="vertical"?f=-1:d=f=-1),joinCss([`translate(${parseNumber(e)*o}${u},${parseNumber(r)*o}${u})`,`scale(${d*parseNumber(t)},${f*parseNumber(t)})`,i&&`rotate(${i}${c})`]," ")}const fa_svelte_svelte_type_style_lang="";function create_if_block$4(t){let e,r,i,a,o,u,c,d;function f(m,h){return typeof m[10][4]=="string"?create_if_block_1$2:create_else_block$4}let g=f(t),_=g(t);return{c(){e=svg_element("svg"),r=svg_element("g"),i=svg_element("g"),_.c(),attr(i,"transform",t[12]),attr(r,"transform",a="translate("+t[10][0]/2+" "+t[10][1]/2+")"),attr(r,"transform-origin",o=t[10][0]/4+" 0"),attr(e,"id",u=t[1]||void 0),attr(e,"class",c="svelte-fa "+t[0]+" svelte-1w3t65e"),attr(e,"style",t[11]),attr(e,"viewBox",d="0 0 "+t[10][0]+" "+t[10][1]),attr(e,"aria-hidden","true"),attr(e,"role","img"),attr(e,"xmlns","http://www.w3.org/2000/svg"),toggle_class(e,"pulse",t[4]),toggle_class(e,"spin",t[3])},m(m,h){insert(m,e,h),append(e,r),append(r,i),_.m(i,null)},p(m,h){g===(g=f(m))&&_?_.p(m,h):(_.d(1),_=g(m),_&&(_.c(),_.m(i,null))),h&4096&&attr(i,"transform",m[12]),h&1024&&a!==(a="translate("+m[10][0]/2+" "+m[10][1]/2+")")&&attr(r,"transform",a),h&1024&&o!==(o=m[10][0]/4+" 0")&&attr(r,"transform-origin",o),h&2&&u!==(u=m[1]||void 0)&&attr(e,"id",u),h&1&&c!==(c="svelte-fa "+m[0]+" svelte-1w3t65e")&&attr(e,"class",c),h&2048&&attr(e,"style",m[11]),h&1024&&d!==(d="0 0 "+m[10][0]+" "+m[10][1])&&attr(e,"viewBox",d),h&17&&toggle_class(e,"pulse",m[4]),h&9&&toggle_class(e,"spin",m[3])},d(m){m&&detach(e),_.d()}}}function create_else_block$4(t){let e,r,i,a,o,u,c,d,f,g;return{c(){e=svg_element("path"),u=svg_element("path"),attr(e,"d",r=t[10][4][0]),attr(e,"fill",i=t[6]||t[2]||"currentColor"),attr(e,"fill-opacity",a=t[9]!=!1?t[7]:t[8]),attr(e,"transform",o="translate("+t[10][0]/-2+" "+t[10][1]/-2+")"),attr(u,"d",c=t[10][4][1]),attr(u,"fill",d=t[5]||t[2]||"currentColor"),attr(u,"fill-opacity",f=t[9]!=!1?t[8]:t[7]),attr(u,"transform",g="translate("+t[10][0]/-2+" "+t[10][1]/-2+")")},m(_,m){insert(_,e,m),insert(_,u,m)},p(_,m){m&1024&&r!==(r=_[10][4][0])&&attr(e,"d",r),m&68&&i!==(i=_[6]||_[2]||"currentColor")&&attr(e,"fill",i),m&896&&a!==(a=_[9]!=!1?_[7]:_[8])&&attr(e,"fill-opacity",a),m&1024&&o!==(o="translate("+_[10][0]/-2+" "+_[10][1]/-2+")")&&attr(e,"transform",o),m&1024&&c!==(c=_[10][4][1])&&attr(u,"d",c),m&36&&d!==(d=_[5]||_[2]||"currentColor")&&attr(u,"fill",d),m&896&&f!==(f=_[9]!=!1?_[8]:_[7])&&attr(u,"fill-opacity",f),m&1024&&g!==(g="translate("+_[10][0]/-2+" "+_[10][1]/-2+")")&&attr(u,"transform",g)},d(_){_&&detach(e),_&&detach(u)}}}function create_if_block_1$2(t){let e,r,i,a;return{c(){e=svg_element("path"),attr(e,"d",r=t[10][4]),attr(e,"fill",i=t[2]||t[5]||"currentColor"),attr(e,"transform",a="translate("+t[10][0]/-2+" "+t[10][1]/-2+")")},m(o,u){insert(o,e,u)},p(o,u){u&1024&&r!==(r=o[10][4])&&attr(e,"d",r),u&36&&i!==(i=o[2]||o[5]||"currentColor")&&attr(e,"fill",i),u&1024&&a!==(a="translate("+o[10][0]/-2+" "+o[10][1]/-2+")")&&attr(e,"transform",a)},d(o){o&&detach(e)}}}function create_fragment$7(t){let e,r=t[10][4]&&create_if_block$4(t);return{c(){r&&r.c(),e=empty()},m(i,a){r&&r.m(i,a),insert(i,e,a)},p(i,[a]){i[10][4]?r?r.p(i,a):(r=create_if_block$4(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:noop,o:noop,d(i){r&&r.d(i),i&&detach(e)}}}function instance$7(t,e,r){let{class:i=""}=e,{id:a=""}=e,{style:o=""}=e,{icon:u}=e,{size:c=""}=e,{color:d=""}=e,{fw:f=!1}=e,{pull:g=""}=e,{scale:_=1}=e,{translateX:m=0}=e,{translateY:h=0}=e,{rotate:b=""}=e,{flip:y=!1}=e,{spin:S=!1}=e,{pulse:T=!1}=e,{primaryColor:w=""}=e,{secondaryColor:E=""}=e,{primaryOpacity:O=1}=e,{secondaryOpacity:N=.4}=e,{swapOpacity:v=!1}=e,D,I,A;return t.$$set=R=>{"class"in R&&r(0,i=R.class),"id"in R&&r(1,a=R.id),"style"in R&&r(13,o=R.style),"icon"in R&&r(14,u=R.icon),"size"in R&&r(15,c=R.size),"color"in R&&r(2,d=R.color),"fw"in R&&r(16,f=R.fw),"pull"in R&&r(17,g=R.pull),"scale"in R&&r(18,_=R.scale),"translateX"in R&&r(19,m=R.translateX),"translateY"in R&&r(20,h=R.translateY),"rotate"in R&&r(21,b=R.rotate),"flip"in R&&r(22,y=R.flip),"spin"in R&&r(3,S=R.spin),"pulse"in R&&r(4,T=R.pulse),"primaryColor"in R&&r(5,w=R.primaryColor),"secondaryColor"in R&&r(6,E=R.secondaryColor),"primaryOpacity"in R&&r(7,O=R.primaryOpacity),"secondaryOpacity"in R&&r(8,N=R.secondaryOpacity),"swapOpacity"in R&&r(9,v=R.swapOpacity)},t.$$.update=()=>{t.$$.dirty&16384&&r(10,D=u&&u.icon||[0,0,"",[],""]),t.$$.dirty&237568&&r(11,I=getStyles(o,c,g,f)),t.$$.dirty&8126464&&r(12,A=getTransform(_,m,h,b,y,512))},[i,a,d,S,T,w,E,O,N,v,D,I,A,o,u,c,f,g,_,m,h,b,y]}class Fa extends SvelteComponent{constructor(e){super(),init(this,e,instance$7,create_fragment$7,safe_not_equal,{class:0,id:1,style:13,icon:14,size:15,color:2,fw:16,pull:17,scale:18,translateX:19,translateY:20,rotate:21,flip:22,spin:3,pulse:4,primaryColor:5,secondaryColor:6,primaryOpacity:7,secondaryOpacity:8,swapOpacity:9})}}const Fa$1=Fa,faLayers_svelte_svelte_type_style_lang="";function create_fragment$6(t){let e,r,i;const a=t[7].default,o=create_slot(a,t,t[6],null);return{c(){e=element("span"),o&&o.c(),attr(e,"id",t[1]),attr(e,"class",r="svelte-fa-layers "+t[0]+" svelte-w9owi"),attr(e,"style",t[2])},m(u,c){insert(u,e,c),o&&o.m(e,null),i=!0},p(u,[c]){o&&o.p&&(!i||c&64)&&update_slot_base(o,a,u,u[6],i?get_slot_changes(a,u[6],c,null):get_all_dirty_from_scope(u[6]),null),(!i||c&2)&&attr(e,"id",u[1]),(!i||c&1&&r!==(r="svelte-fa-layers "+u[0]+" svelte-w9owi"))&&attr(e,"class",r),(!i||c&4)&&attr(e,"style",u[2])},i(u){i||(transition_in(o,u),i=!0)},o(u){transition_out(o,u),i=!1},d(u){u&&detach(e),o&&o.d(u)}}}function instance$6(t,e,r){let{$$slots:i={},$$scope:a}=e,{class:o=""}=e,{id:u=""}=e,{style:c=""}=e,{size:d=""}=e,{pull:f=""}=e,g;return t.$$set=_=>{"class"in _&&r(0,o=_.class),"id"in _&&r(1,u=_.id),"style"in _&&r(3,c=_.style),"size"in _&&r(4,d=_.size),"pull"in _&&r(5,f=_.pull),"$$scope"in _&&r(6,a=_.$$scope)},t.$$.update=()=>{t.$$.dirty&56&&r(2,g=getStyles(c,d,f,!0))},[o,u,g,c,d,f,a,i]}class Fa_layers extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$6,safe_not_equal,{class:0,id:1,style:3,size:4,pull:5})}}const FaLayers=Fa_layers;/*!
 * Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var faCircle={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9898,9899,11044,61708,61915,9679],"f111","M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256z"]},faCircleXmark={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM175 208.1L222.1 255.1L175 303C165.7 312.4 165.7 327.6 175 336.1C184.4 346.3 199.6 346.3 208.1 336.1L255.1 289.9L303 336.1C312.4 346.3 327.6 346.3 336.1 336.1C346.3 327.6 346.3 312.4 336.1 303L289.9 255.1L336.1 208.1C346.3 199.6 346.3 184.4 336.1 175C327.6 165.7 312.4 165.7 303 175L255.1 222.1L208.1 175C199.6 165.7 184.4 165.7 175 175C165.7 184.4 165.7 199.6 175 208.1V208.1z"]},faTimesCircle=faCircleXmark,faDownLeftAndUpRightToCenter={prefix:"fas",iconName:"down-left-and-up-right-to-center",icon:[512,512,["compress-alt"],"f422","M215.1 272h-136c-12.94 0-24.63 7.797-29.56 19.75C45.47 303.7 48.22 317.5 57.37 326.6l30.06 30.06l-78.06 78.07c-12.5 12.5-12.5 32.75-.0012 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.26 .0013l78.06-78.07l30.06 30.06c6.125 6.125 14.31 9.367 22.63 9.367c4.125 0 8.279-.7891 12.25-2.43c11.97-4.953 19.75-16.62 19.75-29.56V296C239.1 282.7 229.3 272 215.1 272zM296 240h136c12.94 0 24.63-7.797 29.56-19.75c4.969-11.97 2.219-25.72-6.938-34.87l-30.06-30.06l78.06-78.07c12.5-12.5 12.5-32.76 .0002-45.26l-22.62-22.62c-12.5-12.5-32.76-12.5-45.26-.0003l-78.06 78.07l-30.06-30.06c-9.156-9.141-22.87-11.84-34.87-6.937c-11.97 4.953-19.75 16.62-19.75 29.56v135.1C272 229.3 282.7 240 296 240z"]},faCompressAlt=faDownLeftAndUpRightToCenter,faPlay={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215z"]},faUpRightAndDownLeftFromCenter={prefix:"fas",iconName:"up-right-and-down-left-from-center",icon:[512,512,["expand-alt"],"f424","M208 281.4c-12.5-12.5-32.76-12.5-45.26-.002l-78.06 78.07l-30.06-30.06c-6.125-6.125-14.31-9.367-22.63-9.367c-4.125 0-8.279 .7891-12.25 2.43c-11.97 4.953-19.75 16.62-19.75 29.56v135.1C.0013 501.3 10.75 512 24 512h136c12.94 0 24.63-7.797 29.56-19.75c4.969-11.97 2.219-25.72-6.938-34.87l-30.06-30.06l78.06-78.07c12.5-12.49 12.5-32.75 .002-45.25L208 281.4zM487.1 0h-136c-12.94 0-24.63 7.797-29.56 19.75c-4.969 11.97-2.219 25.72 6.938 34.87l30.06 30.06l-78.06 78.07c-12.5 12.5-12.5 32.76 0 45.26l22.62 22.62c12.5 12.5 32.76 12.5 45.26 0l78.06-78.07l30.06 30.06c9.156 9.141 22.87 11.84 34.87 6.937C504.2 184.6 512 172.9 512 159.1V23.1C512 10.74 501.3 0 487.1 0z"]},faExpandAlt=faUpRightAndDownLeftFromCenter,faUsers={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M319.9 320c57.41 0 103.1-46.56 103.1-104c0-57.44-46.54-104-103.1-104c-57.41 0-103.1 46.56-103.1 104C215.9 273.4 262.5 320 319.9 320zM369.9 352H270.1C191.6 352 128 411.7 128 485.3C128 500.1 140.7 512 156.4 512h327.2C499.3 512 512 500.1 512 485.3C512 411.7 448.4 352 369.9 352zM512 160c44.18 0 80-35.82 80-80S556.2 0 512 0c-44.18 0-80 35.82-80 80S467.8 160 512 160zM183.9 216c0-5.449 .9824-10.63 1.609-15.91C174.6 194.1 162.6 192 149.9 192H88.08C39.44 192 0 233.8 0 285.3C0 295.6 7.887 304 17.62 304h199.5C196.7 280.2 183.9 249.7 183.9 216zM128 160c44.18 0 80-35.82 80-80S172.2 0 128 0C83.82 0 48 35.82 48 80S83.82 160 128 160zM551.9 192h-61.84c-12.8 0-24.88 3.037-35.86 8.24C454.8 205.5 455.8 210.6 455.8 216c0 33.71-12.78 64.21-33.16 88h199.7C632.1 304 640 295.6 640 285.3C640 233.8 600.6 192 551.9 192z"]};const defaultOptions={root:null,rootMargin:"0px",threshold:0,unobserveOnEnter:!1},createEvent=(t,e)=>new CustomEvent(t,{detail:e});function inview(t,e={}){const{root:r,rootMargin:i,threshold:a,unobserveOnEnter:o}=Object.assign(Object.assign({},defaultOptions),e);let u={x:void 0,y:void 0},c={vertical:void 0,horizontal:void 0};if(typeof IntersectionObserver<"u"&&t){const d=new IntersectionObserver((f,g)=>{f.forEach(_=>{u.y>_.boundingClientRect.y?c.vertical="up":c.vertical="down",u.x>_.boundingClientRect.x?c.horizontal="left":c.horizontal="right",u={y:_.boundingClientRect.y,x:_.boundingClientRect.x};const m={inView:_.isIntersecting,entry:_,scrollDirection:c,node:t,observer:g};t.dispatchEvent(createEvent("change",m)),_.isIntersecting?(t.dispatchEvent(createEvent("enter",m)),o&&g.unobserve(t)):t.dispatchEvent(createEvent("leave",m))})},{root:r,rootMargin:i,threshold:a});return setTimeout(()=>{t.dispatchEvent(createEvent("init",{observer:d,node:t}))},0),d.observe(t),{destroy(){d.unobserve(t)}}}}function backOut(t){return--t*t*((1.70158+1)*t+1.70158)+1}function cubicOut(t){const e=t-1;return e*e*e+1}function fly(t,{delay:e=0,duration:r=400,easing:i=cubicOut,x:a=0,y:o=0,opacity:u=0}={}){const c=getComputedStyle(t),d=+c.opacity,f=c.transform==="none"?"":c.transform,g=d*(1-u);return{delay:e,duration:r,easing:i,css:(_,m)=>`
			transform: ${f} translate(${(1-_)*a}px, ${(1-_)*o}px);
			opacity: ${d-g*m}`}}function errorString(t){return typeof t=="string"?t:t instanceof Error?t.message:JSON.stringify(t).slice(1,-1)}const settingsFileName="settings.json";let settingsFileId;async function getSettingsFileId(){const e=await(await request("/drive/v3/files",{method:"GET",query:{spaces:"appDataFolder",fields:"files(id)",q:`name = '${settingsFileName}'`,pageSize:"1"}})).json();settingsFileId=e.files.length>0?e.files[0].id:null}async function readSettings(){return settingsFileId===void 0&&await getSettingsFileId(),settingsFileId==null?null:(await request(`/drive/v3/files/${settingsFileId}`,{method:"GET",query:{alt:"media"}})).json()}async function writeSettings(t){settingsFileId===void 0&&await getSettingsFileId(),settingsFileId==null?await createSettings(t):await updateSettings(t)}async function createSettings(t){const e={name:settingsFileName,mimeType:"application/json",parents:["appDataFolder"]},r=new FormData;r.append("metadata",jsonBlob(e)),r.append("file",jsonBlob(t),settingsFileName),settingsFileId=(await(await request("/upload/drive/v3/files",{method:"POST",query:{uploadType:"multipart"},body:r})).json()).id}async function updateSettings(t){await request(`/upload/drive/v3/files/${settingsFileId}`,{method:"PATCH",query:{uploadType:"media"},body:jsonBlob(t)})}function get_each_context_1$1(t,e,r){const i=t.slice();return i[18]=e[r],i}function get_each_context$2(t,e,r){const i=t.slice();return i[15]=e[r],i}function create_else_block$3(t){let e,r,i,a,o,u,c,d=!allVideosLoaded(t[0]),f,g,_,m;const h=[create_if_block_4,create_if_block_6],b=[];function y(O,N){return O[0].subscriptions.length===1?0:O[0].subscriptions.length>1?1:-1}~(i=y(t))&&(a=b[i]=h[i](t));let S=t[0].videos,T=[];for(let O=0;O<S.length;O+=1)T[O]=create_each_block_1$1(get_each_context_1$1(t,S,O));const w=O=>transition_out(T[O],1,1,()=>{T[O]=null});let E=d&&create_if_block_2$1(t);return{c(){e=element("div"),r=element("p"),a&&a.c(),o=space(),u=element("div");for(let O=0;O<T.length;O+=1)T[O].c();c=space(),E&&E.c(),attr(r,"class","text-center font-bold h-8 mb-1"),attr(u,"class","h-[calc(100%-2.25rem)] overflow-y-scroll y-scroll-hover overflow-x-hidden"),attr(e,"class","inline-block h-full w-screen max-w-[32rem] min-w-[22rem] bg-neutral-800 p-1 pb-4 ml-1 mr-1 rounded-2xl align-top")},m(O,N){insert(O,e,N),append(e,r),~i&&b[i].m(r,null),append(e,o),append(e,u);for(let v=0;v<T.length;v+=1)T[v].m(u,null);append(u,c),E&&E.m(u,null),g=!0,_||(m=listen(u,"wheel",stop_propagation(t[7]),{passive:!0}),_=!0)},p(O,N){t=O;let v=i;if(i=y(t),i===v?~i&&b[i].p(t,N):(a&&(group_outros(),transition_out(b[v],1,1,()=>{b[v]=null}),check_outros()),~i?(a=b[i],a?a.p(t,N):(a=b[i]=h[i](t),a.c()),transition_in(a,1),a.m(r,null)):a=null),N&1){S=t[0].videos;let D;for(D=0;D<S.length;D+=1){const I=get_each_context_1$1(t,S,D);T[D]?(T[D].p(I,N),transition_in(T[D],1)):(T[D]=create_each_block_1$1(I),T[D].c(),transition_in(T[D],1),T[D].m(u,c))}for(group_outros(),D=S.length;D<T.length;D+=1)w(D);check_outros()}N&1&&(d=!allVideosLoaded(t[0])),d?E?(E.p(t,N),N&1&&transition_in(E,1)):(E=create_if_block_2$1(t),E.c(),transition_in(E,1),E.m(u,null)):E&&(group_outros(),transition_out(E,1,1,()=>{E=null}),check_outros())},i(O){if(!g){transition_in(a);for(let N=0;N<S.length;N+=1)transition_in(T[N]);transition_in(E),f||add_render_callback(()=>{f=create_in_transition(e,fly,{x:100,easing:backOut}),f.start()}),g=!0}},o(O){transition_out(a),T=T.filter(Boolean);for(let N=0;N<T.length;N+=1)transition_out(T[N]);transition_out(E),g=!1},d(O){O&&detach(e),~i&&b[i].d(),destroy_each(T,O),E&&E.d(),_=!1,m()}}}function create_if_block$3(t){let e,r,i,a,o,u,c=t[0].name+"",d,f,g,_,m,h,b,y,S,T,w,E;a=new FaLayers({props:{size:"2x",class:"-mx-1",$$slots:{default:[create_default_slot$3]},$$scope:{ctx:t}}}),m=new Fa$1({props:{icon:faCompressAlt,translateY:.5}});let O=t[0].videos.length>0&&create_if_block_1$1(t),N=t[0].subscriptions,v=[];for(let I=0;I<N.length;I+=1)v[I]=create_each_block$2(get_each_context$2(t,N,I));const D=I=>transition_out(v[I],1,1,()=>{v[I]=null});return{c(){e=element("div"),r=element("p"),i=element("span"),create_component(a.$$.fragment),o=space(),u=element("span"),d=text(c),g=space(),_=element("span"),create_component(m.$$.fragment),h=space(),O&&O.c(),b=space(),y=element("div");for(let I=0;I<v.length;I+=1)v[I].c();attr(i,"class","inline-block h-8 align-middle"),attr(u,"class","inline-block h-8 max-w-[26rem] align-text-top truncate cursor-default"),attr(u,"title",f=t[0].name),attr(_,"class","float-left inline-block h-8 w-8 px-2 cursor-pointer"),attr(_,"title","Collapse"),attr(r,"class","font-bold h-8 mb-1"),attr(y,"class","h-[calc(100%-2.25rem)]"),attr(e,"class","inline-block h-full w-max bg-neutral-900 p-1 pb-4 ml-1 mr-1 rounded-2xl align-top")},m(I,A){insert(I,e,A),append(e,r),append(r,i),mount_component(a,i,null),append(r,o),append(r,u),append(u,d),append(r,g),append(r,_),mount_component(m,_,null),append(r,h),O&&O.m(r,null),append(e,b),append(e,y);for(let R=0;R<v.length;R+=1)v[R].m(y,null);T=!0,w||(E=listen(_,"click",t[6]),w=!0)},p(I,A){t=I;const R={};if(A&2097152&&(R.$$scope={dirty:A,ctx:t}),a.$set(R),(!T||A&1)&&c!==(c=t[0].name+"")&&set_data(d,c),(!T||A&1&&f!==(f=t[0].name))&&attr(u,"title",f),t[0].videos.length>0?O?(O.p(t,A),A&1&&transition_in(O,1)):(O=create_if_block_1$1(t),O.c(),transition_in(O,1),O.m(r,null)):O&&(group_outros(),transition_out(O,1,1,()=>{O=null}),check_outros()),A&3){N=t[0].subscriptions;let C;for(C=0;C<N.length;C+=1){const F=get_each_context$2(t,N,C);v[C]?(v[C].p(F,A),transition_in(v[C],1)):(v[C]=create_each_block$2(F),v[C].c(),transition_in(v[C],1),v[C].m(y,null))}for(group_outros(),C=N.length;C<v.length;C+=1)D(C);check_outros()}},i(I){if(!T){transition_in(a.$$.fragment,I),transition_in(m.$$.fragment,I),transition_in(O);for(let A=0;A<N.length;A+=1)transition_in(v[A]);S||add_render_callback(()=>{S=create_in_transition(e,fly,{x:100,easing:backOut}),S.start()}),T=!0}},o(I){transition_out(a.$$.fragment,I),transition_out(m.$$.fragment,I),transition_out(O),v=v.filter(Boolean);for(let A=0;A<v.length;A+=1)transition_out(v[A]);T=!1},d(I){I&&detach(e),destroy_component(a),destroy_component(m),O&&O.d(),destroy_each(v,I),w=!1,E()}}}function create_if_block_6(t){let e,r,i,a,o=t[0].name+"",u,c,d,f,g,_,m,h,b,y;r=new FaLayers({props:{size:"2x",class:"-mx-1",$$slots:{default:[create_default_slot_2$2]},$$scope:{ctx:t}}}),g=new Fa$1({props:{icon:faExpandAlt,translateY:.5}});let S=t[0].videos.length>0&&create_if_block_7(t);return{c(){e=element("span"),create_component(r.$$.fragment),i=space(),a=element("span"),u=text(o),d=space(),f=element("span"),create_component(g.$$.fragment),_=space(),S&&S.c(),m=empty(),attr(e,"class","inline-block h-8 align-middle"),attr(a,"class","inline-block h-8 max-w-[26rem] align-text-top truncate cursor-default"),attr(a,"title",c=t[0].name),attr(f,"class","float-left inline-block h-8 w-8 px-2 -mr-8 cursor-pointer"),attr(f,"title","Expand")},m(T,w){insert(T,e,w),mount_component(r,e,null),insert(T,i,w),insert(T,a,w),append(a,u),insert(T,d,w),insert(T,f,w),mount_component(g,f,null),insert(T,_,w),S&&S.m(T,w),insert(T,m,w),h=!0,b||(y=listen(f,"click",t[6]),b=!0)},p(T,w){const E={};w&2097152&&(E.$$scope={dirty:w,ctx:T}),r.$set(E),(!h||w&1)&&o!==(o=T[0].name+"")&&set_data(u,o),(!h||w&1&&c!==(c=T[0].name))&&attr(a,"title",c),T[0].videos.length>0?S?(S.p(T,w),w&1&&transition_in(S,1)):(S=create_if_block_7(T),S.c(),transition_in(S,1),S.m(m.parentNode,m)):S&&(group_outros(),transition_out(S,1,1,()=>{S=null}),check_outros())},i(T){h||(transition_in(r.$$.fragment,T),transition_in(g.$$.fragment,T),transition_in(S),h=!0)},o(T){transition_out(r.$$.fragment,T),transition_out(g.$$.fragment,T),transition_out(S),h=!1},d(T){T&&detach(e),destroy_component(r),T&&detach(i),T&&detach(a),T&&detach(d),T&&detach(f),destroy_component(g),T&&detach(_),S&&S.d(T),T&&detach(m),b=!1,y()}}}function create_if_block_4(t){let e,r,i,a,o,u=t[0].name+"",c,d,f,g,_,m,h=t[0].videos.length>0&&create_if_block_5(t);return{c(){e=element("a"),r=element("img"),a=space(),o=element("span"),c=text(u),g=space(),h&&h.c(),_=empty(),attr(r,"class","inline-block h-8 w-8 rounded-2xl align-middle"),src_url_equal(r.src,i=t[0].subscriptions[0].subscription.thumbnailUrl)||attr(r,"src",i),attr(r,"alt",""),attr(r,"loading","lazy"),attr(r,"width","88"),attr(r,"height","88"),attr(o,"class","inline-block h-8 max-w-[26rem] align-text-top truncate"),attr(o,"title",d=t[0].name),attr(e,"href",f="https://www.youtube.com/channel/"+t[0].subscriptions[0].subscription.channelId)},m(b,y){insert(b,e,y),append(e,r),append(e,a),append(e,o),append(o,c),insert(b,g,y),h&&h.m(b,y),insert(b,_,y),m=!0},p(b,y){(!m||y&1&&!src_url_equal(r.src,i=b[0].subscriptions[0].subscription.thumbnailUrl))&&attr(r,"src",i),(!m||y&1)&&u!==(u=b[0].name+"")&&set_data(c,u),(!m||y&1&&d!==(d=b[0].name))&&attr(o,"title",d),(!m||y&1&&f!==(f="https://www.youtube.com/channel/"+b[0].subscriptions[0].subscription.channelId))&&attr(e,"href",f),b[0].videos.length>0?h?(h.p(b,y),y&1&&transition_in(h,1)):(h=create_if_block_5(b),h.c(),transition_in(h,1),h.m(_.parentNode,_)):h&&(group_outros(),transition_out(h,1,1,()=>{h=null}),check_outros())},i(b){m||(transition_in(h),m=!0)},o(b){transition_out(h),m=!1},d(b){b&&detach(e),b&&detach(g),h&&h.d(b),b&&detach(_)}}}function create_default_slot_2$2(t){let e,r,i,a;return e=new Fa$1({props:{icon:faCircle,color:"rgb(82 82 82)"}}),i=new Fa$1({props:{icon:faUsers,scale:.5}}),{c(){create_component(e.$$.fragment),r=space(),create_component(i.$$.fragment)},m(o,u){mount_component(e,o,u),insert(o,r,u),mount_component(i,o,u),a=!0},p:noop,i(o){a||(transition_in(e.$$.fragment,o),transition_in(i.$$.fragment,o),a=!0)},o(o){transition_out(e.$$.fragment,o),transition_out(i.$$.fragment,o),a=!1},d(o){destroy_component(e,o),o&&detach(r),destroy_component(i,o)}}}function create_if_block_7(t){let e,r,i,a,o;return r=new Fa$1({props:{icon:faPlay,translateY:.5}}),{c(){e=element("span"),create_component(r.$$.fragment),attr(e,"class","float-right inline-block h-8 w-8 px-2 -ml-8 cursor-pointer"),attr(e,"title","Play all")},m(u,c){insert(u,e,c),mount_component(r,e,null),i=!0,a||(o=listen(e,"click",t[5]),a=!0)},p:noop,i(u){i||(transition_in(r.$$.fragment,u),i=!0)},o(u){transition_out(r.$$.fragment,u),i=!1},d(u){u&&detach(e),destroy_component(r),a=!1,o()}}}function create_if_block_5(t){let e,r,i,a,o,u;return r=new Fa$1({props:{icon:faPlay,translateY:.5}}),{c(){e=element("a"),create_component(r.$$.fragment),attr(e,"class","float-right h-8 w-8 px-2 -ml-8"),attr(e,"title","Play all"),attr(e,"href",i="https://www.youtube.com/watch?v="+t[0].videos[0].videoId+"&list="+t[0].subscriptions[0].subscription.uploadsPlaylistId)},m(c,d){insert(c,e,d),mount_component(r,e,null),a=!0,o||(u=listen(e,"click",prevent_default(t[5])),o=!0)},p(c,d){(!a||d&1&&i!==(i="https://www.youtube.com/watch?v="+c[0].videos[0].videoId+"&list="+c[0].subscriptions[0].subscription.uploadsPlaylistId))&&attr(e,"href",i)},i(c){a||(transition_in(r.$$.fragment,c),a=!0)},o(c){transition_out(r.$$.fragment,c),a=!1},d(c){c&&detach(e),destroy_component(r),o=!1,u()}}}function create_each_block_1$1(t){let e,r;return e=new VideoCard({props:{video:t[18]}}),{c(){create_component(e.$$.fragment)},m(i,a){mount_component(e,i,a),r=!0},p(i,a){const o={};a&1&&(o.video=i[18]),e.$set(o)},i(i){r||(transition_in(e.$$.fragment,i),r=!0)},o(i){transition_out(e.$$.fragment,i),r=!1},d(i){destroy_component(e,i)}}}function create_if_block_2$1(t){let e,r,i,a;const o=[create_if_block_3,create_else_block_1$1],u=[];function c(d,f){return d[3]<3?0:1}return e=c(t),r=u[e]=o[e](t),{c(){r.c(),i=empty()},m(d,f){u[e].m(d,f),insert(d,i,f),a=!0},p(d,f){let g=e;e=c(d),e===g?u[e].p(d,f):(group_outros(),transition_out(u[g],1,1,()=>{u[g]=null}),check_outros(),r=u[e],r?r.p(d,f):(r=u[e]=o[e](d),r.c()),transition_in(r,1),r.m(i.parentNode,i))},i(d){a||(transition_in(r),a=!0)},o(d){transition_out(r),a=!1},d(d){u[e].d(d),d&&detach(i)}}}function create_else_block_1$1(t){let e,r,i,a,o=errorString(t[4])+"",u,c,d,f;return d=new PrimaryButton({props:{class:"w-20 m-1",$$slots:{default:[create_default_slot_1$2]},$$scope:{ctx:t}}}),d.$on("click",t[9]),{c(){e=element("div"),r=element("p"),r.textContent="Error loading subscriptions:",i=space(),a=element("p"),u=text(o),c=space(),create_component(d.$$.fragment),attr(e,"class","w-full text-center")},m(g,_){insert(g,e,_),append(e,r),append(e,i),append(e,a),append(a,u),append(e,c),mount_component(d,e,null),f=!0},p(g,_){(!f||_&16)&&o!==(o=errorString(g[4])+"")&&set_data(u,o);const m={};_&2097152&&(m.$$scope={dirty:_,ctx:g}),d.$set(m)},i(g){f||(transition_in(d.$$.fragment,g),f=!0)},o(g){transition_out(d.$$.fragment,g),f=!1},d(g){g&&detach(e),destroy_component(d)}}}function create_if_block_3(t){let e,r,i,a,o;return r=new Spinner({}),{c(){e=element("div"),create_component(r.$$.fragment)},m(u,c){insert(u,e,c),mount_component(r,e,null),i=!0,a||(o=[action_destroyer(inview.call(null,e)),listen(e,"change",t[8])],a=!0)},p:noop,i(u){i||(transition_in(r.$$.fragment,u),i=!0)},o(u){transition_out(r.$$.fragment,u),i=!1},d(u){u&&detach(e),destroy_component(r),a=!1,run_all(o)}}}function create_default_slot_1$2(t){let e;return{c(){e=text("Retry")},m(r,i){insert(r,e,i)},d(r){r&&detach(e)}}}function create_default_slot$3(t){let e,r,i,a;return e=new Fa$1({props:{icon:faCircle,color:"rgb(82 82 82)"}}),i=new Fa$1({props:{icon:faUsers,scale:.5}}),{c(){create_component(e.$$.fragment),r=space(),create_component(i.$$.fragment)},m(o,u){mount_component(e,o,u),insert(o,r,u),mount_component(i,o,u),a=!0},p:noop,i(o){a||(transition_in(e.$$.fragment,o),transition_in(i.$$.fragment,o),a=!0)},o(o){transition_out(e.$$.fragment,o),transition_out(i.$$.fragment,o),a=!1},d(o){destroy_component(e,o),o&&detach(r),destroy_component(i,o)}}}function create_if_block_1$1(t){let e,r,i,a,o;return r=new Fa$1({props:{icon:faPlay,translateY:.5}}),{c(){e=element("span"),create_component(r.$$.fragment),attr(e,"class","float-right inline-block h-8 w-8 px-2 cursor-pointer"),attr(e,"title","Play all")},m(u,c){insert(u,e,c),mount_component(r,e,null),i=!0,a||(o=listen(e,"click",t[5]),a=!0)},p:noop,i(u){i||(transition_in(r.$$.fragment,u),i=!0)},o(u){transition_out(r.$$.fragment,u),i=!1},d(u){u&&detach(e),destroy_component(r),a=!1,o()}}}function create_each_block$2(t){let e,r;return e=new SubscriptionOverview({props:{subscriptionGroup:SubscriptionGroupChild(t[15].subscription),index:t[1]}}),{c(){create_component(e.$$.fragment)},m(i,a){mount_component(e,i,a),r=!0},p(i,a){const o={};a&1&&(o.subscriptionGroup=SubscriptionGroupChild(i[15].subscription)),a&2&&(o.index=i[1]),e.$set(o)},i(i){r||(transition_in(e.$$.fragment,i),r=!0)},o(i){transition_out(e.$$.fragment,i),r=!1},d(i){destroy_component(e,i)}}}function create_fragment$5(t){let e,r,i,a;const o=[create_if_block$3,create_else_block$3],u=[];function c(d,f){return d[0].expanded&&d[0].subscriptions.length>1?0:1}return e=c(t),r=u[e]=o[e](t),{c(){r.c(),i=empty()},m(d,f){u[e].m(d,f),insert(d,i,f),a=!0},p(d,[f]){let g=e;e=c(d),e===g?u[e].p(d,f):(group_outros(),transition_out(u[g],1,1,()=>{u[g]=null}),check_outros(),r=u[e],r?r.p(d,f):(r=u[e]=o[e](d),r.c()),transition_in(r,1),r.m(i.parentNode,i))},i(d){a||(transition_in(r),a=!0)},o(d){transition_out(r),a=!1},d(d){u[e].d(d),d&&detach(i)}}}function instance$5(t,e,r){let i,a;component_subscribe(t,settingsStore,w=>r(11,i=w)),component_subscribe(t,playerStore,w=>r(12,a=w));let{subscriptionGroup:o}=e,{index:u}=e,c=!1,d=!1,f=0,g;async function _(){o.playlist||(set_store_value(playerStore,a={loading:!0},a),await loadCustomPlaylist(o)),set_store_value(playerStore,a=o.playlist,a)}async function m(){c&&f<3&&(await h(),setTimeout(m,100))}async function h(){if(!d){d=!0;try{await loadMoreVideos(o),r(0,o),r(3,f=0)}catch(w){console.error(w),r(3,f++,f),r(4,g=w)}d=!1}}function b(){r(0,o.expanded=!o.expanded,o);const w=i;w.subscriptionGroups[u].expanded=o.expanded,writeSettings(w).then()}function y(w){bubble.call(this,t,w)}const S=w=>r(2,c=w.detail.inView),T=()=>r(3,f=0);return t.$$set=w=>{"subscriptionGroup"in w&&r(0,o=w.subscriptionGroup),"index"in w&&r(1,u=w.index)},t.$$.update=()=>{t.$$.dirty&12&&c&&f<3&&m()},[o,u,c,f,g,_,b,y,S,T]}class SubscriptionOverview extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$5,safe_not_equal,{subscriptionGroup:0,index:1})}}function is_date(t){return Object.prototype.toString.call(t)==="[object Date]"}function get_interpolator(t,e){if(t===e||t!==t)return()=>t;const r=typeof t;if(r!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const i=e.map((a,o)=>get_interpolator(t[o],a));return a=>i.map(o=>o(a))}if(r==="object"){if(!t||!e)throw new Error("Object cannot be null");if(is_date(t)&&is_date(e)){t=t.getTime(),e=e.getTime();const o=e-t;return u=>new Date(t+u*o)}const i=Object.keys(e),a={};return i.forEach(o=>{a[o]=get_interpolator(t[o],e[o])}),o=>{const u={};return i.forEach(c=>{u[c]=a[c](o)}),u}}if(r==="number"){const i=e-t;return a=>t+a*i}throw new Error(`Cannot interpolate ${r} values`)}function tweened(t,e={}){const r=writable(t);let i,a=t;function o(u,c){if(t==null)return r.set(t=u),Promise.resolve();a=u;let d=i,f=!1,{delay:g=0,duration:_=400,easing:m=identity,interpolate:h=get_interpolator}=assign(assign({},e),c);if(_===0)return d&&(d.abort(),d=null),r.set(t=a),Promise.resolve();const b=now$1()+g;let y;return i=loop$1(S=>{if(S<b)return!0;f||(y=h(t,u),typeof _=="function"&&(_=_(t,u)),f=!0),d&&(d.abort(),d=null);const T=S-b;return T>_?(r.set(t=u),!1):(r.set(t=y(m(T/_))),!0)}),i.promise}return{set:o,update:(u,c)=>o(u(a,t),c),subscribe:r.subscribe}}function create_fragment$4(t){let e,r,i,a;const o=t[4].default,u=create_slot(o,t,t[3],null);return{c(){e=element("div"),u&&u.c(),attr(e,"class","w-full h-full pb-[2px] overflow-x-scroll x-scroll")},m(c,d){insert(c,e,d),u&&u.m(e,null),t[5](e),r=!0,i||(a=[listen(e,"wheel",t[1],{passive:!0}),listen(e,"scroll",t[2])],i=!0)},p(c,[d]){u&&u.p&&(!r||d&8)&&update_slot_base(u,o,c,c[3],r?get_slot_changes(o,c[3],d,null):get_all_dirty_from_scope(c[3]),null)},i(c){r||(transition_in(u,c),r=!0)},o(c){transition_out(u,c),r=!1},d(c){c&&detach(e),u&&u.d(c),t[5](null),i=!1,run_all(a)}}}const duration$1=100;function instance$4(t,e,r){let{$$slots:i={},$$scope:a}=e,o;const u=tweened(0,{duration:duration$1});let c=!1,d;onDestroy(u.subscribe(h=>{c&&r(0,o.scrollLeft=h,o)}));function f(h){h.deltaX?(c=!1,u.update(b=>g(b+h.deltaX),{duration:0})):h.deltaY&&(c=!0,u.update(b=>g(b+h.deltaY)))}function g(h){return Math.max(0,Math.min(h,o.scrollWidth-o.clientWidth))}function _(){clearTimeout(d),d=setTimeout(()=>{c=!1,u.set(o.scrollLeft,{duration:0})},duration$1)}function m(h){binding_callbacks[h?"unshift":"push"](()=>{o=h,r(0,o)})}return t.$$set=h=>{"$$scope"in h&&r(3,a=h.$$scope)},[o,f,_,a,i,m]}class HorizontalScroll extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$4,safe_not_equal,{})}}function Settings(t=[]){return{subscriptionGroups:t.map(SubscriptionGroupSettings)}}function SubscriptionGroupSettings(t){return{name:t.name,expanded:t.expanded,subscriptionIds:t.subscriptions.map(e=>e.subscription.channelId)}}function fade(t,e){const r=()=>{t.classList.contains("fadeOut")&&t.classList.add("hidden")};t.addEventListener("transitionend",r),e.initial?t.classList.add("fadeIn"):(t.classList.add("hidden"),t.classList.add("fadeOut"));const i=o=>{o.visible?(t.classList.remove("hidden"),setTimeout(()=>t.classList.replace("fadeOut","fadeIn"))):t.classList.replace("fadeIn","fadeOut")},a=()=>{t.removeEventListener("transitionend",r)};return i(e),{update:i,destroy:a}}function get_each_context$1(t,e,r){const i=t.slice();return i[10]=e[r],i[12]=r,i}function create_catch_block$1(t){let e,r=errorString(t[13])+"",i;return{c(){e=element("p"),i=text(r),attr(e,"class","text-center")},m(a,o){insert(a,e,o),append(e,i)},p:noop,i:noop,o:noop,d(a){a&&detach(e)}}}function create_then_block$1(t){let e,r,i,a;const o=[create_if_block$2,create_else_block$2],u=[];function c(d,f){return d[0].length===0?0:1}return e=c(t),r=u[e]=o[e](t),{c(){r.c(),i=empty()},m(d,f){u[e].m(d,f),insert(d,i,f),a=!0},p(d,f){let g=e;e=c(d),e===g?u[e].p(d,f):(group_outros(),transition_out(u[g],1,1,()=>{u[g]=null}),check_outros(),r=u[e],r?r.p(d,f):(r=u[e]=o[e](d),r.c()),transition_in(r,1),r.m(i.parentNode,i))},i(d){a||(transition_in(r),a=!0)},o(d){transition_out(r),a=!1},d(d){u[e].d(d),d&&detach(i)}}}function create_else_block$2(t){let e,r,i,a,o,u;return r=new HorizontalScroll({props:{$$slots:{default:[create_default_slot_2$1]},$$scope:{ctx:t}}}),{c(){e=element("div"),create_component(r.$$.fragment),attr(e,"class","w-full h-[calc(100%-6px)]")},m(c,d){insert(c,e,d),mount_component(r,e,null),a=!0,o||(u=action_destroyer(i=fade.call(null,e,{visible:!t[1],initial:!0})),o=!0)},p(c,d){const f={};d&16385&&(f.$$scope={dirty:d,ctx:c}),r.$set(f),i&&is_function(i.update)&&d&2&&i.update.call(null,{visible:!c[1],initial:!0})},i(c){a||(transition_in(r.$$.fragment,c),a=!0)},o(c){transition_out(r.$$.fragment,c),a=!1},d(c){c&&detach(e),destroy_component(r),o=!1,u()}}}function create_if_block$2(t){let e,r;return e=new Center({props:{$$slots:{default:[create_default_slot_1$1]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},m(i,a){mount_component(e,i,a),r=!0},p(i,a){const o={};a&16384&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){r||(transition_in(e.$$.fragment,i),r=!0)},o(i){transition_out(e.$$.fragment,i),r=!1},d(i){destroy_component(e,i)}}}function create_each_block$1(t){let e,r;return e=new SubscriptionOverview({props:{subscriptionGroup:t[10],index:t[12]}}),{c(){create_component(e.$$.fragment)},m(i,a){mount_component(e,i,a),r=!0},p(i,a){const o={};a&1&&(o.subscriptionGroup=i[10]),e.$set(o)},i(i){r||(transition_in(e.$$.fragment,i),r=!0)},o(i){transition_out(e.$$.fragment,i),r=!1},d(i){destroy_component(e,i)}}}function create_default_slot_2$1(t){let e,r,i=t[0],a=[];for(let u=0;u<i.length;u+=1)a[u]=create_each_block$1(get_each_context$1(t,i,u));const o=u=>transition_out(a[u],1,1,()=>{a[u]=null});return{c(){e=element("div");for(let u=0;u<a.length;u+=1)a[u].c();attr(e,"class","w-max h-full")},m(u,c){insert(u,e,c);for(let d=0;d<a.length;d+=1)a[d].m(e,null);r=!0},p(u,c){if(c&1){i=u[0];let d;for(d=0;d<i.length;d+=1){const f=get_each_context$1(u,i,d);a[d]?(a[d].p(f,c),transition_in(a[d],1)):(a[d]=create_each_block$1(f),a[d].c(),transition_in(a[d],1),a[d].m(e,null))}for(group_outros(),d=i.length;d<a.length;d+=1)o(d);check_outros()}},i(u){if(!r){for(let c=0;c<i.length;c+=1)transition_in(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)transition_out(a[c]);r=!1},d(u){u&&detach(e),destroy_each(a,u)}}}function create_default_slot_1$1(t){let e,r,i,a,o;return{c(){e=element("p"),e.textContent="No subscriptions to display",r=space(),i=element("br"),a=space(),o=element("p"),o.textContent='Click the "Edit" button to add subscriptions'},m(u,c){insert(u,e,c),insert(u,r,c),insert(u,i,c),insert(u,a,c),insert(u,o,c)},p:noop,d(u){u&&detach(e),u&&detach(r),u&&detach(i),u&&detach(a),u&&detach(o)}}}function create_pending_block$1(t){let e,r;return e=new Center({props:{$$slots:{default:[create_default_slot$2]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},m(i,a){mount_component(e,i,a),r=!0},p(i,a){const o={};a&16384&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){r||(transition_in(e.$$.fragment,i),r=!0)},o(i){transition_out(e.$$.fragment,i),r=!1},d(i){destroy_component(e,i)}}}function create_default_slot$2(t){let e,r;return e=new Spinner({}),{c(){create_component(e.$$.fragment)},m(i,a){mount_component(e,i,a),r=!0},i(i){r||(transition_in(e.$$.fragment,i),r=!0)},o(i){transition_out(e.$$.fragment,i),r=!1},d(i){destroy_component(e,i)}}}function create_fragment$3(t){let e,r,i={ctx:t,current:null,token:null,hasCatch:!0,pending:create_pending_block$1,then:create_then_block$1,catch:create_catch_block$1,value:9,error:13,blocks:[,,,]};return handle_promise(t[2](),i),{c(){e=empty(),i.block.c()},m(a,o){insert(a,e,o),i.block.m(a,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(a,[o]){t=a,update_await_block_branch(i,t,o)},i(a){r||(transition_in(i.block),r=!0)},o(a){for(let o=0;o<3;o+=1){const u=i.blocks[o];transition_out(u)}r=!1},d(a){a&&detach(e),i.block.d(a),i.token=null,i=null}}}function filterSettings(t,e){const r=new Map(e.items.map(i=>[i.channelId,i]));t.subscriptionGroups.forEach(i=>i.subscriptionIds=i.subscriptionIds.filter(a=>r.has(a))),t.subscriptionGroups=t.subscriptionGroups.filter(i=>i.subscriptionIds.length>0)}function instance$3(t,e,r){let i,a,o;component_subscribe(t,subscriptionsStore,m=>r(4,i=m)),component_subscribe(t,settingsStore,m=>r(5,a=m)),component_subscribe(t,editorVisible,m=>r(1,o=m));let u=!1,c;async function d(){const[m,h]=await Promise.all([g(),f()]);filterSettings(m,h),set_store_value(settingsStore,a=m,a),await _(m,h),u=!0}onDestroy(settingsStore.subscribe(m=>u&&_(m,i)));async function f(){let m=i;m&&m.version!==subscriptionsModelVersion&&(m=null);try{const h=await listAllSubscriptions(m==null?void 0:m.etag),b=await listAllChannels(h.items);return Subscriptions(h,b)}catch(h){if(m&&h===NOT_MODIFIED)return m;throw h}}async function g(){let m=await readSettings();return m||(m=Settings()),m}async function _(m,h){await listAllPlaylistItems(h,m),set_store_value(subscriptionsStore,i=h,i);const b=new Map(h.items.map(y=>[y.channelId,y]));r(0,c=await Promise.all(m.subscriptionGroups.map(y=>SubscriptionGroup(y.name,y.expanded,y.subscriptionIds.map(S=>b.get(S))))))}return[c,o,d]}class SubscriptionsDeck extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$3,safe_not_equal,{})}}/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var candidateSelectors=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],candidateSelector=candidateSelectors.join(","),NoElement=typeof Element>"u",matches=NoElement?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,getRootNode=!NoElement&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},getCandidates=function t(e,r,i){var a=Array.prototype.slice.apply(e.querySelectorAll(candidateSelector));return r&&matches.call(e,candidateSelector)&&a.unshift(e),a=a.filter(i),a},getCandidatesIteratively=function t(e,r,i){for(var a=[],o=Array.from(e);o.length;){var u=o.shift();if(u.tagName==="SLOT"){var c=u.assignedElements(),d=c.length?c:u.children,f=t(d,!0,i);i.flatten?a.push.apply(a,f):a.push({scope:u,candidates:f})}else{var g=matches.call(u,candidateSelector);g&&i.filter(u)&&(r||!e.includes(u))&&a.push(u);var _=u.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(u),m=!i.shadowRootFilter||i.shadowRootFilter(u);if(_&&m){var h=t(_===!0?u.children:_.children,!0,i);i.flatten?a.push.apply(a,h):a.push({scope:u,candidates:h})}else o.unshift.apply(o,u.children)}}return a},getTabindex=function t(e,r){return e.tabIndex<0&&(r||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},sortOrderedTabbables=function t(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},isInput=function t(e){return e.tagName==="INPUT"},isHiddenInput=function t(e){return isInput(e)&&e.type==="hidden"},isDetailsWithSummary=function t(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return r},getCheckedRadio=function t(e,r){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===r)return e[i]},isTabbableRadio=function t(e){if(!e.name)return!0;var r=e.form||getRootNode(e),i=function(c){return r.querySelectorAll('input[type="radio"][name="'+c+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=i(window.CSS.escape(e.name));else try{a=i(e.name)}catch(u){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",u.message),!1}var o=getCheckedRadio(a,e.form);return!o||o===e},isRadio=function t(e){return isInput(e)&&e.type==="radio"},isNonTabbableRadio=function t(e){return isRadio(e)&&!isTabbableRadio(e)},isZeroArea=function t(e){var r=e.getBoundingClientRect(),i=r.width,a=r.height;return i===0&&a===0},isHidden=function t(e,r){var i=r.displayCheck,a=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=matches.call(e,"details>summary:first-of-type"),u=o?e.parentElement:e;if(matches.call(u,"details:not([open]) *"))return!0;var c=getRootNode(e).host,d=(c==null?void 0:c.ownerDocument.contains(c))||e.ownerDocument.contains(e);if(!i||i==="full"){if(typeof a=="function"){for(var f=e;e;){var g=e.parentElement,_=getRootNode(e);if(g&&!g.shadowRoot&&a(g)===!0)return isZeroArea(e);e.assignedSlot?e=e.assignedSlot:!g&&_!==e.ownerDocument?e=_.host:e=g}e=f}if(d)return!e.getClientRects().length}else if(i==="non-zero-area")return isZeroArea(e);return!1},isDisabledFromFieldset=function t(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var i=0;i<r.children.length;i++){var a=r.children.item(i);if(a.tagName==="LEGEND")return matches.call(r,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}r=r.parentElement}return!1},isNodeMatchingSelectorFocusable=function t(e,r){return!(r.disabled||isHiddenInput(r)||isHidden(r,e)||isDetailsWithSummary(r)||isDisabledFromFieldset(r))},isNodeMatchingSelectorTabbable=function t(e,r){return!(isNonTabbableRadio(r)||getTabindex(r)<0||!isNodeMatchingSelectorFocusable(e,r))},isValidShadowRootTabbable=function t(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},sortByOrder=function t(e){var r=[],i=[];return e.forEach(function(a,o){var u=!!a.scope,c=u?a.scope:a,d=getTabindex(c,u),f=u?t(a.candidates):c;d===0?u?r.push.apply(r,f):r.push(c):i.push({documentOrder:o,tabIndex:d,item:a,isScope:u,content:f})}),i.sort(sortOrderedTabbables).reduce(function(a,o){return o.isScope?a.push.apply(a,o.content):a.push(o.content),a},[]).concat(r)},tabbable=function t(e,r){r=r||{};var i;return r.getShadowRoot?i=getCandidatesIteratively([e],r.includeContainer,{filter:isNodeMatchingSelectorTabbable.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:isValidShadowRootTabbable}):i=getCandidates(e,r.includeContainer,isNodeMatchingSelectorTabbable.bind(null,r)),sortByOrder(i)},focusable=function t(e,r){r=r||{};var i;return r.getShadowRoot?i=getCandidatesIteratively([e],r.includeContainer,{filter:isNodeMatchingSelectorFocusable.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):i=getCandidates(e,r.includeContainer,isNodeMatchingSelectorFocusable.bind(null,r)),i},isTabbable=function t(e,r){if(r=r||{},!e)throw new Error("No node provided");return matches.call(e,candidateSelector)===!1?!1:isNodeMatchingSelectorTabbable(r,e)},focusableCandidateSelector=candidateSelectors.concat("iframe").join(","),isFocusable=function t(e,r){if(r=r||{},!e)throw new Error("No node provided");return matches.call(e,focusableCandidateSelector)===!1?!1:isNodeMatchingSelectorFocusable(r,e)};/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,i)}return r}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(i){_defineProperty(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var activeFocusTraps=function(){var t=[];return{activateTrap:function(r){if(t.length>0){var i=t[t.length-1];i!==r&&i.pause()}var a=t.indexOf(r);a===-1||t.splice(a,1),t.push(r)},deactivateTrap:function(r){var i=t.indexOf(r);i!==-1&&t.splice(i,1),t.length>0&&t[t.length-1].unpause()}}}(),isSelectableInput=function t(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},isEscapeEvent=function t(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},isTabEvent=function t(e){return e.key==="Tab"||e.keyCode===9},delay=function t(e){return setTimeout(e,0)},findIndex=function t(e,r){var i=-1;return e.every(function(a,o){return r(a)?(i=o,!1):!0}),i},valueOrHandler=function t(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,i):e},getActualTarget=function t(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},createFocusTrap=function t(e,r){var i=(r==null?void 0:r.document)||document,a=_objectSpread2({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},r),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},u,c=function(v,D,I){return v&&v[D]!==void 0?v[D]:a[I||D]},d=function(v){return o.containerGroups.findIndex(function(D){var I=D.container,A=D.tabbableNodes;return I.contains(v)||A.find(function(R){return R===v})})},f=function(v){var D=a[v];if(typeof D=="function"){for(var I=arguments.length,A=new Array(I>1?I-1:0),R=1;R<I;R++)A[R-1]=arguments[R];D=D.apply(void 0,A)}if(D===!0&&(D=void 0),!D){if(D===void 0||D===!1)return D;throw new Error("`".concat(v,"` was specified but was not a node, or did not return a node"))}var C=D;if(typeof D=="string"&&(C=i.querySelector(D),!C))throw new Error("`".concat(v,"` as selector refers to no known node"));return C},g=function(){var v=f("initialFocus");if(v===!1)return!1;if(v===void 0)if(d(i.activeElement)>=0)v=i.activeElement;else{var D=o.tabbableGroups[0],I=D&&D.firstTabbableNode;v=I||f("fallbackFocus")}if(!v)throw new Error("Your focus-trap needs to have at least one focusable element");return v},_=function(){if(o.containerGroups=o.containers.map(function(v){var D=tabbable(v,a.tabbableOptions),I=focusable(v,a.tabbableOptions);return{container:v,tabbableNodes:D,focusableNodes:I,firstTabbableNode:D.length>0?D[0]:null,lastTabbableNode:D.length>0?D[D.length-1]:null,nextTabbableNode:function(R){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,F=I.findIndex(function(k){return k===R});if(!(F<0))return C?I.slice(F+1).find(function(k){return isTabbable(k,a.tabbableOptions)}):I.slice(0,F).reverse().find(function(k){return isTabbable(k,a.tabbableOptions)})}}}),o.tabbableGroups=o.containerGroups.filter(function(v){return v.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},m=function N(v){if(v!==!1&&v!==i.activeElement){if(!v||!v.focus){N(g());return}v.focus({preventScroll:!!a.preventScroll}),o.mostRecentlyFocusedNode=v,isSelectableInput(v)&&v.select()}},h=function(v){var D=f("setReturnFocus",v);return D||(D===!1?!1:v)},b=function(v){var D=getActualTarget(v);if(!(d(D)>=0)){if(valueOrHandler(a.clickOutsideDeactivates,v)){u.deactivate({returnFocus:a.returnFocusOnDeactivate&&!isFocusable(D,a.tabbableOptions)});return}valueOrHandler(a.allowOutsideClick,v)||v.preventDefault()}},y=function(v){var D=getActualTarget(v),I=d(D)>=0;I||D instanceof Document?I&&(o.mostRecentlyFocusedNode=D):(v.stopImmediatePropagation(),m(o.mostRecentlyFocusedNode||g()))},S=function(v){var D=getActualTarget(v);_();var I=null;if(o.tabbableGroups.length>0){var A=d(D),R=A>=0?o.containerGroups[A]:void 0;if(A<0)v.shiftKey?I=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:I=o.tabbableGroups[0].firstTabbableNode;else if(v.shiftKey){var C=findIndex(o.tabbableGroups,function(Y){var z=Y.firstTabbableNode;return D===z});if(C<0&&(R.container===D||isFocusable(D,a.tabbableOptions)&&!isTabbable(D,a.tabbableOptions)&&!R.nextTabbableNode(D,!1))&&(C=A),C>=0){var F=C===0?o.tabbableGroups.length-1:C-1,k=o.tabbableGroups[F];I=k.lastTabbableNode}}else{var $=findIndex(o.tabbableGroups,function(Y){var z=Y.lastTabbableNode;return D===z});if($<0&&(R.container===D||isFocusable(D,a.tabbableOptions)&&!isTabbable(D,a.tabbableOptions)&&!R.nextTabbableNode(D))&&($=A),$>=0){var P=$===o.tabbableGroups.length-1?0:$+1,B=o.tabbableGroups[P];I=B.firstTabbableNode}}}else I=f("fallbackFocus");I&&(v.preventDefault(),m(I))},T=function(v){if(isEscapeEvent(v)&&valueOrHandler(a.escapeDeactivates,v)!==!1){v.preventDefault(),u.deactivate();return}if(isTabEvent(v)){S(v);return}},w=function(v){var D=getActualTarget(v);d(D)>=0||valueOrHandler(a.clickOutsideDeactivates,v)||valueOrHandler(a.allowOutsideClick,v)||(v.preventDefault(),v.stopImmediatePropagation())},E=function(){if(!!o.active)return activeFocusTraps.activateTrap(u),o.delayInitialFocusTimer=a.delayInitialFocus?delay(function(){m(g())}):m(g()),i.addEventListener("focusin",y,!0),i.addEventListener("mousedown",b,{capture:!0,passive:!1}),i.addEventListener("touchstart",b,{capture:!0,passive:!1}),i.addEventListener("click",w,{capture:!0,passive:!1}),i.addEventListener("keydown",T,{capture:!0,passive:!1}),u},O=function(){if(!!o.active)return i.removeEventListener("focusin",y,!0),i.removeEventListener("mousedown",b,!0),i.removeEventListener("touchstart",b,!0),i.removeEventListener("click",w,!0),i.removeEventListener("keydown",T,!0),u};return u={get active(){return o.active},get paused(){return o.paused},activate:function(v){if(o.active)return this;var D=c(v,"onActivate"),I=c(v,"onPostActivate"),A=c(v,"checkCanFocusTrap");A||_(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=i.activeElement,D&&D();var R=function(){A&&_(),E(),I&&I()};return A?(A(o.containers.concat()).then(R,R),this):(R(),this)},deactivate:function(v){if(!o.active)return this;var D=_objectSpread2({onDeactivate:a.onDeactivate,onPostDeactivate:a.onPostDeactivate,checkCanReturnFocus:a.checkCanReturnFocus},v);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,O(),o.active=!1,o.paused=!1,activeFocusTraps.deactivateTrap(u);var I=c(D,"onDeactivate"),A=c(D,"onPostDeactivate"),R=c(D,"checkCanReturnFocus"),C=c(D,"returnFocus","returnFocusOnDeactivate");I&&I();var F=function(){delay(function(){C&&m(h(o.nodeFocusedBeforeActivation)),A&&A()})};return C&&R?(R(h(o.nodeFocusedBeforeActivation)).then(F,F),this):(F(),this)},pause:function(){return o.paused||!o.active?this:(o.paused=!0,O(),this)},unpause:function(){return!o.paused||!o.active?this:(o.paused=!1,_(),E(),this)},updateContainerElements:function(v){var D=[].concat(v).filter(Boolean);return o.containers=D.map(function(I){return typeof I=="string"?i.querySelector(I):I}),o.active&&_(),this}},u.updateContainerElements(e),u};function trapFocus(t,e){const r=createFocusTrap(t,{checkCanFocusTrap:tick,checkCanReturnFocus:tick,initialFocus:!1,allowOutsideClick:!0,escapeDeactivates:!1}),i=o=>o?r.activate():r.deactivate(),a=()=>r.deactivate();return i(e),{update:i,destroy:a}}function create_fragment$2(t){let e,r,i,a,o,u,c,d,f,g;return i=new Spinner({}),{c(){e=element("div"),r=element("div"),create_component(i.$$.fragment),a=space(),o=element("div"),o.innerHTML='<div id="player" tabindex="0"></div>',attr(r,"class","fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20"),toggle_class(r,"invisible",!t[0]||t[2]),attr(o,"class","fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-30"),toggle_class(o,"invisible",!t[0]||!t[2]),attr(e,"class","fixed inset-0 z-10 bg-black/80")},m(_,m){insert(_,e,m),append(e,r),mount_component(i,r,null),append(e,a),append(e,o),d=!0,f||(g=[listen(window,"resize",t[6]),action_destroyer(u=trapFocus.call(null,o,t[0]&&t[2])),action_destroyer(c=fade.call(null,e,{visible:t[0]&&!t[3],initial:!1})),listen(e,"click",self(t[7]))],f=!0)},p(_,[m]){m&5&&toggle_class(r,"invisible",!_[0]||_[2]),u&&is_function(u.update)&&m&5&&u.update.call(null,_[0]&&_[2]),m&5&&toggle_class(o,"invisible",!_[0]||!_[2]),c&&is_function(c.update)&&m&9&&c.update.call(null,{visible:_[0]&&!_[3],initial:!1})},i(_){d||(transition_in(i.$$.fragment,_),d=!0)},o(_){transition_out(i.$$.fragment,_),d=!1},d(_){_&&detach(e),destroy_component(i),f=!1,run_all(g)}}}function calcPlayerSize(){let t=Math.min(document.body.clientWidth,16*document.body.clientHeight/9),e=Math.min(document.body.clientHeight,9*document.body.clientWidth/16);return t>.9*document.body.clientWidth&&e>.9*document.body.clientHeight&&(t*=.9,e*=.9),[t,e]}function instance$2(t,e,r){let i;component_subscribe(t,editorVisible,m=>r(3,i=m));var a;(function(m){m[m.UNINITIALISED=0]="UNINITIALISED",m[m.INITIALISING=1]="INITIALISING",m[m.INITIALISED=2]="INITIALISED"})(a||(a={}));let o=!1,u=!1,c,d=a.UNINITIALISED;function f(m){if(d===a.UNINITIALISED){r(5,d=a.INITIALISING);const[h,b]=calcPlayerSize(),y={width:h,height:b,playerVars:{autohide:1,autoplay:1,playsinline:1},events:{onReady:()=>{console.log("playerReady"),r(5,d=a.INITIALISED),r(2,u=!0)},onStateChange:S=>{console.log("playerState",S),(S.data===YT.PlayerState.BUFFERING||S.data===YT.PlayerState.PLAYING)&&r(2,u=!0)},onError:S=>{console.error("playerError",S),c.getPlaylist()&&c.nextVideo()}}};m.videoId?y.videoId=m.videoId:m.playlistId?(y.playerVars.listType="playlist",y.playerVars.list=m.playlistId):m.customPlaylist&&(y.playerVars.playlist=m.customPlaylist.join(",")),r(1,c=new YT.Player("player",y))}else d===a.INITIALISING?setTimeout(()=>f(m),100):d===a.INITIALISED&&(m.videoId?c.loadVideoById(m.videoId):m.playlistId?c.loadPlaylist({listType:"playlist",list:m.playlistId}):m.customPlaylist&&c.loadPlaylist(m.customPlaylist))}onDestroy(playerStore.subscribe(m=>{m&&(playerStore.set(null),r(0,o=!0),m.loading||f(m))}));const g=()=>c&&c.setSize(...calcPlayerSize()),_=()=>r(0,o=!1);return t.$$.update=()=>{t.$$.dirty&1&&(o||r(2,u=!1)),t.$$.dirty&51&&d===a.INITIALISED&&!o&&c.stopVideo()},[o,c,u,i,a,d,g,_]}class Player extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{})}}function flip(t,{from:e,to:r},i={}){const a=getComputedStyle(t),o=a.transform==="none"?"":a.transform,[u,c]=a.transformOrigin.split(" ").map(parseFloat),d=e.left+e.width*u/r.width-(r.left+u),f=e.top+e.height*c/r.height-(r.top+c),{delay:g=0,duration:_=h=>Math.sqrt(h)*120,easing:m=cubicOut}=i;return{delay:g,duration:is_function(_)?_(Math.sqrt(d*d+f*f)):_,easing:m,css:(h,b)=>{const y=b*d,S=b*f,T=h+b*e.width/r.width,w=h+b*e.height/r.height;return`transform: ${o} translate(${y}px, ${S}px) scale(${T}, ${w});`}}}const FINALIZE_EVENT_NAME="finalize",CONSIDER_EVENT_NAME="consider";function dispatchFinalizeEvent(t,e,r){t.dispatchEvent(new CustomEvent(FINALIZE_EVENT_NAME,{detail:{items:e,info:r}}))}function dispatchConsiderEvent(t,e,r){t.dispatchEvent(new CustomEvent(CONSIDER_EVENT_NAME,{detail:{items:e,info:r}}))}const DRAGGED_ENTERED_EVENT_NAME="draggedEntered",DRAGGED_LEFT_EVENT_NAME="draggedLeft",DRAGGED_OVER_INDEX_EVENT_NAME="draggedOverIndex",DRAGGED_LEFT_DOCUMENT_EVENT_NAME="draggedLeftDocument",DRAGGED_LEFT_TYPES={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function dispatchDraggedElementEnteredContainer(t,e,r){t.dispatchEvent(new CustomEvent(DRAGGED_ENTERED_EVENT_NAME,{detail:{indexObj:e,draggedEl:r}}))}function dispatchDraggedElementLeftContainerForAnother(t,e,r){t.dispatchEvent(new CustomEvent(DRAGGED_LEFT_EVENT_NAME,{detail:{draggedEl:e,type:DRAGGED_LEFT_TYPES.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function dispatchDraggedElementLeftContainerForNone(t,e){t.dispatchEvent(new CustomEvent(DRAGGED_LEFT_EVENT_NAME,{detail:{draggedEl:e,type:DRAGGED_LEFT_TYPES.OUTSIDE_OF_ANY}}))}function dispatchDraggedElementIsOverIndex(t,e,r){t.dispatchEvent(new CustomEvent(DRAGGED_OVER_INDEX_EVENT_NAME,{detail:{indexObj:e,draggedEl:r}}))}function dispatchDraggedLeftDocument(t){window.dispatchEvent(new CustomEvent(DRAGGED_LEFT_DOCUMENT_EVENT_NAME,{detail:{draggedEl:t}}))}const TRIGGERS={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:DRAGGED_ENTERED_EVENT_NAME,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:DRAGGED_OVER_INDEX_EVENT_NAME,DRAGGED_LEFT:DRAGGED_LEFT_EVENT_NAME,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},SOURCES={POINTER:"pointer",KEYBOARD:"keyboard"},SHADOW_ITEM_MARKER_PROPERTY_NAME="isDndShadowItem",SHADOW_ELEMENT_ATTRIBUTE_NAME="data-is-dnd-shadow-item",SHADOW_PLACEHOLDER_ITEM_ID="id:dnd-shadow-placeholder-0000",DRAGGED_ELEMENT_ID="dnd-action-dragged-el";let ITEM_ID_KEY="id",activeDndZoneCount=0;function incrementActiveDropZoneCount(){activeDndZoneCount++}function decrementActiveDropZoneCount(){if(activeDndZoneCount===0)throw new Error("Bug! trying to decrement when there are no dropzones");activeDndZoneCount--}const isOnServer=typeof window>"u";function getBoundingRectNoTransforms(t){let e;const r=t.getBoundingClientRect(),i=getComputedStyle(t),a=i.transform;if(a){let o,u,c,d;if(a.startsWith("matrix3d("))e=a.slice(9,-1).split(/, /),o=+e[0],u=+e[5],c=+e[12],d=+e[13];else if(a.startsWith("matrix("))e=a.slice(7,-1).split(/, /),o=+e[0],u=+e[3],c=+e[4],d=+e[5];else return r;const f=i.transformOrigin,g=r.x-c-(1-o)*parseFloat(f),_=r.y-d-(1-u)*parseFloat(f.slice(f.indexOf(" ")+1)),m=o?r.width/o:t.offsetWidth,h=u?r.height/u:t.offsetHeight;return{x:g,y:_,width:m,height:h,top:_,right:g+m,bottom:_+h,left:g}}else return r}function getAbsoluteRectNoTransforms(t){const e=getBoundingRectNoTransforms(t);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function getAbsoluteRect(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function findCenter(t){return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function calcDistance(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function isPointInsideRect(t,e){return t.y<=e.bottom&&t.y>=e.top&&t.x>=e.left&&t.x<=e.right}function findCenterOfElement(t){return findCenter(getAbsoluteRect(t))}function isCenterOfAInsideB(t,e){const r=findCenterOfElement(t),i=getAbsoluteRectNoTransforms(e);return isPointInsideRect(r,i)}function calcDistanceBetweenCenters(t,e){const r=findCenterOfElement(t),i=findCenterOfElement(e);return calcDistance(r,i)}function isElementOffDocument(t){const e=getAbsoluteRect(t);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}function calcInnerDistancesBetweenPointAndSidesOfElement(t,e){const r=getAbsoluteRect(e);return isPointInsideRect(t,r)?{top:t.y-r.top,bottom:r.bottom-t.y,left:t.x-r.left,right:Math.min(r.right,document.documentElement.clientWidth)-t.x}:null}let dzToShadowIndexToRect;function resetIndexesCache(){dzToShadowIndexToRect=new Map}resetIndexesCache();function resetIndexesCacheForDz(t){dzToShadowIndexToRect.delete(t)}function cacheShadowRect(t){const e=Array.from(t.children).findIndex(r=>r.getAttribute(SHADOW_ELEMENT_ATTRIBUTE_NAME));if(e>=0)return dzToShadowIndexToRect.has(t)||dzToShadowIndexToRect.set(t,new Map),dzToShadowIndexToRect.get(t).set(e,getAbsoluteRectNoTransforms(t.children[e])),e}function findWouldBeIndex(t,e){if(!isCenterOfAInsideB(t,e))return null;const r=e.children;if(r.length===0)return{index:0,isProximityBased:!0};const i=cacheShadowRect(e);for(let u=0;u<r.length;u++)if(isCenterOfAInsideB(t,r[u])){const c=dzToShadowIndexToRect.has(e)&&dzToShadowIndexToRect.get(e).get(u);return c&&!isPointInsideRect(findCenterOfElement(t),c)?{index:i,isProximityBased:!1}:{index:u,isProximityBased:!1}}let a=Number.MAX_VALUE,o;for(let u=0;u<r.length;u++){const c=calcDistanceBetweenCenters(t,r[u]);c<a&&(a=c,o=u)}return{index:o,isProximityBased:!0}}const SCROLL_ZONE_PX=25;function makeScroller(){let t;function e(){t={directionObj:void 0,stepPx:0}}e();function r(o){const{directionObj:u,stepPx:c}=t;u&&(o.scrollBy(u.x*c,u.y*c),window.requestAnimationFrame(()=>r(o)))}function i(o){return SCROLL_ZONE_PX-o}function a(o,u){if(!u)return!1;const c=calcInnerDistancesBetweenPointAndSidesOfElement(o,u);if(c===null)return e(),!1;const d=!!t.directionObj;let[f,g]=[!1,!1];return u.scrollHeight>u.clientHeight&&(c.bottom<SCROLL_ZONE_PX?(f=!0,t.directionObj={x:0,y:1},t.stepPx=i(c.bottom)):c.top<SCROLL_ZONE_PX&&(f=!0,t.directionObj={x:0,y:-1},t.stepPx=i(c.top)),!d&&f)||u.scrollWidth>u.clientWidth&&(c.right<SCROLL_ZONE_PX?(g=!0,t.directionObj={x:1,y:0},t.stepPx=i(c.right)):c.left<SCROLL_ZONE_PX&&(g=!0,t.directionObj={x:-1,y:0},t.stepPx=i(c.left)),!d&&g)?(r(u),!0):(e(),!1)}return{scrollIfNeeded:a,resetScrolling:e}}function toString(t){return JSON.stringify(t,null,2)}function getDepth(t){if(!t)throw new Error("cannot get depth of a falsy node");return _getDepth(t,0)}function _getDepth(t,e=0){return t.parentElement?_getDepth(t.parentElement,e+1):e-1}function areObjectsShallowEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!{}.hasOwnProperty.call(e,r)||e[r]!==t[r])return!1;return!0}function areArraysShallowEqualSameOrder(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}const INTERVAL_MS$1=200,TOLERANCE_PX=10,{scrollIfNeeded:scrollIfNeeded$1,resetScrolling:resetScrolling$1}=makeScroller();let next$1;function observe(t,e,r=INTERVAL_MS$1){let i,a,o=!1,u;const c=Array.from(e).sort((f,g)=>getDepth(g)-getDepth(f));function d(){const f=findCenterOfElement(t),g=scrollIfNeeded$1(f,i);if(!g&&u&&Math.abs(u.x-f.x)<TOLERANCE_PX&&Math.abs(u.y-f.y)<TOLERANCE_PX){next$1=window.setTimeout(d,r);return}if(isElementOffDocument(t)){dispatchDraggedLeftDocument(t);return}u=f;let _=!1;for(const m of c){g&&resetIndexesCacheForDz(i);const h=findWouldBeIndex(t,m);if(h===null)continue;const{index:b}=h;_=!0,m!==i?(i&&dispatchDraggedElementLeftContainerForAnother(i,t,m),dispatchDraggedElementEnteredContainer(m,h,t),i=m):b!==a&&(dispatchDraggedElementIsOverIndex(m,h,t),a=b);break}!_&&o&&i?(dispatchDraggedElementLeftContainerForNone(i,t),i=void 0,a=void 0,o=!1):o=!0,next$1=window.setTimeout(d,r)}d()}function unobserve(){clearTimeout(next$1),resetScrolling$1(),resetIndexesCache()}const INTERVAL_MS=300;let mousePosition;function updateMousePosition(t){const e=t.touches?t.touches[0]:t;mousePosition={x:e.clientX,y:e.clientY}}const{scrollIfNeeded,resetScrolling}=makeScroller();let next;function loop(){mousePosition&&scrollIfNeeded(mousePosition,document.documentElement)&&resetIndexesCache(),next=window.setTimeout(loop,INTERVAL_MS)}function armWindowScroller(){window.addEventListener("mousemove",updateMousePosition),window.addEventListener("touchmove",updateMousePosition),loop()}function disarmWindowScroller(){window.removeEventListener("mousemove",updateMousePosition),window.removeEventListener("touchmove",updateMousePosition),mousePosition=void 0,window.clearTimeout(next),resetScrolling()}function svelteNodeClone(t){const e=t.cloneNode(!0),r=[],i=t.tagName==="SELECT",a=i?[t]:[...t.querySelectorAll("select")];for(const u of a)r.push(u.value);if(a.length<=0)return e;const o=i?[e]:[...e.querySelectorAll("select")];for(let u=0;u<o.length;u++){const c=o[u],d=r[u],f=c.querySelector(`option[value="${d}"`);f&&f.setAttribute("selected",!0)}return e}const TRANSITION_DURATION_SECONDS=.2;function trs(t){return`${t} ${TRANSITION_DURATION_SECONDS}s ease`}function createDraggedElementFrom(t,e){const r=t.getBoundingClientRect(),i=svelteNodeClone(t);copyStylesFromTo(t,i),i.id=DRAGGED_ELEMENT_ID,i.style.position="fixed";let a=r.top,o=r.left;if(i.style.top=`${a}px`,i.style.left=`${o}px`,e){const u=findCenter(r);a-=u.y-e.y,o-=u.x-e.x,window.setTimeout(()=>{i.style.top=`${a}px`,i.style.left=`${o}px`},0)}return i.style.margin="0",i.style.boxSizing="border-box",i.style.height=`${r.height}px`,i.style.width=`${r.width}px`,i.style.transition=`${trs("top")}, ${trs("left")}, ${trs("background-color")}, ${trs("opacity")}, ${trs("color")} `,window.setTimeout(()=>i.style.transition+=`, ${trs("width")}, ${trs("height")}`,0),i.style.zIndex="9999",i.style.cursor="grabbing",i}function moveDraggedElementToWasDroppedState(t){t.style.cursor="grab"}function morphDraggedElementToBeLike(t,e,r,i,a){const o=e.getBoundingClientRect(),u=t.getBoundingClientRect(),c=o.width-u.width,d=o.height-u.height;if(c||d){const f={left:(r-u.left)/u.width,top:(i-u.top)/u.height};t.style.height=`${o.height}px`,t.style.width=`${o.width}px`,t.style.left=`${parseFloat(t.style.left)-f.left*c}px`,t.style.top=`${parseFloat(t.style.top)-f.top*d}px`}copyStylesFromTo(e,t),a()}function copyStylesFromTo(t,e){const r=window.getComputedStyle(t);Array.from(r).filter(i=>i.startsWith("background")||i.startsWith("padding")||i.startsWith("font")||i.startsWith("text")||i.startsWith("align")||i.startsWith("justify")||i.startsWith("display")||i.startsWith("flex")||i.startsWith("border")||i==="opacity"||i==="color"||i==="list-style-type").forEach(i=>e.style.setProperty(i,r.getPropertyValue(i),r.getPropertyPriority(i)))}function styleDraggable(t,e){t.draggable=!1,t.ondragstart=()=>!1,e?(t.style.userSelect="",t.style.WebkitUserSelect="",t.style.cursor=""):(t.style.userSelect="none",t.style.WebkitUserSelect="none",t.style.cursor="grab")}function hideElement(t){t.style.display="none",t.style.position="fixed",t.style.zIndex="-5"}function decorateShadowEl(t){t.style.visibility="hidden",t.setAttribute(SHADOW_ELEMENT_ATTRIBUTE_NAME,"true")}function unDecorateShadowElement(t){t.style.visibility="",t.removeAttribute(SHADOW_ELEMENT_ATTRIBUTE_NAME)}function styleActiveDropZones(t,e=()=>{},r=()=>[]){t.forEach(i=>{const a=e(i);Object.keys(a).forEach(o=>{i.style[o]=a[o]}),r(i).forEach(o=>i.classList.add(o))})}function styleInactiveDropZones(t,e=()=>{},r=()=>[]){t.forEach(i=>{const a=e(i);Object.keys(a).forEach(o=>{i.style[o]=""}),r(i).forEach(o=>i.classList.contains(o)&&i.classList.remove(o))})}function preventShrinking(t){const e=t.style.minHeight;t.style.minHeight=window.getComputedStyle(t).getPropertyValue("height");const r=t.style.minWidth;return t.style.minWidth=window.getComputedStyle(t).getPropertyValue("width"),function(){t.style.minHeight=e,t.style.minWidth=r}}const DEFAULT_DROP_ZONE_TYPE$1="--any--",MIN_OBSERVATION_INTERVAL_MS=100,MIN_MOVEMENT_BEFORE_DRAG_START_PX=3,DEFAULT_DROP_TARGET_STYLE$1={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let originalDragTarget,draggedEl,draggedElData,draggedElType,originDropZone,originIndex,shadowElData,shadowElDropZone,dragStartMousePosition,currentMousePosition,isWorkingOnPreviousDrag=!1,finalizingPreviousDrag=!1,unlockOriginDzMinDimensions,isDraggedOutsideOfAnyDz=!1,scheduledForRemovalAfterDrop=[];const typeToDropZones$1=new Map,dzToConfig$1=new Map,elToMouseDownListener=new WeakMap;function registerDropZone$1(t,e){typeToDropZones$1.has(e)||typeToDropZones$1.set(e,new Set),typeToDropZones$1.get(e).has(t)||(typeToDropZones$1.get(e).add(t),incrementActiveDropZoneCount())}function unregisterDropZone$1(t,e){typeToDropZones$1.get(e).delete(t),decrementActiveDropZoneCount(),typeToDropZones$1.get(e).size===0&&typeToDropZones$1.delete(e)}function watchDraggedElement(){armWindowScroller();const t=typeToDropZones$1.get(draggedElType);for(const r of t)r.addEventListener(DRAGGED_ENTERED_EVENT_NAME,handleDraggedEntered),r.addEventListener(DRAGGED_LEFT_EVENT_NAME,handleDraggedLeft),r.addEventListener(DRAGGED_OVER_INDEX_EVENT_NAME,handleDraggedIsOverIndex);window.addEventListener(DRAGGED_LEFT_DOCUMENT_EVENT_NAME,handleDrop$1);const e=Math.max(MIN_OBSERVATION_INTERVAL_MS,...Array.from(t.keys()).map(r=>dzToConfig$1.get(r).dropAnimationDurationMs));observe(draggedEl,t,e*1.07)}function unWatchDraggedElement(){disarmWindowScroller();const t=typeToDropZones$1.get(draggedElType);for(const e of t)e.removeEventListener(DRAGGED_ENTERED_EVENT_NAME,handleDraggedEntered),e.removeEventListener(DRAGGED_LEFT_EVENT_NAME,handleDraggedLeft),e.removeEventListener(DRAGGED_OVER_INDEX_EVENT_NAME,handleDraggedIsOverIndex);window.removeEventListener(DRAGGED_LEFT_DOCUMENT_EVENT_NAME,handleDrop$1),unobserve()}function findShadowPlaceHolderIdx(t){return t.findIndex(e=>e[ITEM_ID_KEY]===SHADOW_PLACEHOLDER_ITEM_ID)}function findShadowElementIdx(t){return t.findIndex(e=>!!e[SHADOW_ITEM_MARKER_PROPERTY_NAME]&&e[ITEM_ID_KEY]!==SHADOW_PLACEHOLDER_ITEM_ID)}function handleDraggedEntered(t){let{items:e,dropFromOthersDisabled:r}=dzToConfig$1.get(t.currentTarget);if(r&&t.currentTarget!==originDropZone)return;if(isDraggedOutsideOfAnyDz=!1,e=e.filter(u=>u[ITEM_ID_KEY]!==shadowElData[ITEM_ID_KEY]),originDropZone!==t.currentTarget){const c=dzToConfig$1.get(originDropZone).items.filter(d=>!d[SHADOW_ITEM_MARKER_PROPERTY_NAME]);dispatchConsiderEvent(originDropZone,c,{trigger:TRIGGERS.DRAGGED_ENTERED_ANOTHER,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER})}else{const u=findShadowPlaceHolderIdx(e);u!==-1&&e.splice(u,1)}const{index:i,isProximityBased:a}=t.detail.indexObj,o=a&&i===t.currentTarget.children.length-1?i+1:i;shadowElDropZone=t.currentTarget,e.splice(o,0,shadowElData),dispatchConsiderEvent(t.currentTarget,e,{trigger:TRIGGERS.DRAGGED_ENTERED,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER})}function handleDraggedLeft(t){if(!isWorkingOnPreviousDrag)return;const{items:e,dropFromOthersDisabled:r}=dzToConfig$1.get(t.currentTarget);if(r&&t.currentTarget!==originDropZone&&t.currentTarget!==shadowElDropZone)return;const i=findShadowElementIdx(e),a=e.splice(i,1)[0];shadowElDropZone=void 0;const{type:o,theOtherDz:u}=t.detail;if(o===DRAGGED_LEFT_TYPES.OUTSIDE_OF_ANY||o===DRAGGED_LEFT_TYPES.LEFT_FOR_ANOTHER&&u!==originDropZone&&dzToConfig$1.get(u).dropFromOthersDisabled){isDraggedOutsideOfAnyDz=!0,shadowElDropZone=originDropZone;const c=dzToConfig$1.get(originDropZone).items;c.splice(originIndex,0,a),dispatchConsiderEvent(originDropZone,c,{trigger:TRIGGERS.DRAGGED_LEFT_ALL,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER})}dispatchConsiderEvent(t.currentTarget,e,{trigger:TRIGGERS.DRAGGED_LEFT,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER})}function handleDraggedIsOverIndex(t){const{items:e,dropFromOthersDisabled:r}=dzToConfig$1.get(t.currentTarget);if(r&&t.currentTarget!==originDropZone)return;isDraggedOutsideOfAnyDz=!1;const{index:i}=t.detail.indexObj,a=findShadowElementIdx(e);e.splice(a,1),e.splice(i,0,shadowElData),dispatchConsiderEvent(t.currentTarget,e,{trigger:TRIGGERS.DRAGGED_OVER_INDEX,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER})}function handleMouseMove(t){t.preventDefault();const e=t.touches?t.touches[0]:t;currentMousePosition={x:e.clientX,y:e.clientY},draggedEl.style.transform=`translate3d(${currentMousePosition.x-dragStartMousePosition.x}px, ${currentMousePosition.y-dragStartMousePosition.y}px, 0)`}function handleDrop$1(){finalizingPreviousDrag=!0,window.removeEventListener("mousemove",handleMouseMove),window.removeEventListener("touchmove",handleMouseMove),window.removeEventListener("mouseup",handleDrop$1),window.removeEventListener("touchend",handleDrop$1),unWatchDraggedElement(),moveDraggedElementToWasDroppedState(draggedEl),shadowElDropZone||(shadowElDropZone=originDropZone);let{items:t,type:e}=dzToConfig$1.get(shadowElDropZone);styleInactiveDropZones(typeToDropZones$1.get(e),a=>dzToConfig$1.get(a).dropTargetStyle,a=>dzToConfig$1.get(a).dropTargetClasses);let r=findShadowElementIdx(t);r===-1&&(r=originIndex),t=t.map(a=>a[SHADOW_ITEM_MARKER_PROPERTY_NAME]?draggedElData:a);function i(){unlockOriginDzMinDimensions(),dispatchFinalizeEvent(shadowElDropZone,t,{trigger:isDraggedOutsideOfAnyDz?TRIGGERS.DROPPED_OUTSIDE_OF_ANY:TRIGGERS.DROPPED_INTO_ZONE,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER}),shadowElDropZone!==originDropZone&&dispatchFinalizeEvent(originDropZone,dzToConfig$1.get(originDropZone).items,{trigger:TRIGGERS.DROPPED_INTO_ANOTHER,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER}),unDecorateShadowElement(shadowElDropZone.children[r]),cleanupPostDrop()}animateDraggedToFinalPosition(r,i)}function animateDraggedToFinalPosition(t,e){const r=getBoundingRectNoTransforms(shadowElDropZone.children[t]),i={x:r.left-parseFloat(draggedEl.style.left),y:r.top-parseFloat(draggedEl.style.top)},{dropAnimationDurationMs:a}=dzToConfig$1.get(shadowElDropZone),o=`transform ${a}ms ease`;draggedEl.style.transition=draggedEl.style.transition?draggedEl.style.transition+","+o:o,draggedEl.style.transform=`translate3d(${i.x}px, ${i.y}px, 0)`,window.setTimeout(e,a)}function scheduleDZForRemovalAfterDrop(t,e){scheduledForRemovalAfterDrop.push({dz:t,destroy:e}),window.requestAnimationFrame(()=>{hideElement(t),document.body.appendChild(t)})}function cleanupPostDrop(){draggedEl.remove(),originalDragTarget.remove(),scheduledForRemovalAfterDrop.length&&(scheduledForRemovalAfterDrop.forEach(({dz:t,destroy:e})=>{e(),t.remove()}),scheduledForRemovalAfterDrop=[]),draggedEl=void 0,originalDragTarget=void 0,draggedElData=void 0,draggedElType=void 0,originDropZone=void 0,originIndex=void 0,shadowElData=void 0,shadowElDropZone=void 0,dragStartMousePosition=void 0,currentMousePosition=void 0,isWorkingOnPreviousDrag=!1,finalizingPreviousDrag=!1,unlockOriginDzMinDimensions=void 0,isDraggedOutsideOfAnyDz=!1}function dndzone$2(t,e){let r=!1;const i={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:DEFAULT_DROP_TARGET_STYLE$1,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let a=new Map;function o(){window.addEventListener("mousemove",d,{passive:!1}),window.addEventListener("touchmove",d,{passive:!1,capture:!1}),window.addEventListener("mouseup",c,{passive:!1}),window.addEventListener("touchend",c,{passive:!1})}function u(){window.removeEventListener("mousemove",d),window.removeEventListener("touchmove",d),window.removeEventListener("mouseup",c),window.removeEventListener("touchend",c)}function c(){u(),originalDragTarget=void 0,dragStartMousePosition=void 0,currentMousePosition=void 0}function d(m){m.preventDefault();const h=m.touches?m.touches[0]:m;currentMousePosition={x:h.clientX,y:h.clientY},(Math.abs(currentMousePosition.x-dragStartMousePosition.x)>=MIN_MOVEMENT_BEFORE_DRAG_START_PX||Math.abs(currentMousePosition.y-dragStartMousePosition.y)>=MIN_MOVEMENT_BEFORE_DRAG_START_PX)&&(u(),g())}function f(m){if(m.target!==m.currentTarget&&(m.target.value!==void 0||m.target.isContentEditable)||m.button||isWorkingOnPreviousDrag)return;m.stopPropagation();const h=m.touches?m.touches[0]:m;dragStartMousePosition={x:h.clientX,y:h.clientY},currentMousePosition={...dragStartMousePosition},originalDragTarget=m.currentTarget,o()}function g(){isWorkingOnPreviousDrag=!0;const m=a.get(originalDragTarget);originIndex=m,originDropZone=originalDragTarget.parentElement;const h=originDropZone.getRootNode(),b=h.body||h,{items:y,type:S,centreDraggedOnCursor:T}=i;draggedElData={...y[m]},draggedElType=S,shadowElData={...draggedElData,[SHADOW_ITEM_MARKER_PROPERTY_NAME]:!0};const w={...shadowElData,[ITEM_ID_KEY]:SHADOW_PLACEHOLDER_ITEM_ID};draggedEl=createDraggedElementFrom(originalDragTarget,T&&currentMousePosition);function E(){draggedEl.parentElement?window.requestAnimationFrame(E):(b.appendChild(draggedEl),draggedEl.focus(),watchDraggedElement(),hideElement(originalDragTarget),b.appendChild(originalDragTarget))}window.requestAnimationFrame(E),styleActiveDropZones(Array.from(typeToDropZones$1.get(i.type)).filter(O=>O===originDropZone||!dzToConfig$1.get(O).dropFromOthersDisabled),O=>dzToConfig$1.get(O).dropTargetStyle,O=>dzToConfig$1.get(O).dropTargetClasses),y.splice(m,1,w),unlockOriginDzMinDimensions=preventShrinking(originDropZone),dispatchConsiderEvent(originDropZone,y,{trigger:TRIGGERS.DRAG_STARTED,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER}),window.addEventListener("mousemove",handleMouseMove,{passive:!1}),window.addEventListener("touchmove",handleMouseMove,{passive:!1,capture:!1}),window.addEventListener("mouseup",handleDrop$1,{passive:!1}),window.addEventListener("touchend",handleDrop$1,{passive:!1})}function _({items:m=void 0,flipDurationMs:h=0,type:b=DEFAULT_DROP_ZONE_TYPE$1,dragDisabled:y=!1,morphDisabled:S=!1,dropFromOthersDisabled:T=!1,dropTargetStyle:w=DEFAULT_DROP_TARGET_STYLE$1,dropTargetClasses:E=[],transformDraggedElement:O=()=>{},centreDraggedOnCursor:N=!1}){i.dropAnimationDurationMs=h,i.type&&b!==i.type&&unregisterDropZone$1(t,i.type),i.type=b,registerDropZone$1(t,b),i.items=[...m],i.dragDisabled=y,i.morphDisabled=S,i.transformDraggedElement=O,i.centreDraggedOnCursor=N,r&&isWorkingOnPreviousDrag&&!finalizingPreviousDrag&&(!areObjectsShallowEqual(w,i.dropTargetStyle)||!areArraysShallowEqualSameOrder(E,i.dropTargetClasses))&&(styleInactiveDropZones([t],()=>i.dropTargetStyle,()=>E),styleActiveDropZones([t],()=>w,()=>E)),i.dropTargetStyle=w,i.dropTargetClasses=[...E];function v(I,A){return dzToConfig$1.get(I)?dzToConfig$1.get(I)[A]:i[A]}r&&isWorkingOnPreviousDrag&&i.dropFromOthersDisabled!==T&&(T?styleInactiveDropZones([t],I=>v(I,"dropTargetStyle"),I=>v(I,"dropTargetClasses")):styleActiveDropZones([t],I=>v(I,"dropTargetStyle"),I=>v(I,"dropTargetClasses"))),i.dropFromOthersDisabled=T,dzToConfig$1.set(t,i);const D=findShadowElementIdx(i.items);for(let I=0;I<t.children.length;I++){const A=t.children[I];if(styleDraggable(A,y),I===D){S||morphDraggedElementToBeLike(draggedEl,A,currentMousePosition.x,currentMousePosition.y,()=>i.transformDraggedElement(draggedEl,draggedElData,I)),decorateShadowEl(A);continue}A.removeEventListener("mousedown",elToMouseDownListener.get(A)),A.removeEventListener("touchstart",elToMouseDownListener.get(A)),y||(A.addEventListener("mousedown",f),A.addEventListener("touchstart",f),elToMouseDownListener.set(A,f)),a.set(A,I),r||(r=!0)}}return _(e),{update:m=>{_(m)},destroy:()=>{function m(){unregisterDropZone$1(t,dzToConfig$1.get(t).type),dzToConfig$1.delete(t)}isWorkingOnPreviousDrag?scheduleDZForRemovalAfterDrop(t,m):m()}}}const INSTRUCTION_IDs$1={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},ID_TO_INSTRUCTION={[INSTRUCTION_IDs$1.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[INSTRUCTION_IDs$1.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},ALERT_DIV_ID="dnd-action-aria-alert";let alertsDiv;function initAriaOnBrowser(){alertsDiv||(alertsDiv=document.createElement("div"),function(){alertsDiv.id=ALERT_DIV_ID,alertsDiv.style.position="fixed",alertsDiv.style.bottom="0",alertsDiv.style.left="0",alertsDiv.style.zIndex="-5",alertsDiv.style.opacity="0",alertsDiv.style.height="0",alertsDiv.style.width="0",alertsDiv.setAttribute("role","alert")}(),document.body.prepend(alertsDiv),Object.entries(ID_TO_INSTRUCTION).forEach(([t,e])=>document.body.prepend(instructionToHiddenDiv(t,e))))}function initAria(){return isOnServer?null:(document.readyState==="complete"?initAriaOnBrowser():window.addEventListener("DOMContentLoaded",initAriaOnBrowser),{...INSTRUCTION_IDs$1})}function destroyAria(){isOnServer||!alertsDiv||(Object.keys(ID_TO_INSTRUCTION).forEach(t=>{var e;return(e=document.getElementById(t))==null?void 0:e.remove()}),alertsDiv.remove(),alertsDiv=void 0)}function instructionToHiddenDiv(t,e){const r=document.createElement("div");return r.id=t,r.innerHTML=`<p>${e}</p>`,r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function alertToScreenReader(t){if(isOnServer)return;alertsDiv||initAriaOnBrowser(),alertsDiv.innerHTML="";const e=document.createTextNode(t);alertsDiv.appendChild(e),alertsDiv.style.display="none",alertsDiv.style.display="inline"}const DEFAULT_DROP_ZONE_TYPE="--any--",DEFAULT_DROP_TARGET_STYLE={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let isDragging=!1,draggedItemType,focusedDz,focusedDzLabel="",focusedItem,focusedItemId,focusedItemLabel="";const allDragTargets=new WeakSet,elToKeyDownListeners=new WeakMap,elToFocusListeners=new WeakMap,dzToHandles=new Map,dzToConfig=new Map,typeToDropZones=new Map;let INSTRUCTION_IDs;function registerDropZone(t,e){typeToDropZones.size===0&&(INSTRUCTION_IDs=initAria(),window.addEventListener("keydown",globalKeyDownHandler),window.addEventListener("click",globalClickHandler)),typeToDropZones.has(e)||typeToDropZones.set(e,new Set),typeToDropZones.get(e).has(t)||(typeToDropZones.get(e).add(t),incrementActiveDropZoneCount())}function unregisterDropZone(t,e){focusedDz===t&&handleDrop(),typeToDropZones.get(e).delete(t),decrementActiveDropZoneCount(),typeToDropZones.get(e).size===0&&typeToDropZones.delete(e),typeToDropZones.size===0&&(window.removeEventListener("keydown",globalKeyDownHandler),window.removeEventListener("click",globalClickHandler),INSTRUCTION_IDs=void 0,destroyAria())}function globalKeyDownHandler(t){if(!!isDragging)switch(t.key){case"Escape":{handleDrop();break}}}function globalClickHandler(){!isDragging||allDragTargets.has(document.activeElement)||handleDrop()}function handleZoneFocus(t){if(!isDragging)return;const e=t.currentTarget;if(e===focusedDz)return;focusedDzLabel=e.getAttribute("aria-label")||"";const{items:r}=dzToConfig.get(focusedDz),i=r.find(f=>f[ITEM_ID_KEY]===focusedItemId),a=r.indexOf(i),o=r.splice(a,1)[0],{items:u,autoAriaDisabled:c}=dzToConfig.get(e);e.getBoundingClientRect().top<focusedDz.getBoundingClientRect().top||e.getBoundingClientRect().left<focusedDz.getBoundingClientRect().left?(u.push(o),c||alertToScreenReader(`Moved item ${focusedItemLabel} to the end of the list ${focusedDzLabel}`)):(u.unshift(o),c||alertToScreenReader(`Moved item ${focusedItemLabel} to the beginning of the list ${focusedDzLabel}`)),dispatchFinalizeEvent(focusedDz,r,{trigger:TRIGGERS.DROPPED_INTO_ANOTHER,id:focusedItemId,source:SOURCES.KEYBOARD}),dispatchFinalizeEvent(e,u,{trigger:TRIGGERS.DROPPED_INTO_ZONE,id:focusedItemId,source:SOURCES.KEYBOARD}),focusedDz=e}function triggerAllDzsUpdate(){dzToHandles.forEach(({update:t},e)=>t(dzToConfig.get(e)))}function handleDrop(t=!0){dzToConfig.get(focusedDz).autoAriaDisabled||alertToScreenReader(`Stopped dragging item ${focusedItemLabel}`),allDragTargets.has(document.activeElement)&&document.activeElement.blur(),t&&dispatchConsiderEvent(focusedDz,dzToConfig.get(focusedDz).items,{trigger:TRIGGERS.DRAG_STOPPED,id:focusedItemId,source:SOURCES.KEYBOARD}),styleInactiveDropZones(typeToDropZones.get(draggedItemType),e=>dzToConfig.get(e).dropTargetStyle,e=>dzToConfig.get(e).dropTargetClasses),focusedItem=null,focusedItemId=null,focusedItemLabel="",draggedItemType=null,focusedDz=null,focusedDzLabel="",isDragging=!1,triggerAllDzsUpdate()}function dndzone$1(t,e){const r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:DEFAULT_DROP_TARGET_STYLE,dropTargetClasses:[],autoAriaDisabled:!1};function i(g,_,m){g.length<=1||g.splice(m,1,g.splice(_,1,g[m])[0])}function a(g){switch(g.key){case"Enter":case" ":{if((g.target.disabled!==void 0||g.target.href||g.target.isContentEditable)&&!allDragTargets.has(g.target))return;g.preventDefault(),g.stopPropagation(),isDragging?handleDrop():o(g);break}case"ArrowDown":case"ArrowRight":{if(!isDragging)return;g.preventDefault(),g.stopPropagation();const{items:_}=dzToConfig.get(t),m=Array.from(t.children),h=m.indexOf(g.currentTarget);h<m.length-1&&(r.autoAriaDisabled||alertToScreenReader(`Moved item ${focusedItemLabel} to position ${h+2} in the list ${focusedDzLabel}`),i(_,h,h+1),dispatchFinalizeEvent(t,_,{trigger:TRIGGERS.DROPPED_INTO_ZONE,id:focusedItemId,source:SOURCES.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!isDragging)return;g.preventDefault(),g.stopPropagation();const{items:_}=dzToConfig.get(t),h=Array.from(t.children).indexOf(g.currentTarget);h>0&&(r.autoAriaDisabled||alertToScreenReader(`Moved item ${focusedItemLabel} to position ${h} in the list ${focusedDzLabel}`),i(_,h,h-1),dispatchFinalizeEvent(t,_,{trigger:TRIGGERS.DROPPED_INTO_ZONE,id:focusedItemId,source:SOURCES.KEYBOARD}));break}}}function o(g){c(g.currentTarget),focusedDz=t,draggedItemType=r.type,isDragging=!0;const _=Array.from(typeToDropZones.get(r.type)).filter(m=>m===focusedDz||!dzToConfig.get(m).dropFromOthersDisabled);if(styleActiveDropZones(_,m=>dzToConfig.get(m).dropTargetStyle,m=>dzToConfig.get(m).dropTargetClasses),!r.autoAriaDisabled){let m=`Started dragging item ${focusedItemLabel}. Use the arrow keys to move it within its list ${focusedDzLabel}`;_.length>1&&(m+=", or tab to another list in order to move the item into it"),alertToScreenReader(m)}dispatchConsiderEvent(t,dzToConfig.get(t).items,{trigger:TRIGGERS.DRAG_STARTED,id:focusedItemId,source:SOURCES.KEYBOARD}),triggerAllDzsUpdate()}function u(g){!isDragging||g.currentTarget!==focusedItem&&(g.stopPropagation(),handleDrop(!1),o(g))}function c(g){const{items:_}=dzToConfig.get(t),m=Array.from(t.children),h=m.indexOf(g);focusedItem=g,focusedItem.tabIndex=0,focusedItemId=_[h][ITEM_ID_KEY],focusedItemLabel=m[h].getAttribute("aria-label")||""}function d({items:g=[],type:_=DEFAULT_DROP_ZONE_TYPE,dragDisabled:m=!1,zoneTabIndex:h=0,dropFromOthersDisabled:b=!1,dropTargetStyle:y=DEFAULT_DROP_TARGET_STYLE,dropTargetClasses:S=[],autoAriaDisabled:T=!1}){r.items=[...g],r.dragDisabled=m,r.dropFromOthersDisabled=b,r.zoneTabIndex=h,r.dropTargetStyle=y,r.dropTargetClasses=S,r.autoAriaDisabled=T,r.type&&_!==r.type&&unregisterDropZone(t,r.type),r.type=_,registerDropZone(t,_),T||(t.setAttribute("aria-disabled",m),t.setAttribute("role","list"),t.setAttribute("aria-describedby",m?INSTRUCTION_IDs.DND_ZONE_DRAG_DISABLED:INSTRUCTION_IDs.DND_ZONE_ACTIVE)),dzToConfig.set(t,r),isDragging?t.tabIndex=t===focusedDz||focusedItem.contains(t)||r.dropFromOthersDisabled||focusedDz&&r.type!==dzToConfig.get(focusedDz).type?-1:0:t.tabIndex=r.zoneTabIndex,t.addEventListener("focus",handleZoneFocus);for(let w=0;w<t.children.length;w++){const E=t.children[w];allDragTargets.add(E),E.tabIndex=isDragging?-1:0,T||E.setAttribute("role","listitem"),E.removeEventListener("keydown",elToKeyDownListeners.get(E)),E.removeEventListener("click",elToFocusListeners.get(E)),m||(E.addEventListener("keydown",a),elToKeyDownListeners.set(E,a),E.addEventListener("click",u),elToFocusListeners.set(E,u)),isDragging&&r.items[w][ITEM_ID_KEY]===focusedItemId&&(focusedItem=E,focusedItem.tabIndex=0,E.focus())}}d(e);const f={update:g=>{d(g)},destroy:()=>{unregisterDropZone(t,r.type),dzToConfig.delete(t),dzToHandles.delete(t)}};return dzToHandles.set(t,f),f}function dndzone(t,e){validateOptions(e);const r=dndzone$2(t,e),i=dndzone$1(t,e);return{update:a=>{validateOptions(a),r.update(a),i.update(a)},destroy:()=>{r.destroy(),i.destroy()}}}function validateOptions(t){const{items:e,flipDurationMs:r,type:i,dragDisabled:a,morphDisabled:o,dropFromOthersDisabled:u,zoneTabIndex:c,dropTargetStyle:d,dropTargetClasses:f,transformDraggedElement:g,autoAriaDisabled:_,centreDraggedOnCursor:m,...h}=t;if(Object.keys(h).length>0&&console.warn("dndzone will ignore unknown options",h),!e)throw new Error("no 'items' key provided to dndzone");const b=e.find(y=>!{}.hasOwnProperty.call(y,ITEM_ID_KEY));if(b)throw new Error(`missing '${ITEM_ID_KEY}' property for item ${toString(b)}`);if(f&&!Array.isArray(f))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof f}, ${toString(f)}`);if(c&&!isInt(c))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof c}, ${toString(c)}`)}function isInt(t){return!isNaN(t)&&function(e){return(e|0)===e}(parseFloat(t))}function isSubscription(t){return"subscription"in t}function isGroup(t){return"subscriptions"in t}const{Map:Map_1}=globals;function get_each_context(t,e,r){const i=t.slice();return i[55]=e[r],i[56]=e,i[57]=r,i}function get_each_context_1(t,e,r){const i=t.slice();return i[58]=e[r],i}function get_each_context_2(t,e,r){const i=t.slice();return i[55]=e[r],i}function create_default_slot_6(t){let e,r,i,a,o,u,c,d,f,g,_,m,h,b,y,S,T,w;return f=new Fa$1({props:{icon:faTimesCircle,translateY:.5}}),{c(){e=element("div"),r=element("p"),r.textContent="Deck Editor",i=space(),a=element("div"),o=element("input"),c=space(),d=element("span"),create_component(f.$$.fragment),_=space(),m=element("label"),h=element("input"),y=text(`
              Hide added subscriptions`),attr(r,"class","font-extrabold"),attr(o,"class","w-full h-8 pl-2 pr-7 pb-0.5 bg-neutral-600 rounded-2xl"),attr(o,"type","text"),attr(o,"placeholder","Search subscriptions..."),attr(o,"aria-label","Search subscriptions"),attr(o,"tabindex",u=t[7]?0:-1),attr(d,"class","absolute right-2 h-8 cursor-pointer"),attr(d,"tabindex",g=t[7]?0:-1),attr(a,"class","relative w-full h-8 m-1"),attr(h,"type","checkbox"),attr(h,"tabindex",b=t[7]?0:-1),attr(m,"class","block"),attr(e,"class","min-w-[14rem]")},m(E,O){insert(E,e,O),append(e,r),append(e,i),append(e,a),append(a,o),set_input_value(o,t[0]),append(a,c),append(a,d),mount_component(f,d,null),append(e,_),append(e,m),append(m,h),h.checked=t[2],append(m,y),S=!0,T||(w=[listen(o,"input",t[26]),listen(d,"click",t[27]),listen(d,"keydown",t[28]),listen(h,"change",t[29]),listen(h,"change",t[10])],T=!0)},p(E,O){(!S||O[0]&128&&u!==(u=E[7]?0:-1))&&attr(o,"tabindex",u),O[0]&1&&o.value!==E[0]&&set_input_value(o,E[0]),(!S||O[0]&128&&g!==(g=E[7]?0:-1))&&attr(d,"tabindex",g),(!S||O[0]&128&&b!==(b=E[7]?0:-1))&&attr(h,"tabindex",b),O[0]&4&&(h.checked=E[2])},i(E){S||(transition_in(f.$$.fragment,E),S=!0)},o(E){transition_out(f.$$.fragment,E),S=!1},d(E){E&&detach(e),destroy_component(f),T=!1,run_all(w)}}}function create_default_slot_5(t){let e;return{c(){e=text("Subscriptions")},m(r,i){insert(r,e,i)},d(r){r&&detach(e)}}}function create_each_block_2(t,e){let r,i,a,o,u,c,d,f=e[55].subscription.title+"",g,_,m,h,b,y=noop,S,T;return{key:t,first:null,c(){r=element("div"),i=element("img"),c=space(),d=element("span"),g=text(f),m=space(),attr(i,"class","inline-block h-8 w-8 rounded-2xl align-top"),src_url_equal(i.src,a=e[55].subscription.thumbnailUrl)||attr(i,"src",a),attr(i,"alt",""),attr(i,"loading","lazy"),attr(i,"width","88"),attr(i,"height","88"),attr(i,"tabindex",o=e[7]?0:-1),attr(i,"aria-label","Drag-handle"),attr(i,"style",u=e[7]?"cursor: grab":"cursor: grabbing"),attr(d,"class","inline-block w-[calc(100%-2.5rem)] h-8 pt-1 align-top truncate"),attr(d,"title",_=e[55].subscription.title),attr(r,"class","w-[calc(100%-0.5rem)] bg-neutral-700 m-1 p-0.5 rounded-2xl"),attr(r,"aria-label",h=e[55].name),this.first=r},m(w,E){insert(w,r,E),append(r,i),append(r,c),append(r,d),append(d,g),append(r,m),S||(T=[listen(i,"mousedown",e[23]),listen(i,"touchstart",e[23]),listen(i,"keydown",e[24])],S=!0)},p(w,E){e=w,E[0]&8&&!src_url_equal(i.src,a=e[55].subscription.thumbnailUrl)&&attr(i,"src",a),E[0]&128&&o!==(o=e[7]?0:-1)&&attr(i,"tabindex",o),E[0]&128&&u!==(u=e[7]?"cursor: grab":"cursor: grabbing")&&attr(i,"style",u),E[0]&8&&f!==(f=e[55].subscription.title+"")&&set_data(g,f),E[0]&8&&_!==(_=e[55].subscription.title)&&attr(d,"title",_),E[0]&8&&h!==(h=e[55].name)&&attr(r,"aria-label",h)},r(){b=r.getBoundingClientRect()},f(){fix_position(r),y()},a(){y(),y=create_animation(r,b,flip,{duration:flipDurationMs})},d(w){w&&detach(r),S=!1,run_all(T)}}}function create_default_slot_4(t){let e;return{c(){e=text("Deck")},m(r,i){insert(r,e,i)},d(r){r&&detach(e)}}}function create_else_block_1(t){let e;return{c(){e=element("div"),e.innerHTML=`<p class="w-full text-center text-neutral-300">Drag and drop subscriptions by dragging the channel image</p> 
                `,attr(e,"class","w-[calc(100%-0.5rem)] m-1")},m(r,i){insert(r,e,i)},p:noop,d(r){r&&detach(e)}}}function create_if_block_1(t){let e,r,i,a,o,u,c,d,f,g,_,m,h,b,y,S,T,w,E,O,N,v;r=new FaLayers({props:{size:"2x",class:"-mx-1",$$slots:{default:[create_default_slot_3]},$$scope:{ctx:t}}});function D(){t[32].call(u,t[56],t[57])}_=new Fa$1({props:{icon:t[55].expanded?faCompressAlt:faExpandAlt,translateY:.5}});function I(){return t[33](t[55],t[56],t[57])}function A(...k){return t[34](t[55],t[56],t[57],...k)}S=new Fa$1({props:{icon:faTimesCircle,translateY:.5}});function R(){return t[35](t[55])}function C(...k){return t[36](t[55],...k)}let F=t[55].expanded&&create_if_block_2(t);return{c(){e=element("span"),create_component(r.$$.fragment),o=space(),u=element("input"),d=space(),f=element("div"),g=element("span"),create_component(_.$$.fragment),b=space(),y=element("span"),create_component(S.$$.fragment),w=space(),F&&F.c(),E=empty(),attr(e,"class","inline-block h-8 w-8 rounded-2xl bg-neutral-600 align-top"),attr(e,"tabindex",i=t[7]?0:-1),attr(e,"aria-label","drag-handle"),attr(e,"style",a=t[7]?"cursor: grab":"cursor: grabbing"),attr(u,"class","w-[calc(100%-6rem)] h-8 px-2 pb-0.5 bg-neutral-600 align-top rounded-2xl"),attr(u,"tabindex",c=t[7]?0:-1),attr(g,"class","inline-block h-8 w-8 px-2 cursor-pointer"),attr(g,"aria-label",m=t[55].expanded?"Collapse":"Expand"),attr(g,"tabindex",h=t[7]?0:-1),attr(y,"class","inline-block float-right h-8 w-8 px-2 cursor-pointer"),attr(y,"aria-label","Remove"),attr(y,"tabindex",T=t[7]?0:-1),attr(f,"class","inline-block float-right h-8 w-16 -ml-16")},m(k,$){insert(k,e,$),mount_component(r,e,null),insert(k,o,$),insert(k,u,$),set_input_value(u,t[55].name),insert(k,d,$),insert(k,f,$),append(f,g),mount_component(_,g,null),append(f,b),append(f,y),mount_component(S,y,null),insert(k,w,$),F&&F.m(k,$),insert(k,E,$),O=!0,N||(v=[listen(e,"mousedown",t[23]),listen(e,"touchstart",t[23]),listen(e,"keydown",t[24]),listen(u,"input",D),listen(g,"click",I),listen(g,"keydown",A),listen(y,"click",R),listen(y,"keydown",C)],N=!0)},p(k,$){t=k;const P={};$[2]&2&&(P.$$scope={dirty:$,ctx:t}),r.$set(P),(!O||$[0]&128&&i!==(i=t[7]?0:-1))&&attr(e,"tabindex",i),(!O||$[0]&128&&a!==(a=t[7]?"cursor: grab":"cursor: grabbing"))&&attr(e,"style",a),(!O||$[0]&128&&c!==(c=t[7]?0:-1))&&attr(u,"tabindex",c),$[0]&16&&u.value!==t[55].name&&set_input_value(u,t[55].name);const B={};$[0]&16&&(B.icon=t[55].expanded?faCompressAlt:faExpandAlt),_.$set(B),(!O||$[0]&16&&m!==(m=t[55].expanded?"Collapse":"Expand"))&&attr(g,"aria-label",m),(!O||$[0]&128&&h!==(h=t[7]?0:-1))&&attr(g,"tabindex",h),(!O||$[0]&128&&T!==(T=t[7]?0:-1))&&attr(y,"tabindex",T),t[55].expanded?F?(F.p(t,$),$[0]&16&&transition_in(F,1)):(F=create_if_block_2(t),F.c(),transition_in(F,1),F.m(E.parentNode,E)):F&&(group_outros(),transition_out(F,1,1,()=>{F=null}),check_outros())},i(k){O||(transition_in(r.$$.fragment,k),transition_in(_.$$.fragment,k),transition_in(S.$$.fragment,k),transition_in(F),O=!0)},o(k){transition_out(r.$$.fragment,k),transition_out(_.$$.fragment,k),transition_out(S.$$.fragment,k),transition_out(F),O=!1},d(k){k&&detach(e),destroy_component(r),k&&detach(o),k&&detach(u),k&&detach(d),k&&detach(f),destroy_component(_),destroy_component(S),k&&detach(w),F&&F.d(k),k&&detach(E),N=!1,run_all(v)}}}function create_if_block$1(t){let e,r,i,a,o,u,c=t[55].subscription.title+"",d,f,g,_,m,h,b,y,S;m=new Fa$1({props:{icon:faTimesCircle,translateY:.5}});function T(){return t[30](t[55])}function w(...E){return t[31](t[55],...E)}return{c(){e=element("img"),o=space(),u=element("span"),d=text(c),g=space(),_=element("span"),create_component(m.$$.fragment),attr(e,"class","inline-block h-8 w-8 rounded-2xl align-top"),src_url_equal(e.src,r=t[55].subscription.thumbnailUrl)||attr(e,"src",r),attr(e,"alt",""),attr(e,"loading","lazy"),attr(e,"width","88"),attr(e,"height","88"),attr(e,"tabindex",i=t[7]?0:-1),attr(e,"aria-label","Drag-handle"),attr(e,"style",a=t[7]?"cursor: grab":"cursor: grabbing"),attr(u,"class","inline-block w-[calc(100%-4rem)] h-8 pt-1 align-top truncate"),attr(u,"title",f=t[55].subscription.title),attr(_,"class","inline-block float-right h-8 w-8 px-2 -ml-8 cursor-pointer"),attr(_,"aria-label","Remove"),attr(_,"tabindex",h=t[7]?0:-1)},m(E,O){insert(E,e,O),insert(E,o,O),insert(E,u,O),append(u,d),insert(E,g,O),insert(E,_,O),mount_component(m,_,null),b=!0,y||(S=[listen(e,"mousedown",t[23]),listen(e,"touchstart",t[23]),listen(e,"keydown",t[24]),listen(_,"click",T),listen(_,"keydown",w)],y=!0)},p(E,O){t=E,(!b||O[0]&16&&!src_url_equal(e.src,r=t[55].subscription.thumbnailUrl))&&attr(e,"src",r),(!b||O[0]&128&&i!==(i=t[7]?0:-1))&&attr(e,"tabindex",i),(!b||O[0]&128&&a!==(a=t[7]?"cursor: grab":"cursor: grabbing"))&&attr(e,"style",a),(!b||O[0]&16)&&c!==(c=t[55].subscription.title+"")&&set_data(d,c),(!b||O[0]&16&&f!==(f=t[55].subscription.title))&&attr(u,"title",f),(!b||O[0]&128&&h!==(h=t[7]?0:-1))&&attr(_,"tabindex",h)},i(E){b||(transition_in(m.$$.fragment,E),b=!0)},o(E){transition_out(m.$$.fragment,E),b=!1},d(E){E&&detach(e),E&&detach(o),E&&detach(u),E&&detach(g),E&&detach(_),destroy_component(m),y=!1,run_all(S)}}}function create_default_slot_3(t){let e,r,i,a;return e=new Fa$1({props:{icon:faCircle,color:"rgb(82 82 82)"}}),i=new Fa$1({props:{icon:faUsers,scale:.5}}),{c(){create_component(e.$$.fragment),r=space(),create_component(i.$$.fragment)},m(o,u){mount_component(e,o,u),insert(o,r,u),mount_component(i,o,u),a=!0},p:noop,i(o){a||(transition_in(e.$$.fragment,o),transition_in(i.$$.fragment,o),a=!0)},o(o){transition_out(e.$$.fragment,o),transition_out(i.$$.fragment,o),a=!1},d(o){destroy_component(e,o),o&&detach(r),destroy_component(i,o)}}}function create_if_block_2(t){let e,r=[],i=new Map_1,a,o,u,c,d,f=t[55].subscriptions;const g=b=>b[58].id;for(let b=0;b<f.length;b+=1){let y=get_each_context_1(t,f,b),S=g(y);i.set(S,r[b]=create_each_block_1(S,y))}let _=null;f.length||(_=create_else_block$1());function m(...b){return t[39](t[55],...b)}function h(...b){return t[40](t[55],...b)}return{c(){e=element("div");for(let b=0;b<r.length;b+=1)r[b].c();_&&_.c(),attr(e,"class","w-full bg-neutral-500 mt-1 py-0.5 rounded-2xl"),attr(e,"aria-label",a=t[55].name+" subscriptions")},m(b,y){insert(b,e,y);for(let S=0;S<r.length;S+=1)r[S].m(e,null);_&&_.m(e,null),u=!0,c||(d=[action_destroyer(o=dndzone.call(null,e,{items:t[55].subscriptions,dropFromOthersDisabled:t[6]&&t[21](t[55]),dragDisabled:t[7],flipDurationMs})),listen(e,"consider",m),listen(e,"finalize",h)],c=!0)},p(b,y){if(t=b,y[0]&29360272){f=t[55].subscriptions,group_outros();for(let S=0;S<r.length;S+=1)r[S].r();r=update_keyed_each(r,y,g,1,t,f,i,e,fix_and_outro_and_destroy_block,create_each_block_1,null,get_each_context_1);for(let S=0;S<r.length;S+=1)r[S].a();check_outros(),!f.length&&_?_.p(t,y):f.length?_&&(_.d(1),_=null):(_=create_else_block$1(),_.c(),_.m(e,null))}(!u||y[0]&16&&a!==(a=t[55].name+" subscriptions"))&&attr(e,"aria-label",a),o&&is_function(o.update)&&y[0]&208&&o.update.call(null,{items:t[55].subscriptions,dropFromOthersDisabled:t[6]&&t[21](t[55]),dragDisabled:t[7],flipDurationMs})},i(b){if(!u){for(let y=0;y<f.length;y+=1)transition_in(r[y]);u=!0}},o(b){for(let y=0;y<r.length;y+=1)transition_out(r[y]);u=!1},d(b){b&&detach(e);for(let y=0;y<r.length;y+=1)r[y].d();_&&_.d(),c=!1,run_all(d)}}}function create_else_block$1(t){let e;return{c(){e=element("div"),e.innerHTML=`<p class="w-full pt-1 text-center text-neutral-300">Drop subscriptions to add</p> 
                          `,attr(e,"class","w-[calc(100%-0.5rem)] h-8 m-1.5")},m(r,i){insert(r,e,i)},p:noop,d(r){r&&detach(e)}}}function create_each_block_1(t,e){let r,i,a,o,u,c,d,f=e[58].subscription.title+"",g,_,m,h,b,y,S,T,w,E=noop,O,N,v;b=new Fa$1({props:{icon:faTimesCircle,translateY:.5}});function D(){return e[37](e[55],e[58])}function I(...A){return e[38](e[55],e[58],...A)}return{key:t,first:null,c(){r=element("div"),i=element("img"),c=space(),d=element("span"),g=text(f),m=space(),h=element("span"),create_component(b.$$.fragment),S=space(),attr(i,"class","inline-block h-8 w-8 rounded-2xl align-top"),src_url_equal(i.src,a=e[58].subscription.thumbnailUrl)||attr(i,"src",a),attr(i,"alt",""),attr(i,"loading","lazy"),attr(i,"width","88"),attr(i,"height","88"),attr(i,"tabindex",o=e[7]?0:-1),attr(i,"aria-label","drag-handle"),attr(i,"style",u=e[7]?"cursor: grab":"cursor: grabbing"),attr(d,"class","inline-block w-[calc(100%-4rem)] h-8 pt-1 align-top truncate"),attr(d,"title",_=e[58].subscription.title),attr(h,"class","inline-block float-right h-8 w-8 px-2 -ml-8 cursor-pointer"),attr(h,"aria-label","Remove"),attr(h,"tabindex",y=e[7]?0:-1),attr(r,"class","w-[calc(100%-0.5rem)] bg-neutral-700 m-1 p-0.5 rounded-2xl"),attr(r,"aria-label",T=e[58].name),this.first=r},m(A,R){insert(A,r,R),append(r,i),append(r,c),append(r,d),append(d,g),append(r,m),append(r,h),mount_component(b,h,null),append(r,S),O=!0,N||(v=[listen(i,"mousedown",e[23]),listen(i,"touchstart",e[23]),listen(i,"keydown",e[24]),listen(h,"click",D),listen(h,"keydown",I)],N=!0)},p(A,R){e=A,(!O||R[0]&16&&!src_url_equal(i.src,a=e[58].subscription.thumbnailUrl))&&attr(i,"src",a),(!O||R[0]&128&&o!==(o=e[7]?0:-1))&&attr(i,"tabindex",o),(!O||R[0]&128&&u!==(u=e[7]?"cursor: grab":"cursor: grabbing"))&&attr(i,"style",u),(!O||R[0]&16)&&f!==(f=e[58].subscription.title+"")&&set_data(g,f),(!O||R[0]&16&&_!==(_=e[58].subscription.title))&&attr(d,"title",_),(!O||R[0]&128&&y!==(y=e[7]?0:-1))&&attr(h,"tabindex",y),(!O||R[0]&16&&T!==(T=e[58].name))&&attr(r,"aria-label",T)},r(){w=r.getBoundingClientRect()},f(){fix_position(r),E()},a(){E(),E=create_animation(r,w,flip,{duration:flipDurationMs})},i(A){O||(transition_in(b.$$.fragment,A),O=!0)},o(A){transition_out(b.$$.fragment,A),O=!1},d(A){A&&detach(r),destroy_component(b),N=!1,run_all(v)}}}function create_each_block(t,e){let r,i,a,o,u,c,d,f,g=noop,_;const m=[create_if_block$1,create_if_block_1],h=[];function b(y,S){return S[0]&16&&(i=null),S[0]&16&&(a=null),i==null&&(i=!!isSubscription(y[55])),i?0:(a==null&&(a=!!isGroup(y[55])),a?1:-1)}return~(o=b(e,[-1,-1,-1]))&&(u=h[o]=m[o](e)),{key:t,first:null,c(){r=element("div"),u&&u.c(),c=space(),attr(r,"class","w-[calc(100%-0.5rem)] bg-neutral-700 m-1 p-0.5 rounded-2xl"),attr(r,"aria-label",d=e[55].name),this.first=r},m(y,S){insert(y,r,S),~o&&h[o].m(r,null),append(r,c),_=!0},p(y,S){e=y;let T=o;o=b(e,S),o===T?~o&&h[o].p(e,S):(u&&(group_outros(),transition_out(h[T],1,1,()=>{h[T]=null}),check_outros()),~o?(u=h[o],u?u.p(e,S):(u=h[o]=m[o](e),u.c()),transition_in(u,1),u.m(r,c)):u=null),(!_||S[0]&16&&d!==(d=e[55].name))&&attr(r,"aria-label",d)},r(){f=r.getBoundingClientRect()},f(){fix_position(r),g()},a(){g(),g=create_animation(r,f,flip,{duration:flipDurationMs})},i(y){_||(transition_in(u),_=!0)},o(y){transition_out(u),_=!1},d(y){y&&detach(r),~o&&h[o].d()}}}function create_default_slot_2(t){let e;return{c(){e=text("Close")},m(r,i){insert(r,e,i)},d(r){r&&detach(e)}}}function create_default_slot_1(t){let e;return{c(){e=text("Add group")},m(r,i){insert(r,e,i)},d(r){r&&detach(e)}}}function create_default_slot$1(t){let e;return{c(){e=text("Save")},m(r,i){insert(r,e,i)},d(r){r&&detach(e)}}}function create_fragment$1(t){let e,r,i,a,o,u,c,d,f,g,_,m,h,b=[],y=new Map_1,S,T,w,E,O,N,v,D,I=[],A=new Map_1,R,C,F,k,$,P,B,Y,z,X,W,K,Q,j,ee,ae;o=new Center({props:{$$slots:{default:[create_default_slot_6]},$$scope:{ctx:t}}}),g=new Center({props:{$$slots:{default:[create_default_slot_5]},$$scope:{ctx:t}}});let te=t[3];const oe=M=>M[55].id;for(let M=0;M<te.length;M+=1){let x=get_each_context_2(t,te,M),V=oe(x);y.set(V,b[M]=create_each_block_2(V,x))}O=new Center({props:{$$slots:{default:[create_default_slot_4]},$$scope:{ctx:t}}});let J=t[4];const le=M=>M[55].id;for(let M=0;M<J.length;M+=1){let x=get_each_context(t,J,M),V=le(x);A.set(V,I[M]=create_each_block(V,x))}let q=null;return J.length||(q=create_else_block_1()),k=new PrimaryButton({props:{class:"w-20 m-1 float-left",tabindex:t[7]?0:-1,$$slots:{default:[create_default_slot_2]},$$scope:{ctx:t}}}),k.$on("click",t[9]),z=new PrimaryButton({props:{class:"w-24 rounded-l-none",tabindex:t[7]?0:-1,$$slots:{default:[create_default_slot_1]},$$scope:{ctx:t}}}),z.$on("click",t[11]),W=new PrimaryButton({props:{class:"w-20 m-1 float-right",tabindex:t[7]?0:-1,$$slots:{default:[create_default_slot$1]},$$scope:{ctx:t}}}),W.$on("click",t[12]),{c(){e=element("div"),r=element("div"),i=element("div"),a=element("div"),create_component(o.$$.fragment),u=space(),c=element("div"),d=element("div"),f=element("div"),create_component(g.$$.fragment),_=space(),m=element("div"),h=element("div");for(let M=0;M<b.length;M+=1)b[M].c();T=space(),w=element("div"),E=element("div"),create_component(O.$$.fragment),N=space(),v=element("div"),D=element("div");for(let M=0;M<I.length;M+=1)I[M].c();q&&q.c(),C=space(),F=element("div"),create_component(k.$$.fragment),$=space(),P=element("div"),B=element("input"),create_component(z.$$.fragment),X=space(),create_component(W.$$.fragment),attr(a,"class","w-full h-24"),attr(f,"class","w-full h-6"),attr(h,"class","w-[calc(100%-4px)] h-max min-h-[calc(100%-0.5rem)] mx-[2px] rounded-xl"),attr(h,"aria-label","Subscriptions"),attr(m,"class","w-full h-[calc(100%-2rem)] overflow-y-auto y-scroll mb-2"),attr(d,"class","inline-block w-[calc(50%-0.65rem)] min-w-[9.5rem] h-[calc(100%-0.5rem)] m-1 bg-neutral-800 rounded-xl"),attr(E,"class","w-full h-6"),attr(D,"class","w-[calc(100%-4px)] h-max min-h-[calc(100%-0.5rem)] mx-[2px] rounded-xl"),attr(D,"aria-label","Deck"),attr(v,"class","w-full h-[calc(100%-2rem)] overflow-y-auto y-scroll mb-2"),attr(w,"class","inline-block w-[calc(50%-0.65rem)] min-w-[9.5rem] h-[calc(100%-0.5rem)] m-1 bg-neutral-800 rounded-xl"),attr(c,"class","w-full h-[calc(100%-9rem)]"),attr(B,"type","text"),attr(B,"class","w-[calc(100%-6rem)] bg-neutral-800 p-1.5 rounded-l-2xl"),attr(B,"tabindex",Y=t[7]?0:-1),attr(P,"class","inline-block w-[calc(100%-11.5rem)] m-1"),attr(F,"class","w-full h-12"),attr(i,"class","min-w-[20.5rem] w-full h-full"),attr(r,"class","absolute inset-y-0 left-1/2 -translate-x-1/2 w-full max-w-[40rem] bg-neutral-700 rounded-2xl overflow-x-auto x-scroll"),attr(e,"class","fixed inset-0 z-10 bg-black/80")},m(M,x){insert(M,e,x),append(e,r),append(r,i),append(i,a),mount_component(o,a,null),append(i,u),append(i,c),append(c,d),append(d,f),mount_component(g,f,null),append(d,_),append(d,m),append(m,h);for(let V=0;V<b.length;V+=1)b[V].m(h,null);append(c,T),append(c,w),append(w,E),mount_component(O,E,null),append(w,N),append(w,v),append(v,D);for(let V=0;V<I.length;V+=1)I[V].m(D,null);q&&q.m(D,null),t[41](v),append(i,C),append(i,F),mount_component(k,F,null),append(F,$),append(F,P),append(P,B),set_input_value(B,t[5]),mount_component(z,P,null),append(F,X),mount_component(W,F,null),j=!0,ee||(ae=[action_destroyer(S=dndzone.call(null,h,{items:t[3],dropFromOthersDisabled:!0,dragDisabled:t[7],flipDurationMs})),listen(h,"consider",t[13]),listen(h,"finalize",t[14]),action_destroyer(R=dndzone.call(null,D,{items:t[4],dropFromOthersDisabled:t[6]&&t[17](),dragDisabled:t[7],flipDurationMs})),listen(D,"consider",t[15]),listen(D,"finalize",t[16]),listen(v,"scroll",t[25]),listen(B,"input",t[42]),action_destroyer(K=fade.call(null,e,{visible:t[1],initial:!1})),action_destroyer(Q=trapFocus.call(null,e,t[1]))],ee=!0)},p(M,x){const V={};x[0]&133|x[2]&2&&(V.$$scope={dirty:x,ctx:M}),o.$set(V);const ue={};if(x[2]&2&&(ue.$$scope={dirty:x,ctx:M}),g.$set(ue),x[0]&25165960){te=M[3];for(let H=0;H<b.length;H+=1)b[H].r();b=update_keyed_each(b,x,oe,1,M,te,y,h,fix_and_destroy_block,create_each_block_2,null,get_each_context_2);for(let H=0;H<b.length;H+=1)b[H].a()}S&&is_function(S.update)&&x[0]&136&&S.update.call(null,{items:M[3],dropFromOthersDisabled:!0,dragDisabled:M[7],flipDurationMs});const ce={};if(x[2]&2&&(ce.$$scope={dirty:x,ctx:M}),O.$set(ce),x[0]&33292496){J=M[4],group_outros();for(let H=0;H<I.length;H+=1)I[H].r();I=update_keyed_each(I,x,le,1,M,J,A,D,fix_and_outro_and_destroy_block,create_each_block,null,get_each_context);for(let H=0;H<I.length;H+=1)I[H].a();check_outros(),!J.length&&q?q.p(M,x):J.length?q&&(q.d(1),q=null):(q=create_else_block_1(),q.c(),q.m(D,null))}R&&is_function(R.update)&&x[0]&208&&R.update.call(null,{items:M[4],dropFromOthersDisabled:M[6]&&M[17](),dragDisabled:M[7],flipDurationMs});const re={};x[0]&128&&(re.tabindex=M[7]?0:-1),x[2]&2&&(re.$$scope={dirty:x,ctx:M}),k.$set(re),(!j||x[0]&128&&Y!==(Y=M[7]?0:-1))&&attr(B,"tabindex",Y),x[0]&32&&B.value!==M[5]&&set_input_value(B,M[5]);const ie={};x[0]&128&&(ie.tabindex=M[7]?0:-1),x[2]&2&&(ie.$$scope={dirty:x,ctx:M}),z.$set(ie);const se={};x[0]&128&&(se.tabindex=M[7]?0:-1),x[2]&2&&(se.$$scope={dirty:x,ctx:M}),W.$set(se),K&&is_function(K.update)&&x[0]&2&&K.update.call(null,{visible:M[1],initial:!1}),Q&&is_function(Q.update)&&x[0]&2&&Q.update.call(null,M[1])},i(M){if(!j){transition_in(o.$$.fragment,M),transition_in(g.$$.fragment,M),transition_in(O.$$.fragment,M);for(let x=0;x<J.length;x+=1)transition_in(I[x]);transition_in(k.$$.fragment,M),transition_in(z.$$.fragment,M),transition_in(W.$$.fragment,M),j=!0}},o(M){transition_out(o.$$.fragment,M),transition_out(g.$$.fragment,M),transition_out(O.$$.fragment,M);for(let x=0;x<I.length;x+=1)transition_out(I[x]);transition_out(k.$$.fragment,M),transition_out(z.$$.fragment,M),transition_out(W.$$.fragment,M),j=!1},d(M){M&&detach(e),destroy_component(o),destroy_component(g);for(let x=0;x<b.length;x+=1)b[x].d();destroy_component(O);for(let x=0;x<I.length;x+=1)I[x].d();q&&q.d(),t[41](null),destroy_component(k),destroy_component(z),destroy_component(W),ee=!1,run_all(ae)}}}const flipDurationMs=300,scrollOffset=32,duration=100;function keyClick(t){return t.key==="Enter"||t.key===" "}function instance$1(t,e,r){let i,a,o;component_subscribe(t,editorVisible,L=>r(1,i=L)),component_subscribe(t,settingsStore,L=>r(48,a=L)),component_subscribe(t,subscriptionsStore,L=>r(49,o=L));function u(){set_store_value(editorVisible,i=!1,i)}let c=0,d=[],f=!0,g=[],_=[],m="",h="";function b(){if(f){const L=new Set(_.flatMap(U=>isGroup(U)?U.subscriptions.map(G=>G.subscription.channelId):[U.subscription.channelId]));r(3,g=d.filter(U=>!L.has(U.subscription.channelId)))}else r(3,g=d);r(0,m=m.trim()),m.length>0&&r(3,g=g.filter(L=>L.name.toLowerCase().includes(m.toLowerCase())))}function y(){h!==""&&(_.push({id:c++,name:h,expanded:!0,subscriptions:[]}),r(5,h=""),r(4,_))}function S(){const L=o.items,U=a.subscriptionGroups;c=0,d=L.map(Z=>({id:c++,name:Z.title,subscription:Z}));const G=new Map(L.map(Z=>[Z.channelId,Z]));r(4,_=U.map(Z=>{const ne=Z.subscriptionIds.map(de=>G.get(de));return ne.length===1&&Z.name===ne[0].title?{id:c++,name:Z.name,subscription:ne[0]}:{id:c++,name:Z.name,expanded:Z.expanded,subscriptions:ne.map(de=>({id:c++,name:de.title,subscription:de}))}})),b()}async function T(L){const U=L.target;U.disabled=!0;const G=a;G.subscriptionGroups=_.map(Z=>({name:Z.name,expanded:isGroup(Z)&&Z.expanded,subscriptionIds:isGroup(Z)?Z.subscriptions.map(ne=>ne.subscription.channelId):[Z.subscription.channelId]})),set_store_value(settingsStore,a=G,a),await writeSettings(G),set_store_value(editorVisible,i=!1,i),U.disabled=!1}let w,E=!0;function O(L){if(L.detail.info.source===SOURCES.POINTER&&L.detail.info.trigger===TRIGGERS.DRAG_STARTED){const U=d.findIndex(G=>G.id==L.detail.info.id);r(6,w=d[U]),d[U]={...w,id:c++},b(),K()}else L.detail.info.source===SOURCES.KEYBOARD&&L.detail.info.trigger===TRIGGERS.DRAG_STOPPED&&r(7,E=!0),r(3,g)}function N(L){L.detail.info.source===SOURCES.POINTER&&r(7,E=!0),r(3,g)}function v(L){L.detail.info.trigger===TRIGGERS.DRAG_STARTED?(r(6,w=_.find(U=>U.id==L.detail.info.id)),K()):L.detail.info.source===SOURCES.KEYBOARD&&L.detail.info.trigger===TRIGGERS.DRAG_STOPPED&&r(7,E=!0),r(4,_=L.detail.items)}function D(L){L.detail.info.source===SOURCES.POINTER&&r(7,E=!0),r(4,_=L.detail.items),b()}function I(){if(isSubscription(w)){const L=w.subscription.channelId;return _.some(U=>!U[SHADOW_ITEM_MARKER_PROPERTY_NAME]&&isSubscription(U)&&U.subscription.channelId===L)}else return!1}function A(L){r(4,_=_.filter(U=>U.id!==L.id)),b()}function R(L,U){U.detail.info.trigger===TRIGGERS.DRAG_STARTED?(r(6,w=L.subscriptions.find(G=>G.id==U.detail.info.id)),K()):U.detail.info.source===SOURCES.KEYBOARD&&U.detail.info.trigger===TRIGGERS.DRAG_STOPPED&&r(7,E=!0),L.subscriptions=U.detail.items,r(4,_)}function C(L,U){U.detail.info.source===SOURCES.POINTER&&r(7,E=!0),L.subscriptions=U.detail.items,r(4,_),b()}function F(L){if(isSubscription(w)){const U=w.subscription.channelId;return L.subscriptions.some(G=>!G[SHADOW_ITEM_MARKER_PROPERTY_NAME]&&G.subscription.channelId===U)}else return!0}function k(L,U){L.subscriptions=L.subscriptions.filter(G=>G.id!==U.id),r(4,_),b()}function $(L){L.preventDefault(),r(7,E=!1)}function P(L){keyClick(L)&&E&&r(7,E=!1)}let B,Y;const z=tweened(0,{duration:2*duration});let X,W;onDestroy(z.subscribe(L=>B&&r(8,B.scrollTop=L,B)));function K(){X||(Y=B.getBoundingClientRect(),X=setInterval(Q,duration))}function Q(){const L=document.getElementById("dnd-action-dragged-el");if(L){const U=parseFloat(L.style.top.slice(0,-2))+parseFloat(L.style.transform.split(", ")[1].slice(0,-2)),G=U+parseFloat(L.style.height.slice(0,-2));G+scrollOffset>=Y.bottom?z.update(Z=>j(Z+G+scrollOffset-Y.bottom)):U-scrollOffset<=Y.top&&z.update(Z=>j(Z+U-scrollOffset-Y.top))}else clearInterval(X),X=null}function j(L){return Math.max(0,Math.min(L,B.scrollHeight-B.clientHeight))}function ee(){clearTimeout(W),W=setTimeout(()=>{z.set(B.scrollTop,{duration:0})},duration)}function ae(){m=this.value,r(0,m)}const te=()=>r(0,m=""),oe=L=>keyClick(L)&&r(0,m="");function J(){f=this.checked,r(2,f)}const le=L=>A(L),q=(L,U)=>keyClick(U)&&A(L);function M(L,U){L[U].name=this.value,r(4,_)}const x=(L,U,G)=>r(4,U[G].expanded=!L.expanded,_),V=(L,U,G,Z)=>keyClick(Z)&&r(4,U[G].expanded=!L.expanded,_),ue=L=>A(L),ce=(L,U)=>keyClick(U)&&A(L),re=(L,U)=>k(L,U),ie=(L,U,G)=>keyClick(G)&&k(L,U),se=(L,U)=>R(L,U),H=(L,U)=>C(L,U);function fe(L){binding_callbacks[L?"unshift":"push"](()=>{B=L,r(8,B)})}function me(){h=this.value,r(5,h)}return t.$$.update=()=>{t.$$.dirty[0]&2&&i&&S(),t.$$.dirty[0]&1&&m&&b()},[m,i,f,g,_,h,w,E,B,u,b,y,T,O,N,v,D,I,A,R,C,F,k,$,P,ee,ae,te,oe,J,le,q,M,x,V,ue,ce,re,ie,se,H,fe,me]}class SubscriptionsEditor extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{},null,[-1,-1,-1])}}function create_catch_block(t){let e,r=errorString(t[5])+"",i;return{c(){e=element("p"),i=text(r),attr(e,"class","text-center")},m(a,o){insert(a,e,o),append(e,i)},p:noop,i:noop,o:noop,d(a){a&&detach(e)}}}function create_then_block(t){let e,r,i,a;const o=[create_if_block,create_else_block],u=[];function c(d,f){return d[1]?0:1}return e=c(t),r=u[e]=o[e](t),{c(){r.c(),i=empty()},m(d,f){u[e].m(d,f),insert(d,i,f),a=!0},p(d,f){let g=e;e=c(d),e===g?u[e].p(d,f):(group_outros(),transition_out(u[g],1,1,()=>{u[g]=null}),check_outros(),r=u[e],r?r.p(d,f):(r=u[e]=o[e](d),r.c()),transition_in(r,1),r.m(i.parentNode,i))},i(d){a||(transition_in(r),a=!0)},o(d){transition_out(r),a=!1},d(d){u[e].d(d),d&&detach(i)}}}function create_else_block(t){let e,r;return e=new LoginScreen({props:{isSignedIn:t[0]}}),{c(){create_component(e.$$.fragment)},m(i,a){mount_component(e,i,a),r=!0},p(i,a){const o={};a&1&&(o.isSignedIn=i[0]),e.$set(o)},i(i){r||(transition_in(e.$$.fragment,i),r=!0)},o(i){transition_out(e.$$.fragment,i),r=!1},d(i){destroy_component(e,i)}}}function create_if_block(t){let e,r,i,a,o,u;return e=new SubscriptionsDeck({}),i=new Player({}),o=new SubscriptionsEditor({}),{c(){create_component(e.$$.fragment),r=space(),create_component(i.$$.fragment),a=space(),create_component(o.$$.fragment)},m(c,d){mount_component(e,c,d),insert(c,r,d),mount_component(i,c,d),insert(c,a,d),mount_component(o,c,d),u=!0},p:noop,i(c){u||(transition_in(e.$$.fragment,c),transition_in(i.$$.fragment,c),transition_in(o.$$.fragment,c),u=!0)},o(c){transition_out(e.$$.fragment,c),transition_out(i.$$.fragment,c),transition_out(o.$$.fragment,c),u=!1},d(c){destroy_component(e,c),c&&detach(r),destroy_component(i,c),c&&detach(a),destroy_component(o,c)}}}function create_pending_block(t){let e,r;return e=new Center({props:{$$slots:{default:[create_default_slot]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},m(i,a){mount_component(e,i,a),r=!0},p(i,a){const o={};a&64&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){r||(transition_in(e.$$.fragment,i),r=!0)},o(i){transition_out(e.$$.fragment,i),r=!1},d(i){destroy_component(e,i)}}}function create_default_slot(t){let e,r;return e=new Spinner({}),{c(){create_component(e.$$.fragment)},m(i,a){mount_component(e,i,a),r=!0},i(i){r||(transition_in(e.$$.fragment,i),r=!0)},o(i){transition_out(e.$$.fragment,i),r=!1},d(i){destroy_component(e,i)}}}function create_fragment(t){let e,r,i,a,o,u;i=new Header({props:{isSignedIn:t[0],isAuthorized:t[1]}});let c={ctx:t,current:null,token:null,hasCatch:!0,pending:create_pending_block,then:create_then_block,catch:create_catch_block,value:4,error:5,blocks:[,,,]};return handle_promise(t[2](),c),{c(){e=element("main"),r=element("div"),create_component(i.$$.fragment),a=space(),o=element("section"),c.block.c(),attr(o,"class","w-full h-[calc(100%-3rem)]"),attr(r,"class","w-full h-full min-w-[22rem]"),attr(e,"class","w-full h-full overflow-x-auto x-scroll bg-neutral-700 text-white")},m(d,f){insert(d,e,f),append(e,r),mount_component(i,r,null),append(r,a),append(r,o),c.block.m(o,c.anchor=null),c.mount=()=>o,c.anchor=null,u=!0},p(d,[f]){t=d;const g={};f&1&&(g.isSignedIn=t[0]),f&2&&(g.isAuthorized=t[1]),i.$set(g),update_await_block_branch(c,t,f)},i(d){u||(transition_in(i.$$.fragment,d),transition_in(c.block),u=!0)},o(d){transition_out(i.$$.fragment,d);for(let f=0;f<3;f+=1){const g=c.blocks[f];transition_out(g)}u=!1},d(d){d&&detach(e),destroy_component(i),c.block.d(),c.token=null,c=null}}}const scope="https://www.googleapis.com/auth/youtube.readonly https://www.googleapis.com/auth/drive.appdata";function instance(t,e,r){let i,a;function o(){return new Promise((c,d)=>{gapi.load("client:auth2",()=>u().then(()=>c()).catch(f=>d(f)))})}async function u(){await gapi.client.init({apiKey:"AIzaSyBAHcJ9fPTrCjDExl1NZkF4fZd15fICEFI",clientId:"789354109817-qrqoqtfj1k3gvs01gufrpqlv38g0bi9p.apps.googleusercontent.com",scope});const c=gapi.auth2.getAuthInstance();r(0,i=c.isSignedIn.get()),c.isSignedIn.listen(d=>r(0,i=d)),r(1,a=c.currentUser.get().hasGrantedScopes(scope)),c.currentUser.listen(d=>r(1,a=d.hasGrantedScopes(scope)))}return[i,a,o]}class App extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,not_equal,{})}}const index="";new App({target:document.getElementById("app")});
