var ye=Object.defineProperty,we=Object.defineProperties;var ve=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var me=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var pe=(t,e,n)=>e in t?ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,H=(t,e)=>{for(var n in e||(e={}))me.call(e,n)&&pe(t,n,e[n]);if(fe)for(var n of fe(e))_e.call(e,n)&&pe(t,n,e[n]);return t},de=(t,e)=>we(t,ve(e));var ge=(t,e)=>{var n={};for(var r in t)me.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&fe)for(var r of fe(t))e.indexOf(r)<0&&_e.call(t,r)&&(n[r]=t[r]);return n};const p=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}};p();function noop(){}const identity=t=>t;function assign(t,e){for(const n in e)t[n]=e[n];return t}function is_promise(t){return t&&typeof t=="object"&&typeof t.then=="function"}function run(t){return t()}function blank_object(){return Object.create(null)}function run_all(t){t.forEach(run)}function is_function(t){return typeof t=="function"}function safe_not_equal(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let src_url_equal_anchor;function src_url_equal(t,e){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=e,t===src_url_equal_anchor.href}function not_equal(t,e){return t!=t?e==e:t!==e}function is_empty(t){return Object.keys(t).length===0}function subscribe(t,...e){if(t==null)return noop;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function component_subscribe(t,e,n){t.$$.on_destroy.push(subscribe(e,n))}function create_slot(t,e,n,r){if(t){const o=get_slot_context(t,e,n,r);return t[0](o)}}function get_slot_context(t,e,n,r){return t[1]&&r?assign(n.ctx.slice(),t[1](r(e))):n.ctx}function get_slot_changes(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const i=[],a=Math.max(e.dirty.length,o.length);for(let s=0;s<a;s+=1)i[s]=e.dirty[s]|o[s];return i}return e.dirty|o}return e.dirty}function update_slot_base(t,e,n,r,o,i){if(o){const a=get_slot_context(e,n,r,i);t.p(a,o)}}function get_all_dirty_from_scope(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function set_store_value(t,e,n){return t.set(n),e}function action_destroyer(t){return t&&is_function(t.destroy)?t.destroy:noop}const is_client=typeof window!="undefined";let now=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?t=>requestAnimationFrame(t):noop;const tasks=new Set;function run_tasks(t){tasks.forEach(e=>{e.c(t)||(tasks.delete(e),e.f())}),tasks.size!==0&&raf(run_tasks)}function loop$1(t){let e;return tasks.size===0&&raf(run_tasks),{promise:new Promise(n=>{tasks.add(e={c:t,f:n})}),abort(){tasks.delete(e)}}}function append(t,e){t.appendChild(e)}function get_root_for_style(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function append_empty_stylesheet(t){const e=element("style");return append_stylesheet(get_root_for_style(t),e),e.sheet}function append_stylesheet(t,e){append(t.head||t,e)}function insert(t,e,n){t.insertBefore(e,n||null)}function detach(t){t.parentNode.removeChild(t)}function destroy_each(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function element(t){return document.createElement(t)}function svg_element(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function text(t){return document.createTextNode(t)}function space(){return text(" ")}function empty(){return text("")}function listen(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function prevent_default(t){return function(e){return e.preventDefault(),t.call(this,e)}}function stop_propagation(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function self(t){return function(e){e.target===this&&t.call(this,e)}}function attr(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function children(t){return Array.from(t.childNodes)}function set_data(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function set_input_value(t,e){t.value=e==null?"":e}function toggle_class(t,e,n){t.classList[n?"add":"remove"](e)}function custom_event(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}const managed_styles=new Map;let active=0;function hash(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function create_style_information(t,e){const n={stylesheet:append_empty_stylesheet(e),rules:{}};return managed_styles.set(t,n),n}function create_rule(t,e,n,r,o,i,a,s=0){const l=16.666/r;let u=`{
`;for(let w=0;w<=1;w+=l){const g=e+(n-e)*i(w);u+=w*100+`%{${a(g,1-g)}}
`}const d=u+`100% {${a(n,1-n)}}
}`,c=`__svelte_${hash(d)}_${s}`,f=get_root_for_style(t),{stylesheet:m,rules:_}=managed_styles.get(f)||create_style_information(f,t);_[c]||(_[c]=!0,m.insertRule(`@keyframes ${c} ${d}`,m.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${c} ${r}ms linear ${o}ms 1 both`,active+=1,c}function delete_rule(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),o=n.length-r.length;o&&(t.style.animation=r.join(", "),active-=o,active||clear_rules())}function clear_rules(){raf(()=>{active||(managed_styles.forEach(t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}}),managed_styles.clear())})}function create_animation(t,e,n,r){if(!e)return noop;const o=t.getBoundingClientRect();if(e.left===o.left&&e.right===o.right&&e.top===o.top&&e.bottom===o.bottom)return noop;const{delay:i=0,duration:a=300,easing:s=identity,start:l=now()+i,end:u=l+a,tick:d=noop,css:c}=n(t,{from:e,to:o},r);let f=!0,m=!1,_;function h(){c&&(_=create_rule(t,0,1,a,i,s,c)),i||(m=!0)}function w(){c&&delete_rule(t,_),f=!1}return loop$1(g=>{if(!m&&g>=l&&(m=!0),m&&g>=u&&(d(1,0),w()),!f)return!1;if(m){const E=g-l,b=0+1*s(E/a);d(b,1-b)}return!0}),h(),d(0,1),w}function fix_position(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:r}=e,o=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,add_transform(t,o)}}function add_transform(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const r=getComputedStyle(t),o=r.transform==="none"?"":r.transform;t.style.transform=`${o} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let current_component;function set_current_component(t){current_component=t}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onDestroy(t){get_current_component().$$.on_destroy.push(t)}function bubble(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(t){render_callbacks.push(t)}const seen_callbacks=new Set;let flushidx=0;function flush(){const t=current_component;do{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const n=render_callbacks[e];seen_callbacks.has(n)||(seen_callbacks.add(n),n())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(t)}function update(t){if(t.fragment!==null){t.update(),run_all(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(add_render_callback)}}let promise;function wait(){return promise||(promise=Promise.resolve(),promise.then(()=>{promise=null})),promise}function dispatch(t,e,n){t.dispatchEvent(custom_event(`${e?"intro":"outro"}${n}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(t,e){t&&t.i&&(outroing.delete(t),t.i(e))}function transition_out(t,e,n,r){if(t&&t.o){if(outroing.has(t))return;outroing.add(t),outros.c.push(()=>{outroing.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const null_transition={duration:0};function create_in_transition(t,e,n){let r=e(t,n),o=!1,i,a,s=0;function l(){i&&delete_rule(t,i)}function u(){const{delay:c=0,duration:f=300,easing:m=identity,tick:_=noop,css:h}=r||null_transition;h&&(i=create_rule(t,0,1,f,c,m,h,s++)),_(0,1);const w=now()+c,g=w+f;a&&a.abort(),o=!0,add_render_callback(()=>dispatch(t,!0,"start")),a=loop$1(E=>{if(o){if(E>=g)return _(1,0),dispatch(t,!0,"end"),l(),o=!1;if(E>=w){const b=m((E-w)/f);_(b,1-b)}}return o})}let d=!1;return{start(){d||(d=!0,delete_rule(t),is_function(r)?(r=r(),wait().then(u)):u())},invalidate(){d=!1},end(){o&&(l(),o=!1)}}}function handle_promise(t,e){const n=e.token={};function r(o,i,a,s){if(e.token!==n)return;e.resolved=s;let l=e.ctx;a!==void 0&&(l=l.slice(),l[a]=s);const u=o&&(e.current=o)(l);let d=!1;e.block&&(e.blocks?e.blocks.forEach((c,f)=>{f!==i&&c&&(group_outros(),transition_out(c,1,1,()=>{e.blocks[f]===c&&(e.blocks[f]=null)}),check_outros())}):e.block.d(1),u.c(),transition_in(u,1),u.m(e.mount(),e.anchor),d=!0),e.block=u,e.blocks&&(e.blocks[i]=u),d&&flush()}if(is_promise(t)){const o=get_current_component();if(t.then(i=>{set_current_component(o),r(e.then,1,e.value,i),set_current_component(null)},i=>{if(set_current_component(o),r(e.catch,2,e.error,i),set_current_component(null),!e.hasCatch)throw i}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function update_await_block_branch(t,e,n){const r=e.slice(),{resolved:o}=t;t.current===t.then&&(r[t.value]=o),t.current===t.catch&&(r[t.error]=o),t.block.p(r,n)}const globals=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function destroy_block(t,e){t.d(1),e.delete(t.key)}function outro_and_destroy_block(t,e){transition_out(t,1,1,()=>{e.delete(t.key)})}function fix_and_destroy_block(t,e){t.f(),destroy_block(t,e)}function fix_and_outro_and_destroy_block(t,e){t.f(),outro_and_destroy_block(t,e)}function update_keyed_each(t,e,n,r,o,i,a,s,l,u,d,c){let f=t.length,m=i.length,_=f;const h={};for(;_--;)h[t[_].key]=_;const w=[],g=new Map,E=new Map;for(_=m;_--;){const v=c(o,i,_),I=n(v);let y=a.get(I);y?r&&y.p(v,e):(y=u(I,v),y.c()),g.set(I,w[_]=y),I in h&&E.set(I,Math.abs(_-h[I]))}const b=new Set,T=new Set;function A(v){transition_in(v,1),v.m(s,d),a.set(v.key,v),d=v.first,m--}for(;f&&m;){const v=w[m-1],I=t[f-1],y=v.key,S=I.key;v===I?(d=v.first,f--,m--):g.has(S)?!a.has(y)||b.has(y)?A(v):T.has(S)?f--:E.get(y)>E.get(S)?(T.add(y),A(v)):(b.add(S),f--):(l(I,a),f--)}for(;f--;){const v=t[f];g.has(v.key)||l(v,a)}for(;m;)A(w[m-1]);return w}function create_component(t){t&&t.c()}function mount_component(t,e,n,r){const{fragment:o,on_mount:i,on_destroy:a,after_update:s}=t.$$;o&&o.m(e,n),r||add_render_callback(()=>{const l=i.map(run).filter(is_function);a?a.push(...l):run_all(l),t.$$.on_mount=[]}),s.forEach(add_render_callback)}function destroy_component(t,e){const n=t.$$;n.fragment!==null&&(run_all(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(t,e){t.$$.dirty[0]===-1&&(dirty_components.push(t),schedule_update(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function init(t,e,n,r,o,i,a,s=[-1]){const l=current_component;set_current_component(t);const u=t.$$={fragment:null,ctx:null,props:i,update:noop,not_equal:o,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:blank_object(),dirty:s,skip_bound:!1,root:e.target||l.$$.root};a&&a(u.root);let d=!1;if(u.ctx=n?n(t,e.props||{},(c,f,...m)=>{const _=m.length?m[0]:f;return u.ctx&&o(u.ctx[c],u.ctx[c]=_)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](_),d&&make_dirty(t,c)),f}):[],u.update(),d=!0,run_all(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const c=children(e.target);u.fragment&&u.fragment.l(c),c.forEach(detach)}else u.fragment&&u.fragment.c();e.intro&&transition_in(t.$$.fragment),mount_component(t,e.target,e.anchor,e.customElement),flush()}set_current_component(l)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var Spinner_svelte_svelte_type_style_lang=(()=>`.loader.svelte-gg29y1{width:48px;height:48px;border-radius:50%;display:inline-block;position:relative;border:3px solid;border-color:#FFF #FFF transparent transparent;box-sizing:border-box;-webkit-animation:svelte-gg29y1-rotation 1s linear infinite;animation:svelte-gg29y1-rotation 1s linear infinite}.loader.svelte-gg29y1:after,.loader.svelte-gg29y1:before{content:"";position:absolute;left:0;right:0;top:0;bottom:0;margin:auto;border:3px solid;border-color:transparent transparent #FF3D00 #FF3D00;width:40px;height:40px;border-radius:50%;box-sizing:border-box;-webkit-animation:svelte-gg29y1-rotationBack .5s linear infinite;animation:svelte-gg29y1-rotationBack .5s linear infinite;transform-origin:center center}.loader.svelte-gg29y1:before{width:32px;height:32px;border-color:#FFF #FFF transparent transparent;-webkit-animation:svelte-gg29y1-rotation 1.5s linear infinite;animation:svelte-gg29y1-rotation 1.5s linear infinite}@-webkit-keyframes svelte-gg29y1-rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes svelte-gg29y1-rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@-webkit-keyframes svelte-gg29y1-rotationBack{0%{transform:rotate(0)}to{transform:rotate(-360deg)}}@keyframes svelte-gg29y1-rotationBack{0%{transform:rotate(0)}to{transform:rotate(-360deg)}}
`)();function create_fragment$d(t){let e;return{c(){e=element("div"),e.innerHTML=`<span class="loader svelte-gg29y1"></span> 
  <br/> 
  <span class="font-extrabold">Loading\u2026</span>`,attr(e,"class","text-center")},m(n,r){insert(n,e,r)},p:noop,i:noop,o:noop,d(n){n&&detach(e)}}}class Spinner extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$d,safe_not_equal,{})}}const get_after_slot_changes=t=>({}),get_after_slot_context=t=>({}),get_before_slot_changes=t=>({}),get_before_slot_context=t=>({});function create_fragment$c(t){let e,n,r,o,i;const a=t[1].before,s=create_slot(a,t,t[0],get_before_slot_context),l=t[1].default,u=create_slot(l,t,t[0],null),d=t[1].after,c=create_slot(d,t,t[0],get_after_slot_context);return{c(){e=element("div"),s&&s.c(),n=space(),r=element("div"),u&&u.c(),o=space(),c&&c.c(),attr(r,"class","absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 text-center"),attr(e,"class","relative w-full h-full")},m(f,m){insert(f,e,m),s&&s.m(e,null),append(e,n),append(e,r),u&&u.m(r,null),append(e,o),c&&c.m(e,null),i=!0},p(f,[m]){s&&s.p&&(!i||m&1)&&update_slot_base(s,a,f,f[0],i?get_slot_changes(a,f[0],m,get_before_slot_changes):get_all_dirty_from_scope(f[0]),get_before_slot_context),u&&u.p&&(!i||m&1)&&update_slot_base(u,l,f,f[0],i?get_slot_changes(l,f[0],m,null):get_all_dirty_from_scope(f[0]),null),c&&c.p&&(!i||m&1)&&update_slot_base(c,d,f,f[0],i?get_slot_changes(d,f[0],m,get_after_slot_changes):get_all_dirty_from_scope(f[0]),get_after_slot_context)},i(f){i||(transition_in(s,f),transition_in(u,f),transition_in(c,f),i=!0)},o(f){transition_out(s,f),transition_out(u,f),transition_out(c,f),i=!1},d(f){f&&detach(e),s&&s.d(f),u&&u.d(f),c&&c.d(f)}}}function instance$c(t,e,n){let{$$slots:r={},$$scope:o}=e;return t.$$set=i=>{"$$scope"in i&&n(0,o=i.$$scope)},[o,r]}class Center extends SvelteComponent{constructor(e){super(),init(this,e,instance$c,create_fragment$c,safe_not_equal,{})}}function create_fragment$b(t){let e,n,r,o,i;const a=t[3].default,s=create_slot(a,t,t[2],null);return{c(){e=element("button"),s&&s.c(),attr(e,"class",n="bg-blue-600 text-white p-1.5 rounded-2xl hover:enabled:bg-blue-700 disabled:opacity-60 "+t[0]),attr(e,"tabindex",t[1])},m(l,u){insert(l,e,u),s&&s.m(e,null),r=!0,o||(i=listen(e,"click",t[4]),o=!0)},p(l,[u]){s&&s.p&&(!r||u&4)&&update_slot_base(s,a,l,l[2],r?get_slot_changes(a,l[2],u,null):get_all_dirty_from_scope(l[2]),null),(!r||u&1&&n!==(n="bg-blue-600 text-white p-1.5 rounded-2xl hover:enabled:bg-blue-700 disabled:opacity-60 "+l[0]))&&attr(e,"class",n),(!r||u&2)&&attr(e,"tabindex",l[1])},i(l){r||(transition_in(s,l),r=!0)},o(l){transition_out(s,l),r=!1},d(l){l&&detach(e),s&&s.d(l),o=!1,i()}}}function instance$b(t,e,n){let{$$slots:r={},$$scope:o}=e,{class:i=""}=e,{tabindex:a=0}=e;function s(l){bubble.call(this,t,l)}return t.$$set=l=>{"class"in l&&n(0,i=l.class),"tabindex"in l&&n(1,a=l.tabindex),"$$scope"in l&&n(2,o=l.$$scope)},[i,a,o,r,s]}class PrimaryButton extends SvelteComponent{constructor(e){super(),init(this,e,instance$b,create_fragment$b,safe_not_equal,{class:0,tabindex:1})}}function create_default_slot_1$4(t){let e=t[0]?"Authorize":"Sign in",n;return{c(){n=text(e)},m(r,o){insert(r,n,o)},p(r,o){o&1&&e!==(e=r[0]?"Authorize":"Sign in")&&set_data(n,e)},d(r){r&&detach(n)}}}function create_default_slot$5(t){let e,n,r=t[0]?"authorize this app":"sign in",o,i,a,s,l,u,d;return u=new PrimaryButton({props:{class:"w-full",$$slots:{default:[create_default_slot_1$4]},$$scope:{ctx:t}}}),u.$on("click",signIn),{c(){e=element("p"),n=text("Please "),o=text(r),i=text(" to continue"),a=space(),s=element("br"),l=space(),create_component(u.$$.fragment)},m(c,f){insert(c,e,f),append(e,n),append(e,o),append(e,i),insert(c,a,f),insert(c,s,f),insert(c,l,f),mount_component(u,c,f),d=!0},p(c,f){(!d||f&1)&&r!==(r=c[0]?"authorize this app":"sign in")&&set_data(o,r);const m={};f&3&&(m.$$scope={dirty:f,ctx:c}),u.$set(m)},i(c){d||(transition_in(u.$$.fragment,c),d=!0)},o(c){transition_out(u.$$.fragment,c),d=!1},d(c){c&&detach(e),c&&detach(a),c&&detach(s),c&&detach(l),destroy_component(u,c)}}}function create_fragment$a(t){let e,n;return e=new Center({props:{$$slots:{default:[create_default_slot$5]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},m(r,o){mount_component(e,r,o),n=!0},p(r,[o]){const i={};o&3&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){n||(transition_in(e.$$.fragment,r),n=!0)},o(r){transition_out(e.$$.fragment,r),n=!1},d(r){destroy_component(e,r)}}}function signIn(){return gapi.auth2.getAuthInstance().signIn()}function instance$a(t,e,n){let{isSignedIn:r}=e;return t.$$set=o=>{"isSignedIn"in o&&n(0,r=o.isSignedIn)},[r]}class LoginScreen extends SvelteComponent{constructor(e){super(),init(this,e,instance$a,create_fragment$a,safe_not_equal,{isSignedIn:0})}}const subscriber_queue=[];function writable(t,e=noop){let n;const r=new Set;function o(s){if(safe_not_equal(t,s)&&(t=s,n)){const l=!subscriber_queue.length;for(const u of r)u[1](),subscriber_queue.push(u,t);if(l){for(let u=0;u<subscriber_queue.length;u+=2)subscriber_queue[u][0](subscriber_queue[u+1]);subscriber_queue.length=0}}}function i(s){o(s(t))}function a(s,l=noop){const u=[s,l];return r.add(u),r.size===1&&(n=e(o)||noop),s(t),()=>{r.delete(u),r.size===0&&(n(),n=null)}}return{set:o,update:i,subscribe:a}}function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var browserCookies={};(function(t){t.defaults={},t.set=function(e,n,r){var o=r||{},i=t.defaults,a=o.expires||i.expires,s=o.domain||i.domain,l=o.path!==void 0?o.path:i.path!==void 0?i.path:"/",u=o.secure!==void 0?o.secure:i.secure,d=o.httponly!==void 0?o.httponly:i.httponly,c=o.samesite!==void 0?o.samesite:i.samesite,f=a?new Date(typeof a=="number"?new Date().getTime()+a*864e5:a):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+n.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(f&&f.getTime()>=0?";expires="+f.toUTCString():"")+(s?";domain="+s:"")+(l?";path="+l:"")+(u?";secure":"")+(d?";httponly":"")+(c?";samesite="+c:"")},t.get=function(e){for(var n=document.cookie.split(";");n.length;){var r=n.pop(),o=r.indexOf("=");o=o<0?r.length:o;var i=decodeURIComponent(r.slice(0,o).replace(/^\s+/,""));if(i===e)return decodeURIComponent(r.slice(o+1))}return null},t.erase=function(e,n){t.set(e,"",{expires:-1,domain:n&&n.domain,path:n&&n.path,secure:0,httponly:0})},t.all=function(){for(var e={},n=document.cookie.split(";");n.length;){var r=n.pop(),o=r.indexOf("=");o=o<0?r.length:o;var i=decodeURIComponent(r.slice(0,o).replace(/^\s+/,""));e[i]=decodeURIComponent(r.slice(o+1))}return e}})(browserCookies);var bundle={};(function(exports){(function(t,e){for(var n in e)t[n]=e[n];e.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})})(exports,(()=>{var __webpack_modules__={607:(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var serializer_1=__webpack_require__(810),deserializer_1=__webpack_require__(496),Module;typeof process!="undefined"&&process.release.name==="node"&&(Module=eval("require")("module"));var ESSerializer=function(){function t(){}return t.throwErrorIfInNonNodeEnvironment=function(){if(!Module)throw new Error("Cannot intercept require in non-Node environment.")},t.interceptRequire=function(){this.isRequireIntercepted||(this.isRequireIntercepted=!0,this.throwErrorIfInNonNodeEnvironment(),t.originRequire=Module.prototype.require,Module.prototype.require=function(){var e=t.originRequire.apply(this,arguments),n=e.name;return t.requiredClasses[n]||(t.requiredClasses[n]=e),e})},t.stopInterceptRequire=function(){this.throwErrorIfInNonNodeEnvironment(),Module.prototype.require=t.originRequire,this.isRequireIntercepted=!1},t.isInterceptingRequire=function(){return this.isRequireIntercepted},t.getRequiredClasses=function(){return this.requiredClasses},t.clearRequiredClasses=function(){this.requiredClasses={}},t.registerClass=function(e){this.registeredClasses.push(e)},t.registerClasses=function(e){this.registeredClasses=this.registeredClasses.concat(e)},t.clearRegisteredClasses=function(){this.registeredClasses=[]},t.serialize=function(e,n){return n===void 0&&(n={}),JSON.stringify(serializer_1.getSerializeValueWithClassName(e,n))},t.deserialize=function(e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),deserializer_1.deserializeFromParsedObj(JSON.parse(e),Object.values(this.requiredClasses).concat(this.registeredClasses).concat(n),r)},t.originRequire=null,t.isRequireIntercepted=!1,t.requiredClasses={},t.registeredClasses=[],t}();module.exports=ESSerializer},917:function(t,e){var n=this&&this.__spreadArrays||function(){for(var j=0,x=0,K=arguments.length;x<K;x++)j+=arguments[x].length;var Z=Array(j),W=0;for(x=0;x<K;x++)for(var J=arguments[x],V=0,Q=J.length;V<Q;V++,W++)Z[W]=J[V];return Z};Object.defineProperty(e,"__esModule",{value:!0}),e.TO_STRING_FIELD=e.TIMESTAMP_FIELD=e.OPTIONS_FIELD=e.CLASS_NAME_FIELD=e.BOOLEAN_FIELD=e.ARRAY_FIELD=e.BUILTIN_TYPE_UNDEFINED=e.BUILTIN_TYPE_NOT_FINITE=e.BUILTIN_TYPE_BIG_INT=e.BUILTIN_CLASS_AGGREGATE_ERROR=e.BUILTIN_CLASS_URI_ERROR=e.BUILTIN_CLASS_TYPE_ERROR=e.BUILTIN_CLASS_SYNTAX_ERROR=e.BUILTIN_CLASS_REFERENCE_ERROR=e.BUILTIN_CLASS_RANGE_ERROR=e.BUILTIN_CLASS_EVAL_ERROR=e.BUILTIN_CLASS_ERROR=e.BUILTIN_CLASS_STRING=e.BUILTIN_CLASS_SET=e.BUILTIN_CLASS_REGEXP=e.BUILTIN_CLASS_INTL_RELATIVETIMEFORMAT=e.BUILTIN_CLASS_INTL_PLURALRULES=e.BUILTIN_CLASS_INTL_NUMBERFORMAT=e.BUILTIN_CLASS_INTL_LOCALE=e.BUILTIN_CLASS_INTL_LISTFORMAT=e.BUILTIN_CLASS_INTL_DATETIMEFORMAT=e.BUILTIN_CLASS_INTL_COLLATOR=e.BUILTIN_CLASS_DATE=e.BUILTIN_CLASS_DATAVIEW=e.BUILTIN_CLASS_BOOLEAN=e.BUILTIN_CLASS_SHAREDARRAYBUFFER=e.BUILTIN_CLASS_ARRAYBUFFER=e.BUILTIN_CLASS_BIGUINT64ARRAY=e.BUILTIN_CLASS_BIGINT64ARRAY=e.BUILTIN_CLASS_FLOAT64ARRAY=e.BUILTIN_CLASS_FLOAT32ARRAY=e.BUILTIN_CLASS_UINT32ARRAY=e.BUILTIN_CLASS_INT32ARRAY=e.BUILTIN_CLASS_UINT16ARRAY=e.BUILTIN_CLASS_INT16ARRAY=e.BUILTIN_CLASS_UINT8CLAMPEDARRAY=e.BUILTIN_CLASS_UINT8ARRAY=e.BUILTIN_CLASS_INT8ARRAY=e.CLASSNAMES_WHOSE_ENUMERABLE_PROPERTIES_SHOULD_BE_IGNORED=e.ALL_BUILTIN_INTLS=e.ALL_BUILTIN_ERRORS=e.ALL_BUILTIN_ARRAYS=e.ESSERIALIZER_NULL=void 0,e.ESSERIALIZER_NULL="__ESSERIALIZER_NULL__",e.ARRAY_FIELD="ess_arr",e.BOOLEAN_FIELD="ess_bool",e.CLASS_NAME_FIELD="ess_cn",e.OPTIONS_FIELD="ess_opt",e.TIMESTAMP_FIELD="ess_ts",e.TO_STRING_FIELD="ess_str";var r="Int8Array";e.BUILTIN_CLASS_INT8ARRAY=r;var o="Uint8Array";e.BUILTIN_CLASS_UINT8ARRAY=o;var i="Uint8ClampedArray";e.BUILTIN_CLASS_UINT8CLAMPEDARRAY=i;var a="Int16Array";e.BUILTIN_CLASS_INT16ARRAY=a;var s="Uint16Array";e.BUILTIN_CLASS_UINT16ARRAY=s;var l="Int32Array";e.BUILTIN_CLASS_INT32ARRAY=l;var u="Uint32Array";e.BUILTIN_CLASS_UINT32ARRAY=u;var d="Float32Array";e.BUILTIN_CLASS_FLOAT32ARRAY=d;var c="Float64Array";e.BUILTIN_CLASS_FLOAT64ARRAY=c;var f="BigInt64Array";e.BUILTIN_CLASS_BIGINT64ARRAY=f;var m="BigUint64Array";e.BUILTIN_CLASS_BIGUINT64ARRAY=m,e.BUILTIN_CLASS_ARRAYBUFFER="ArrayBuffer",e.BUILTIN_CLASS_SHAREDARRAYBUFFER="SharedArrayBuffer",e.BUILTIN_CLASS_BOOLEAN="Boolean",e.BUILTIN_CLASS_DATAVIEW="DataView",e.BUILTIN_CLASS_DATE="Date";var _="Collator";e.BUILTIN_CLASS_INTL_COLLATOR=_;var h="DateTimeFormat";e.BUILTIN_CLASS_INTL_DATETIMEFORMAT=h;var w="ListFormat";e.BUILTIN_CLASS_INTL_LISTFORMAT=w,e.BUILTIN_CLASS_INTL_LOCALE="Locale";var g="NumberFormat";e.BUILTIN_CLASS_INTL_NUMBERFORMAT=g;var E="PluralRules";e.BUILTIN_CLASS_INTL_PLURALRULES=E;var b="RelativeTimeFormat";e.BUILTIN_CLASS_INTL_RELATIVETIMEFORMAT=b,e.BUILTIN_CLASS_REGEXP="RegExp",e.BUILTIN_CLASS_SET="Set";var T="String";e.BUILTIN_CLASS_STRING=T;var A="Error";e.BUILTIN_CLASS_ERROR=A;var v="EvalError";e.BUILTIN_CLASS_EVAL_ERROR=v;var I="RangeError";e.BUILTIN_CLASS_RANGE_ERROR=I;var y="ReferenceError";e.BUILTIN_CLASS_REFERENCE_ERROR=y;var S="SyntaxError";e.BUILTIN_CLASS_SYNTAX_ERROR=S;var D="TypeError";e.BUILTIN_CLASS_TYPE_ERROR=D;var L="URIError";e.BUILTIN_CLASS_URI_ERROR=L;var k="AggregateError";e.BUILTIN_CLASS_AGGREGATE_ERROR=k,e.BUILTIN_TYPE_BIG_INT="BI",e.BUILTIN_TYPE_NOT_FINITE="NF",e.BUILTIN_TYPE_UNDEFINED="UD";var N=[r,o,i,a,s,l,u,d,c,f,m];e.ALL_BUILTIN_ARRAYS=N;var P=[A,v,I,y,S,D,L,k];e.ALL_BUILTIN_ERRORS=P;var z=[_,h,w,g,E,b];e.ALL_BUILTIN_INTLS=z;var M=n([T],N);e.CLASSNAMES_WHOSE_ENUMERABLE_PROPERTIES_SHOULD_BE_IGNORED=M},496:function(t,e,n){var r=this&&this.__spreadArrays||function(){for(var g=0,E=0,b=arguments.length;E<b;E++)g+=arguments[E].length;var T=Array(g),A=0;for(E=0;E<b;E++)for(var v=arguments[E],I=0,y=v.length;I<y;I++,A++)T[A]=v[I];return T};Object.defineProperty(e,"__esModule",{value:!0}),e.getParentClassName=e.getClassMappingFromClassArray=e.deserializeFromParsedObjWithClassMapping=e.deserializeFromParsedObj=void 0;var o=n(821),i=n(917),a=/^\s*class\s+/;function s(g,E,b){if(b===void 0&&(b={}),o.notObject(g))return g;if(Array.isArray(g))return l(g,E);var T=g[i.CLASS_NAME_FIELD],A=function(I,y,S){switch(I){case i.BUILTIN_CLASS_INT8ARRAY:return u(y[i.ARRAY_FIELD],Int8Array);case i.BUILTIN_CLASS_UINT8ARRAY:return u(y[i.ARRAY_FIELD],Uint8Array);case i.BUILTIN_CLASS_UINT8CLAMPEDARRAY:return u(y[i.ARRAY_FIELD],Uint8ClampedArray);case i.BUILTIN_CLASS_INT16ARRAY:return u(y[i.ARRAY_FIELD],Int16Array);case i.BUILTIN_CLASS_UINT16ARRAY:return u(y[i.ARRAY_FIELD],Uint16Array);case i.BUILTIN_CLASS_INT32ARRAY:return u(y[i.ARRAY_FIELD],Int32Array);case i.BUILTIN_CLASS_UINT32ARRAY:return u(y[i.ARRAY_FIELD],Uint32Array);case i.BUILTIN_CLASS_FLOAT32ARRAY:return u(y[i.ARRAY_FIELD],Float32Array);case i.BUILTIN_CLASS_FLOAT64ARRAY:return u(y[i.ARRAY_FIELD],Float64Array);case i.BUILTIN_CLASS_BIGINT64ARRAY:return d(y[i.ARRAY_FIELD],BigInt64Array);case i.BUILTIN_CLASS_BIGUINT64ARRAY:return d(y[i.ARRAY_FIELD],BigUint64Array);case i.BUILTIN_TYPE_BIG_INT:return c(y[i.TO_STRING_FIELD]);case i.BUILTIN_TYPE_UNDEFINED:return;case i.BUILTIN_TYPE_NOT_FINITE:return o.getValueFromToStringResult(y[i.TO_STRING_FIELD]);case i.BUILTIN_CLASS_ARRAYBUFFER:return D=y[i.ARRAY_FIELD],new Uint8Array(D).buffer;case i.BUILTIN_CLASS_SHAREDARRAYBUFFER:return function(L){var k=new SharedArrayBuffer(L.length),N=new Uint8Array(k);return L.forEach(function(P,z){N[z]=P}),k}(y[i.ARRAY_FIELD]);case i.BUILTIN_CLASS_BOOLEAN:return function(L){return new Boolean(L[i.BOOLEAN_FIELD])}(y);case i.BUILTIN_CLASS_DATAVIEW:return function(L){return new DataView(new Uint8Array(L).buffer)}(y[i.ARRAY_FIELD]);case i.BUILTIN_CLASS_DATE:return function(L){return typeof L[i.TIMESTAMP_FIELD]=="number"?new Date(L[i.TIMESTAMP_FIELD]):null}(y);case i.BUILTIN_CLASS_INTL_COLLATOR:return f(y,Intl.Collator);case i.BUILTIN_CLASS_INTL_DATETIMEFORMAT:return f(y,Intl.DateTimeFormat);case i.BUILTIN_CLASS_INTL_LISTFORMAT:return f(y,Intl.ListFormat);case i.BUILTIN_CLASS_INTL_LOCALE:return new Intl.Locale(y[i.TO_STRING_FIELD]);case i.BUILTIN_CLASS_INTL_NUMBERFORMAT:return f(y,Intl.NumberFormat);case i.BUILTIN_CLASS_INTL_PLURALRULES:return f(y,Intl.PluralRules);case i.BUILTIN_CLASS_INTL_RELATIVETIMEFORMAT:return f(y,Intl.RelativeTimeFormat);case i.BUILTIN_CLASS_REGEXP:return function(L){var k=L[i.TO_STRING_FIELD],N=k.lastIndexOf("/");return new RegExp(k.substring(1,N),k.substring(N+1))}(y);case i.BUILTIN_CLASS_SET:return function(L,k){return new Set(l(L[i.ARRAY_FIELD],k))}(y,S);case i.BUILTIN_CLASS_STRING:return function(L){return new String(L[i.TO_STRING_FIELD])}(y);case i.BUILTIN_CLASS_ERROR:return m(y,Error);case i.BUILTIN_CLASS_EVAL_ERROR:return m(y,EvalError);case i.BUILTIN_CLASS_RANGE_ERROR:return m(y,RangeError);case i.BUILTIN_CLASS_REFERENCE_ERROR:return m(y,ReferenceError);case i.BUILTIN_CLASS_SYNTAX_ERROR:return m(y,SyntaxError);case i.BUILTIN_CLASS_TYPE_ERROR:return m(y,TypeError);case i.BUILTIN_CLASS_URI_ERROR:return m(y,URIError);case i.BUILTIN_CLASS_AGGREGATE_ERROR:return m(y,AggregateError);default:return i.ESSERIALIZER_NULL}var D}(T,g,E);if(A!==i.ESSERIALIZER_NULL)return A;if(T&&!E[T])throw new Error("Class "+T+" not found");var v=[];return b.fieldsForConstructorParameters&&(v=b.fieldsForConstructorParameters.map(function(I){return I in g?g[I]:{}})),function(I,y,S,D){for(var L in y){var k=y[L];if(!D.ignoreProperties||!D.ignoreProperties.includes(L))if(D.rawProperties&&D.rawProperties.includes(L))I[L]=JSON.stringify(k);else{var N=Object.getOwnPropertyDescriptor(I,L);P=k,z=N,L===i.CLASS_NAME_FIELD||z&&(typeof z.set=="function"||z.writable===!1&&typeof P!="object")||(N&&N.writable===!1&&typeof k=="object"?h(I[L],k,S):I[L]=s(k,S))}}var P,z;return I}(function(I,y){var S={};if(!I)return S;var D=I.length-y.length;if(D>0&&(y=y.concat(Array.from(Array(D),function(){return{}}))),a.test(I.toString()))try{S=new(I.bind.apply(I,r([void 0],y)))}catch{_(I.name),S={},Object.setPrototypeOf(S,I?I.prototype:Object.prototype)}else{S=Object.create(I.prototype.constructor.prototype);try{I.prototype.constructor.call(S,y)}catch{_(I.name)}}return S}(E[T],v),g,E,b)}function l(g,E){return g.map(function(b){return s(b,E)})}function u(g,E){return new E(g)}function d(g,E){return new E(g.map(function(b){return c(b[i.TO_STRING_FIELD])}))}function c(g){return BigInt(g)}function f(g,E){var b=g[i.OPTIONS_FIELD],T=b.locale;return delete b.locale,new E(T,b)}function m(g,E){var b;return delete(b=g.message?new E(g.message):new E).stack,g.name&&(b.name=g.name),g.stack&&(b.stack=g.stack),E===AggregateError&&(b.errors=s(g.errors,{})),b}function _(g){console.warn("Incorrect parameter type passed to constructor: "+g)}function h(g,E,b){for(var T in E){var A=Object.getOwnPropertyDescriptor(g,T);A&&A.writable!==!0&&typeof A.set!="function"||(g[T]=s(E[T],b))}}function w(g){g===void 0&&(g=[]);var E={};return g.forEach(function(b){if(o.isClass(b)){var T=b.name,A=E[T];A&&A!==b&&console.warn("WARNING: Found class definition with the same name: "+T),E[T]=b}}),E}e.deserializeFromParsedObj=function(g,E,b){return s(g,w(E),b)},e.deserializeFromParsedObjWithClassMapping=s,e.getClassMappingFromClassArray=w,e.getParentClassName=function(g){return g.prototype.__proto__.constructor.name}},821:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isClass=e.notObject=e.getValueFromToStringResult=void 0,e.notObject=function(n){return n===null||typeof n!="object"},e.getValueFromToStringResult=function(n){switch(n){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN;default:return null}},e.isClass=function(n){if(function(r){return[Date].indexOf(r)>=0}(n))return!0;try{Reflect.construct(String,[],n)}catch{return!1}return!0}},810:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getSerializeValueWithClassName=void 0;var r=n(917),o=n(821);function i(s,l){l===void 0&&(l={});var u=function(m){var _,h,w;return m===void 0?((_={})[r.CLASS_NAME_FIELD]=r.BUILTIN_TYPE_UNDEFINED,_):typeof m!="number"||isFinite(m)?typeof m=="bigint"?((w={})[r.CLASS_NAME_FIELD]=r.BUILTIN_TYPE_BIG_INT,w[r.TO_STRING_FIELD]=m.toString(),w):o.notObject(m)?m:r.ESSERIALIZER_NULL:((h={})[r.CLASS_NAME_FIELD]=r.BUILTIN_TYPE_NOT_FINITE,h[r.TO_STRING_FIELD]=m.toString(),h)}(s);if(u!==r.ESSERIALIZER_NULL)return u;if(Array.isArray(s))return a(s);var d={};if(!function(m){var _=m.__proto__.constructor.name;return r.CLASSNAMES_WHOSE_ENUMERABLE_PROPERTIES_SHOULD_BE_IGNORED.includes(_)}(s)){if(l.ignoreProperties&&l.ignoreProperties.forEach(function(m){delete s[m]}),l.interceptProperties)for(var c in l.interceptProperties)s[c]=l.interceptProperties[c].call(s,s[c]);for(var f in s)d[f]=i(s[f])}return function(m,_){var h=m.__proto__.constructor.name;return h!=="Object"&&(_[r.CLASS_NAME_FIELD]=h,h===r.BUILTIN_CLASS_ARRAYBUFFER||h===r.BUILTIN_CLASS_SHAREDARRAYBUFFER?_[r.ARRAY_FIELD]=a(Array.from(new Uint8Array(m))):h===r.BUILTIN_CLASS_BOOLEAN?_[r.BOOLEAN_FIELD]=m.valueOf():h===r.BUILTIN_CLASS_DATAVIEW?_[r.ARRAY_FIELD]=a(Array.from(new Uint8Array(m.buffer))):h===r.BUILTIN_CLASS_DATE?_[r.TIMESTAMP_FIELD]=m.getTime():h===r.BUILTIN_CLASS_INTL_LOCALE||h===r.BUILTIN_CLASS_REGEXP?_[r.TO_STRING_FIELD]=m.toString():h===r.BUILTIN_CLASS_SET?_[r.ARRAY_FIELD]=a(Array.from(m)):h===r.BUILTIN_CLASS_STRING?_[r.TO_STRING_FIELD]=m.toString():r.ALL_BUILTIN_ARRAYS.includes(h)?_[r.ARRAY_FIELD]=a(Array.from(m)):r.ALL_BUILTIN_ERRORS.includes(h)?function(w,g,E){w.name!=="Error"&&(g.name=w.name),w.message&&(g.message=w.message),w.stack&&(g.stack=w.stack),E===r.BUILTIN_CLASS_AGGREGATE_ERROR&&(g.errors=i(w.errors))}(m,_,h):r.ALL_BUILTIN_INTLS.includes(h)&&(_[r.OPTIONS_FIELD]=m.resolvedOptions())),_}(s,d)}function a(s){return s.map(function(l){return i(l)})}e.getSerializeValueWithClassName=i}},__webpack_module_cache__={};function __webpack_require__(t){if(__webpack_module_cache__[t])return __webpack_module_cache__[t].exports;var e=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(e.exports,e,e.exports,__webpack_require__),e.exports}return __webpack_require__(607)})())})(bundle);var ESSerializer=getDefaultExportFromCjs(bundle);function idbReady(){if(!(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent))||!indexedDB.databases)return Promise.resolve();let e;return new Promise(n=>{const r=()=>indexedDB.databases().finally(n);e=setInterval(r,100),r()}).finally(()=>clearInterval(e))}function promisifyRequest(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function createStore(t,e){const n=idbReady().then(()=>{const r=indexedDB.open(t);return r.onupgradeneeded=()=>r.result.createObjectStore(e),promisifyRequest(r)});return(r,o)=>n.then(i=>o(i.transaction(e,r).objectStore(e)))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore("keyval-store","keyval")),defaultGetStoreFunc}function get(t,e=defaultGetStore()){return e("readonly",n=>promisifyRequest(n.get(t)))}function set(t,e,n=defaultGetStore()){return n("readwrite",r=>(r.put(e,t),promisifyRequest(r.transaction)))}function del(t,e=defaultGetStore()){return e("readwrite",n=>(n.delete(t),promisifyRequest(n.transaction)))}const alreadyWarnFor=[],warnStorageNotFound=t=>{var e;const n=typeof process!="undefined"&&((e=process.env)===null||e===void 0?void 0:e.NODE_ENV)==="production";if(alreadyWarnFor.indexOf(t)===-1&&!n){let r=`Unable to find the ${t}. No data will be persisted.`;typeof window=="undefined"&&(r+=`
Are you running on a server? Most of storages are not available while running on a server.`),console.warn(r),alreadyWarnFor.push(t)}},allowedClasses=[],serialize=t=>ESSerializer.serialize(t),deserialize=t=>{if(t!=="undefined"){if(t!=null){try{return ESSerializer.deserialize(t,allowedClasses)}catch{}try{return JSON.parse(t)}catch{}}return t}};function persist(t,e,n){const r=e.getValue(n);return r!==null&&t.set(r),e.addListener&&e.addListener(n,o=>{t.set(o)}),t.subscribe(o=>{e.setValue(n,o)}),Object.assign(Object.assign({},t),{delete(){e.deleteValue(n)}})}function indexedDBStorage(){if(typeof indexedDB!="object"||typeof window=="undefined"||typeof(window==null?void 0:window.indexedDB)!="object")return warnStorageNotFound("IndexedDB"),noopSelfUpdateStorage();const t=createStore("svelte-persist","persist"),e=[],n=(r,o)=>{o!==void 0&&e.filter(({key:i})=>i===r).forEach(({listener:i})=>i(o))};return{addListener(r,o){e.push({key:r,listener:o})},removeListener(r,o){const i=e.indexOf({key:r,listener:o});i!==-1&&e.splice(i,1)},getValue(r){return get(r,t).then(o=>n(r,deserialize(o))),null},setValue(r,o){set(r,serialize(o),t)},deleteValue(r){del(r,t)}}}function noopSelfUpdateStorage(){return{addListener(){},removeListener(){},getValue(){return null},deleteValue(){},setValue(){}}}const subscriptionsStore=persist(writable(),indexedDBStorage(),"subscriptions"),settingsStore=writable(),editorVisible=writable(!1),playerStore=writable();function create_default_slot_2$3(t){let e;return{c(){e=element("a"),e.textContent="YouTube Video Deck",attr(e,"class","font-extrabold"),attr(e,"href","#")},m(n,r){insert(n,e,r)},p:noop,d(n){n&&detach(e)}}}function create_if_block_1$3(t){let e,n;return e=new PrimaryButton({props:{class:"w-20 m-1",$$slots:{default:[create_default_slot_1$3]},$$scope:{ctx:t}}}),e.$on("click",t[4]),{c(){create_component(e.$$.fragment)},m(r,o){mount_component(e,r,o),n=!0},p(r,o){const i={};o&64&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){n||(transition_in(e.$$.fragment,r),n=!0)},o(r){transition_out(e.$$.fragment,r),n=!1},d(r){destroy_component(e,r)}}}function create_default_slot_1$3(t){let e;return{c(){e=text("Edit")},m(n,r){insert(n,e,r)},d(n){n&&detach(e)}}}function create_before_slot(t){let e,n,r=t[1]&&t[2]&&t[3]&&create_if_block_1$3(t);return{c(){e=element("div"),r&&r.c(),attr(e,"slot","before"),attr(e,"class","float-left p-1")},m(o,i){insert(o,e,i),r&&r.m(e,null),n=!0},p(o,i){o[1]&&o[2]&&o[3]?r?(r.p(o,i),i&14&&transition_in(r,1)):(r=create_if_block_1$3(o),r.c(),transition_in(r,1),r.m(e,null)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(o){n||(transition_in(r),n=!0)},o(o){transition_out(r),n=!1},d(o){o&&detach(e),r&&r.d()}}}function create_if_block$5(t){let e,n;return e=new PrimaryButton({props:{class:"w-20 m-1",$$slots:{default:[create_default_slot$4]},$$scope:{ctx:t}}}),e.$on("click",signOut),{c(){create_component(e.$$.fragment)},m(r,o){mount_component(e,r,o),n=!0},p(r,o){const i={};o&64&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){n||(transition_in(e.$$.fragment,r),n=!0)},o(r){transition_out(e.$$.fragment,r),n=!1},d(r){destroy_component(e,r)}}}function create_default_slot$4(t){let e;return{c(){e=text("Sign out")},m(n,r){insert(n,e,r)},d(n){n&&detach(e)}}}function create_after_slot(t){let e,n,r=t[0]&&create_if_block$5(t);return{c(){e=element("div"),r&&r.c(),attr(e,"slot","after"),attr(e,"class","float-right p-1")},m(o,i){insert(o,e,i),r&&r.m(e,null),n=!0},p(o,i){o[0]?r?(r.p(o,i),i&1&&transition_in(r,1)):(r=create_if_block$5(o),r.c(),transition_in(r,1),r.m(e,null)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(o){n||(transition_in(r),n=!0)},o(o){transition_out(r),n=!1},d(o){o&&detach(e),r&&r.d()}}}function create_fragment$9(t){let e,n,r;return n=new Center({props:{$$slots:{after:[create_after_slot],before:[create_before_slot],default:[create_default_slot_2$3]},$$scope:{ctx:t}}}),{c(){e=element("header"),create_component(n.$$.fragment),attr(e,"class","w-full h-12")},m(o,i){insert(o,e,i),mount_component(n,e,null),r=!0},p(o,[i]){const a={};i&79&&(a.$$scope={dirty:i,ctx:o}),n.$set(a)},i(o){r||(transition_in(n.$$.fragment,o),r=!0)},o(o){transition_out(n.$$.fragment,o),r=!1},d(o){o&&detach(e),destroy_component(n)}}}function signOut(){gapi.auth2.getAuthInstance().signOut()}function instance$9(t,e,n){let r,o,i;component_subscribe(t,editorVisible,u=>n(5,r=u)),component_subscribe(t,settingsStore,u=>n(2,o=u)),component_subscribe(t,subscriptionsStore,u=>n(3,i=u));let{isSignedIn:a}=e,{isAuthorized:s}=e;function l(){set_store_value(editorVisible,r=!0,r)}return t.$$set=u=>{"isSignedIn"in u&&n(0,a=u.isSignedIn),"isAuthorized"in u&&n(1,s=u.isAuthorized)},[a,s,o,i,l]}class Header extends SvelteComponent{constructor(e){super(),init(this,e,instance$9,create_fragment$9,safe_not_equal,{isSignedIn:0,isAuthorized:1})}}function Video(t){return{title:t.snippet.title,description:t.snippet.description.substring(0,275),publishedAt:t.snippet.publishedAt,thumbnailUrl:t.snippet.thumbnails.medium.url,videoId:t.snippet.resourceId.videoId}}function Subscription(t,e){return{channelId:t.snippet.resourceId.channelId,title:t.snippet.title,thumbnailUrl:t.snippet.thumbnails.default.url,uploadsPlaylistId:e.contentDetails.relatedPlaylists.uploads,uploads:[]}}function setUploads(t,e){t.uploadsEtag=e.etag,t.nextUploadPageToken=e.nextPageToken,t.uploads=e.items.map(Video)}function addUploads(t,e){t.nextUploadPageToken=e.nextPageToken,e.items.forEach(n=>t.uploads.push(Video(n)))}function Subscriptions(t,e){return{etag:t.etag,items:t.items.flatMap(n=>n.map(r=>{const o=e.get(r.snippet.resourceId.channelId);return Subscription(r,o)}))}}var defaultLocale$1="en",localesData$1={},lowercaseLocaleLookup={};function getDefaultLocale(){return defaultLocale$1}function setDefaultLocale(t){defaultLocale$1=t}function getLocaleData$1(t){return localesData$1[t]}function addLocaleData$1(t){if(!t)throw new Error("No locale data passed");localesData$1[t.locale]=t,lowercaseLocaleLookup[t.locale.toLowerCase()]=t.locale}function resolveLocale$1(t){if(localesData$1[t])return t;if(lowercaseLocaleLookup[t.toLowerCase()])return lowercaseLocaleLookup[t.toLowerCase()]}function resolveLocale(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.localeMatcher||"lookup";switch(n){case"lookup":return resolveLocaleLookup(t);case"best fit":return resolveLocaleLookup(t);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(n))}}function resolveLocaleLookup(t){var e=resolveLocale$1(t);if(e)return e;for(var n=t.split("-");t.length>1;){n.pop(),t=n.join("-");var r=resolveLocale$1(t);if(r)return r}}var $={af:function t(e){return e==1?"one":"other"},am:function t(e){return e>=0&&e<=1?"one":"other"},ar:function t(e){var n=String(e).split("."),r=Number(n[0])==e,o=r&&n[0].slice(-2);return e==0?"zero":e==1?"one":e==2?"two":o>=3&&o<=10?"few":o>=11&&o<=99?"many":"other"},ast:function t(e){var n=String(e).split("."),r=!n[1];return e==1&&r?"one":"other"},be:function t(e){var n=String(e).split("."),r=Number(n[0])==e,o=r&&n[0].slice(-1),i=r&&n[0].slice(-2);return o==1&&i!=11?"one":o>=2&&o<=4&&(i<12||i>14)?"few":r&&o==0||o>=5&&o<=9||i>=11&&i<=14?"many":"other"},br:function t(e){var n=String(e).split("."),r=Number(n[0])==e,o=r&&n[0].slice(-1),i=r&&n[0].slice(-2),a=r&&n[0].slice(-6);return o==1&&i!=11&&i!=71&&i!=91?"one":o==2&&i!=12&&i!=72&&i!=92?"two":(o==3||o==4||o==9)&&(i<10||i>19)&&(i<70||i>79)&&(i<90||i>99)?"few":e!=0&&r&&a==0?"many":"other"},bs:function t(e){var n=String(e).split("."),r=n[0],o=n[1]||"",i=!n[1],a=r.slice(-1),s=r.slice(-2),l=o.slice(-1),u=o.slice(-2);return i&&a==1&&s!=11||l==1&&u!=11?"one":i&&a>=2&&a<=4&&(s<12||s>14)||l>=2&&l<=4&&(u<12||u>14)?"few":"other"},ceb:function t(e){var n=String(e).split("."),r=n[0],o=n[1]||"",i=!n[1],a=r.slice(-1),s=o.slice(-1);return i&&(r==1||r==2||r==3)||i&&a!=4&&a!=6&&a!=9||!i&&s!=4&&s!=6&&s!=9?"one":"other"},cs:function t(e){var n=String(e).split("."),r=n[0],o=!n[1];return e==1&&o?"one":r>=2&&r<=4&&o?"few":o?"other":"many"},cy:function t(e){return e==0?"zero":e==1?"one":e==2?"two":e==3?"few":e==6?"many":"other"},da:function t(e){var n=String(e).split("."),r=n[0],o=Number(n[0])==e;return e==1||!o&&(r==0||r==1)?"one":"other"},dsb:function t(e){var n=String(e).split("."),r=n[0],o=n[1]||"",i=!n[1],a=r.slice(-2),s=o.slice(-2);return i&&a==1||s==1?"one":i&&a==2||s==2?"two":i&&(a==3||a==4)||s==3||s==4?"few":"other"},dz:function t(e){return"other"},es:function t(e){var n=String(e).split("."),r=n[0],o=!n[1],i=r.slice(-6);return e==1?"one":r!=0&&i==0&&o?"many":"other"},ff:function t(e){return e>=0&&e<2?"one":"other"},fr:function t(e){var n=String(e).split("."),r=n[0],o=!n[1],i=r.slice(-6);return e>=0&&e<2?"one":r!=0&&i==0&&o?"many":"other"},ga:function t(e){var n=String(e).split("."),r=Number(n[0])==e;return e==1?"one":e==2?"two":r&&e>=3&&e<=6?"few":r&&e>=7&&e<=10?"many":"other"},gd:function t(e){var n=String(e).split("."),r=Number(n[0])==e;return e==1||e==11?"one":e==2||e==12?"two":r&&e>=3&&e<=10||r&&e>=13&&e<=19?"few":"other"},he:function t(e){var n=String(e).split("."),r=n[0],o=!n[1],i=Number(n[0])==e,a=i&&n[0].slice(-1);return e==1&&o?"one":r==2&&o?"two":o&&(e<0||e>10)&&i&&a==0?"many":"other"},is:function t(e){var n=String(e).split("."),r=n[0],o=Number(n[0])==e,i=r.slice(-1),a=r.slice(-2);return o&&i==1&&a!=11||!o?"one":"other"},it:function t(e){var n=String(e).split("."),r=n[0],o=!n[1],i=r.slice(-6);return e==1&&o?"one":r!=0&&i==0&&o?"many":"other"},ksh:function t(e){return e==0?"zero":e==1?"one":"other"},lt:function t(e){var n=String(e).split("."),r=n[1]||"",o=Number(n[0])==e,i=o&&n[0].slice(-1),a=o&&n[0].slice(-2);return i==1&&(a<11||a>19)?"one":i>=2&&i<=9&&(a<11||a>19)?"few":r!=0?"many":"other"},lv:function t(e){var n=String(e).split("."),r=n[1]||"",o=r.length,i=Number(n[0])==e,a=i&&n[0].slice(-1),s=i&&n[0].slice(-2),l=r.slice(-2),u=r.slice(-1);return i&&a==0||s>=11&&s<=19||o==2&&l>=11&&l<=19?"zero":a==1&&s!=11||o==2&&u==1&&l!=11||o!=2&&u==1?"one":"other"},mk:function t(e){var n=String(e).split("."),r=n[0],o=n[1]||"",i=!n[1],a=r.slice(-1),s=r.slice(-2),l=o.slice(-1),u=o.slice(-2);return i&&a==1&&s!=11||l==1&&u!=11?"one":"other"},mt:function t(e){var n=String(e).split("."),r=Number(n[0])==e,o=r&&n[0].slice(-2);return e==1?"one":e==0||o>=2&&o<=10?"few":o>=11&&o<=19?"many":"other"},pa:function t(e){return e==0||e==1?"one":"other"},pl:function t(e){var n=String(e).split("."),r=n[0],o=!n[1],i=r.slice(-1),a=r.slice(-2);return e==1&&o?"one":o&&i>=2&&i<=4&&(a<12||a>14)?"few":o&&r!=1&&(i==0||i==1)||o&&i>=5&&i<=9||o&&a>=12&&a<=14?"many":"other"},pt:function t(e){var n=String(e).split("."),r=n[0],o=!n[1],i=r.slice(-6);return r==0||r==1?"one":r!=0&&i==0&&o?"many":"other"},ro:function t(e){var n=String(e).split("."),r=!n[1],o=Number(n[0])==e,i=o&&n[0].slice(-2);return e==1&&r?"one":!r||e==0||i>=2&&i<=19?"few":"other"},ru:function t(e){var n=String(e).split("."),r=n[0],o=!n[1],i=r.slice(-1),a=r.slice(-2);return o&&i==1&&a!=11?"one":o&&i>=2&&i<=4&&(a<12||a>14)?"few":o&&i==0||o&&i>=5&&i<=9||o&&a>=11&&a<=14?"many":"other"},se:function t(e){return e==1?"one":e==2?"two":"other"},si:function t(e){var n=String(e).split("."),r=n[0],o=n[1]||"";return e==0||e==1||r==0&&o==1?"one":"other"},sl:function t(e){var n=String(e).split("."),r=n[0],o=!n[1],i=r.slice(-2);return o&&i==1?"one":o&&i==2?"two":o&&(i==3||i==4)||!o?"few":"other"}};$.as=$.am;$.az=$.af;$.bg=$.af;$.bn=$.am;$.brx=$.af;$.ca=$.ast;$.ce=$.af;$.chr=$.af;$.de=$.ast;$.ee=$.af;$.el=$.af;$.en=$.ast;$.et=$.ast;$.eu=$.af;$.fa=$.am;$.fi=$.ast;$.fil=$.ceb;$.fo=$.af;$.fur=$.af;$.fy=$.ast;$.gl=$.ast;$.gu=$.am;$.ha=$.af;$.hi=$.am;$.hr=$.bs;$.hsb=$.dsb;$.hu=$.af;$.hy=$.ff;$.ia=$.ast;$.id=$.dz;$.ig=$.dz;$.ja=$.dz;$.jgo=$.af;$.jv=$.dz;$.ka=$.af;$.kea=$.dz;$.kk=$.af;$.kl=$.af;$.km=$.dz;$.kn=$.am;$.ko=$.dz;$.ku=$.af;$.ky=$.af;$.lb=$.af;$.lkt=$.dz;$.lo=$.dz;$.ml=$.af;$.mn=$.af;$.mr=$.af;$.ms=$.dz;$.my=$.dz;$.nb=$.af;$.ne=$.af;$.nl=$.ast;$.nn=$.af;$.no=$.af;$.or=$.af;$.pcm=$.am;$.ps=$.af;$.rm=$.af;$.sah=$.dz;$.sc=$.ast;$.sd=$.af;$.sk=$.cs;$.so=$.af;$.sq=$.af;$.sr=$.bs;$.su=$.dz;$.sv=$.ast;$.sw=$.ast;$.ta=$.af;$.te=$.af;$.th=$.dz;$.ti=$.pa;$.tk=$.af;$.to=$.dz;$.tr=$.af;$.ug=$.af;$.uk=$.ru;$.ur=$.ast;$.uz=$.af;$.vi=$.dz;$.wae=$.af;$.wo=$.dz;$.yi=$.ast;$.yo=$.dz;$.yue=$.dz;$.zh=$.dz;$.zu=$.am;var PluralRuleFunctions=$;function getPluralRulesLocale(t){return t==="pt-PT"?t:getLanguageFromLanguageTag(t)}var LANGUAGE_REG_EXP=/^([a-z0-9]+)/i;function getLanguageFromLanguageTag(t){var e=t.match(LANGUAGE_REG_EXP);if(!e)throw new TypeError("Invalid locale: ".concat(t));return e[1]}function _classCallCheck$3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$3(t,e,n){return e&&_defineProperties$3(t.prototype,e),n&&_defineProperties$3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var PluralRules=function(){function t(e,n){_classCallCheck$3(this,t);var r=t.supportedLocalesOf(e);if(r.length===0)throw new RangeError("Unsupported locale: "+e);if(n&&n.type!=="cardinal")throw new RangeError('Only "cardinal" "type" is supported');this.$=PluralRuleFunctions[getPluralRulesLocale(r[0])]}return _createClass$3(t,[{key:"select",value:function(n){return this.$(n)}}],[{key:"supportedLocalesOf",value:function(n){return typeof n=="string"&&(n=[n]),n.filter(function(r){return PluralRuleFunctions[getPluralRulesLocale(r)]})}}]),t}();function _typeof$5(t){return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(t)}function ownKeys$a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _objectSpread$9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$a(Object(n),!0).forEach(function(r){_defineProperty$a(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$a(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _defineProperty$a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray$1(t,e){return _arrayWithHoles$1(t)||_iterableToArrayLimit$1(t,e)||_unsupportedIterableToArray$2(t,e)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(t,e){if(!!t){if(typeof t=="string")return _arrayLikeToArray$2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$2(t,e)}}function _arrayLikeToArray$2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _iterableToArrayLimit$1(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],o=!0,i=!1,a,s;try{for(n=n.call(t);!(o=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));o=!0);}catch(l){i=!0,s=l}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw s}}return r}}function _arrayWithHoles$1(t){if(Array.isArray(t))return t}function _classCallCheck$2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$2(t,e,n){return e&&_defineProperties$2(t.prototype,e),n&&_defineProperties$2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var UNITS=["second","minute","hour","day","week","month","quarter","year"],NUMERIC_VALUES=["auto","always"],STYLE_VALUES=["long","short","narrow"],LOCALE_MATCHER_VALUES=["lookup","best fit"],RelativeTimeFormat=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$2(this,t);var r=n.numeric,o=n.style,i=n.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",r!==void 0){if(NUMERIC_VALUES.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(o!==void 0){if(STYLE_VALUES.indexOf(o)<0)throw new RangeError('Invalid "style" option: '.concat(o));this.style=o}if(i!==void 0){if(LOCALE_MATCHER_VALUES.indexOf(i)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(i));this.localeMatcher=i}if(typeof e=="string"&&(e=[e]),e.push(getDefaultLocale()),this.locale=t.supportedLocalesOf(e,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("No supported locale was found");PluralRules.supportedLocalesOf(this.locale).length>0?this.pluralRules=new PluralRules(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),typeof Intl!="undefined"&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=resolveLocale(this.locale,{localeMatcher:this.localeMatcher})}return _createClass$2(t,[{key:"format",value:function(){var n=parseFormatArgs(arguments),r=_slicedToArray$1(n,2),o=r[0],i=r[1];return this.getRule(o,i).replace("{0}",this.formatNumber(Math.abs(o)))}},{key:"formatToParts",value:function(){var n=parseFormatArgs(arguments),r=_slicedToArray$1(n,2),o=r[0],i=r[1],a=this.getRule(o,i),s=a.indexOf("{0}");if(s<0)return[{type:"literal",value:a}];var l=[];return s>0&&l.push({type:"literal",value:a.slice(0,s)}),l=l.concat(this.formatNumberToParts(Math.abs(o)).map(function(u){return _objectSpread$9(_objectSpread$9({},u),{},{unit:i})})),s+3<a.length-1&&l.push({type:"literal",value:a.slice(s+3)}),l}},{key:"getRule",value:function(n,r){var o=getLocaleData$1(this.locale)[this.style][r];if(typeof o=="string")return o;if(this.numeric==="auto"){if(n===-2||n===-1){var i=o["previous".concat(n===-1?"":"-"+Math.abs(n))];if(i)return i}else if(n===1||n===2){var a=o["next".concat(n===1?"":"-"+Math.abs(n))];if(a)return a}else if(n===0&&o.current)return o.current}var s=o[isNegative(n)?"past":"future"];if(typeof s=="string")return s;var l=this.pluralRules&&this.pluralRules.select(Math.abs(n))||"other";return s[l]||s.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"formatNumberToParts",value:function(n){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(n):[{type:"integer",value:this.formatNumber(n)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}]),t}();RelativeTimeFormat.supportedLocalesOf=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="string")t=[t];else if(!Array.isArray(t))throw new TypeError('Invalid "locales" argument');return t.filter(function(n){return resolveLocale(n,e)})};RelativeTimeFormat.addLocale=addLocaleData$1;RelativeTimeFormat.setDefaultLocale=setDefaultLocale;RelativeTimeFormat.getDefaultLocale=getDefaultLocale;RelativeTimeFormat.PluralRules=PluralRules;var UNIT_ERROR='Invalid "unit" argument';function parseUnit(t){if(_typeof$5(t)==="symbol")throw new TypeError(UNIT_ERROR);if(typeof t!="string")throw new RangeError("".concat(UNIT_ERROR,": ").concat(t));if(t[t.length-1]==="s"&&(t=t.slice(0,t.length-1)),UNITS.indexOf(t)<0)throw new RangeError("".concat(UNIT_ERROR,": ").concat(t));return t}var NUMBER_ERROR='Invalid "number" argument';function parseNumber$1(t){if(t=Number(t),Number.isFinite&&!Number.isFinite(t))throw new RangeError("".concat(NUMBER_ERROR,": ").concat(t));return t}function isNegativeZero(t){return 1/t===-1/0}function isNegative(t){return t<0||t===0&&isNegativeZero(t)}function parseFormatArgs(t){if(t.length<2)throw new TypeError('"unit" argument is required');return[parseNumber$1(t[0]),parseUnit(t[1])]}function _typeof$4(t){return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(t)}function _classCallCheck$1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$1(t,e,n){return e&&_defineProperties$1(t.prototype,e),n&&_defineProperties$1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Cache=function(){function t(){_classCallCheck$1(this,t),this.cache={}}return _createClass$1(t,[{key:"get",value:function(){for(var n=this.cache,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];for(var a=0,s=o;a<s.length;a++){var l=s[a];if(_typeof$4(n)!=="object")return;n=n[l]}return n}},{key:"put",value:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];for(var i=r.pop(),a=r.pop(),s=this.cache,l=0,u=r;l<u.length;l++){var d=u[l];_typeof$4(s[d])!=="object"&&(s[d]={}),s=s[d]}return s[a]=i}}]),t}();function _typeof$3(t){return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(t)}function _createForOfIteratorHelperLoose$1(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=_unsupportedIterableToArray$1(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(t,e){if(!!t){if(typeof t=="string")return _arrayLikeToArray$1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$1(t,e)}}function _arrayLikeToArray$1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function chooseLocale(t,e){for(var n=_createForOfIteratorHelperLoose$1(t),r;!(r=n()).done;){var o=r.value;if(e(o))return o;for(var i=o.split("-");i.length>1;)if(i.pop(),o=i.join("-"),e(o))return o}throw new Error("No locale data has been registered for any of the locales: ".concat(t.join(", ")))}function intlDateTimeFormatSupported(){var t=(typeof Intl=="undefined"?"undefined":_typeof$3(Intl))==="object";return t&&typeof Intl.DateTimeFormat=="function"}function _typeof$2(t){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(t)}function isStyleObject(t){return isObject(t)&&(Array.isArray(t.steps)||Array.isArray(t.gradation)||Array.isArray(t.flavour)||typeof t.flavour=="string"||Array.isArray(t.labels)||typeof t.labels=="string"||Array.isArray(t.units)||typeof t.custom=="function")}var OBJECT_CONSTRUCTOR={}.constructor;function isObject(t){return _typeof$2(t)!==void 0&&t!==null&&t.constructor===OBJECT_CONSTRUCTOR}var minute=60,hour=60*minute,day=24*hour,week=7*day,month=30.44*day,year=146097/400*day;function getSecondsInUnit(t){switch(t){case"second":return 1;case"minute":return minute;case"hour":return hour;case"day":return day;case"week":return week;case"month":return month;case"year":return year}}function getStepDenominator(t){return t.factor!==void 0?t.factor:getSecondsInUnit(t.unit||t.formatAs)||1}function getRoundFunction(t){switch(t){case"floor":return Math.floor;default:return Math.round}}function getDiffRatioToNextRoundedNumber(t){switch(t){case"floor":return 1;default:return .5}}function _typeof$1(t){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}function getStepMinTime(t,e){var n=e.prevStep,r=e.timestamp,o=e.now,i=e.future,a=e.round,s;return n&&(n.id||n.unit)&&(s=t["threshold_for_".concat(n.id||n.unit)]),s===void 0&&t.threshold!==void 0&&(s=t.threshold,typeof s=="function"&&(s=s(o,i))),s===void 0&&(s=t.minTime),_typeof$1(s)==="object"&&(n&&n.id&&s[n.id]!==void 0?s=s[n.id]:s=s.default),typeof s=="function"&&(s=s(r,{future:i,getMinTimeForUnit:function(u,d){return _getMinTimeForUnit(u,d||n&&n.formatAs,{round:a})}})),s===void 0&&t.test&&(t.test(r,{now:o,future:i})?s=0:s=9007199254740991),s===void 0&&(n?t.formatAs&&n.formatAs&&(s=_getMinTimeForUnit(t.formatAs,n.formatAs,{round:a})):s=0),s===void 0&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(t,null,2)),s}function _getMinTimeForUnit(t,e,n){var r=n.round,o=getSecondsInUnit(t),i;if(e==="now"?i=getSecondsInUnit(t):i=getSecondsInUnit(e),o!==void 0&&i!==void 0)return o-i*(1-getDiffRatioToNextRoundedNumber(r))}function ownKeys$9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _objectSpread$8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$9(Object(n),!0).forEach(function(r){_defineProperty$9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _defineProperty$9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function getStep(t,e,n){var r=n.now,o=n.future,i=n.round,a=n.units,s=n.getNextStep;t=filterStepsByUnits(t,a);var l=_getStep(t,e,{now:r,future:o,round:i});if(s){if(l){var u=t[t.indexOf(l)-1],d=t[t.indexOf(l)+1];return[u,l,d]}return[void 0,void 0,t[0]]}return l}function _getStep(t,e,n){var r=n.now,o=n.future,i=n.round;if(t.length!==0){var a=getStepIndex(t,e,{now:r,future:o||e<0,round:i});if(a!==-1){var s=t[a];if(s.granularity){var l=getRoundFunction(i)(Math.abs(e)/getStepDenominator(s)/s.granularity)*s.granularity;if(l===0&&a>0)return t[a-1]}return s}}}function getStepIndex(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=getStepMinTime(t[r],_objectSpread$8({prevStep:t[r-1],timestamp:n.now-e*1e3},n));return o===void 0||Math.abs(e)<o?r-1:r===t.length-1?r:getStepIndex(t,e,n,r+1)}function filterStepsByUnits(t,e){return t.filter(function(n){var r=n.unit,o=n.formatAs;return r=r||o,r?e.indexOf(r)>=0:!0})}function getTimeToNextUpdateForUnit(t,e,n){var r=n.now,o=n.round;if(!!getSecondsInUnit(t)){var i=getSecondsInUnit(t)*1e3,a=e>r,s=Math.abs(e-r),l=getRoundFunction(o)(s/i)*i;return a?l>0?s-l+getDiffToPreviousRoundedNumber(o,i):s-l+1:-(s-l)+getDiffToNextRoundedNumber(o,i)}}function getDiffToNextRoundedNumber(t,e){return getDiffRatioToNextRoundedNumber(t)*e}function getDiffToPreviousRoundedNumber(t,e){return(1-getDiffRatioToNextRoundedNumber(t))*e+1}var YEAR=365*24*60*60*1e3,INFINITY=1e3*YEAR;function getTimeToNextUpdate(t,e,n){var r=n.prevStep,o=n.nextStep,i=n.now,a=n.future,s=n.round,l=t.getTime?t.getTime():t,u=function(_){return getTimeToNextUpdateForUnit(_,l,{now:i,round:s})},d=getTimeToStepChange(a?e:o,l,{future:a,now:i,round:s,prevStep:a?r:e});if(d!==void 0){var c;if(e&&(e.getTimeToNextUpdate&&(c=e.getTimeToNextUpdate(l,{getTimeToNextUpdateForUnit:u,getRoundFunction,now:i,future:a,round:s})),c===void 0)){var f=e.unit||e.formatAs;f&&(c=u(f))}return c===void 0?d:Math.min(c,d)}}function getStepChangesAt(t,e,n){var r=n.now,o=n.future,i=n.round,a=n.prevStep,s=getStepMinTime(t,{timestamp:e,now:r,future:o,round:i,prevStep:a});if(s!==void 0)return o?e-s*1e3+1:s===0&&e===r?INFINITY:e+s*1e3}function getTimeToStepChange(t,e,n){var r=n.now,o=n.future,i=n.round,a=n.prevStep;if(t){var s=getStepChangesAt(t,e,{now:r,future:o,round:i,prevStep:a});return s===void 0?void 0:s-r}else return o?e-r+1:INFINITY}var localesData={};function getLocaleData(t){return localesData[t]}function addLocaleData(t){if(!t)throw new Error("[javascript-time-ago] No locale data passed.");localesData[t.locale]=t}var round$1=[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],round={steps:round$1,labels:"long"};function ownKeys$8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _objectSpread$7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$8(Object(n),!0).forEach(function(r){_defineProperty$8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _defineProperty$8(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var defaultStyle=_objectSpread$7(_objectSpread$7({},round),{},{steps:round.steps.filter(function(t){return t.formatAs!=="second"})}),approximate$1=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:minute,unit:"minute"},{threshold:2.5*minute,granularity:5,factor:minute,unit:"minute"},{threshold:22.5*minute,factor:.5*hour,unit:"half-hour"},{threshold:42.5*minute,threshold_for_minute:52.5*minute,factor:hour,unit:"hour"},{threshold:20.5/24*day,factor:day,unit:"day"},{threshold:5.5*day,factor:week,unit:"week"},{threshold:3.5*week,factor:month,unit:"month"},{threshold:10.5*month,factor:year,unit:"year"}],approximate={gradation:approximate$1,flavour:"long",units:["now","minute","hour","day","week","month","year"]},approximateTime={gradation:approximate$1,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function getDate(t){return t instanceof Date?t:new Date(t)}var steps=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],formatters={},monthAndDay={minTime:function t(e,n){n.future;var r=n.getMinTimeForUnit;return r("day")},format:function t(e,n){return formatters[n]||(formatters[n]={}),formatters[n].dayMonth||(formatters[n].dayMonth=new Intl.DateTimeFormat(n,{month:"short",day:"numeric"})),formatters[n].dayMonth.format(getDate(e))}},yearMonthAndDay={minTime:function t(e,n){var r=n.future;if(r){var o=new Date(new Date(e).getFullYear(),0).getTime()-1;return(e-o)/1e3}else{var i=new Date(new Date(e).getFullYear()+1,0).getTime();return(i-e)/1e3}},format:function t(e,n){return formatters[n]||(formatters[n]={}),formatters[n].dayMonthYear||(formatters[n].dayMonthYear=new Intl.DateTimeFormat(n,{year:"numeric",month:"short",day:"numeric"})),formatters[n].dayMonthYear.format(getDate(e))}};intlDateTimeFormatSupported()?steps.push(monthAndDay,yearMonthAndDay):steps.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});var twitter={steps,labels:["mini","short-time","narrow","short"]};function ownKeys$7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _objectSpread$6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$7(Object(n),!0).forEach(function(r){_defineProperty$7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _defineProperty$7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var twitterNow=_objectSpread$6(_objectSpread$6({},twitter),{},{steps:[{formatAs:"now"}].concat(twitter.steps)});function ownKeys$6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _objectSpread$5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$6(Object(n),!0).forEach(function(r){_defineProperty$6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _defineProperty$6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var twitterMinute=_objectSpread$5(_objectSpread$5({},twitter),{},{steps:twitter.steps.filter(function(t){return t.formatAs!=="second"})});function ownKeys$5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _objectSpread$4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$5(Object(n),!0).forEach(function(r){_defineProperty$5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _defineProperty$5(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var twitterMinuteNow=_objectSpread$4(_objectSpread$4({},twitterMinute),{},{steps:[{formatAs:"now"}].concat(twitterMinute.steps)});function ownKeys$4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _objectSpread$3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$4(Object(n),!0).forEach(function(r){_defineProperty$4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _defineProperty$4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var twitterFirstMinute=_objectSpread$3(_objectSpread$3({},twitter),{},{steps:twitter.steps.filter(function(t){return t.formatAs!=="second"}).map(function(t){return t.formatAs==="minute"?_objectSpread$3(_objectSpread$3({},t),{},{minTime:minute}):t})}),mini={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function ownKeys$3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _objectSpread$2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$3(Object(n),!0).forEach(function(r){_defineProperty$3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _defineProperty$3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var miniNow=_objectSpread$2(_objectSpread$2({},mini),{},{steps:[{formatAs:"now"}].concat(mini.steps)});function ownKeys$2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$2(Object(n),!0).forEach(function(r){_defineProperty$2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _defineProperty$2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var miniMinute=_objectSpread$1(_objectSpread$1({},mini),{},{steps:mini.steps.filter(function(t){return t.formatAs!=="second"})});function ownKeys$1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(n),!0).forEach(function(r){_defineProperty$1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _defineProperty$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var miniMinuteNow=_objectSpread(_objectSpread({},miniMinute),{},{steps:[{formatAs:"now"}].concat(miniMinute.steps)});function getStyleByName(t){switch(t){case"default":case"round":return round;case"round-minute":return defaultStyle;case"approximate":return approximate;case"time":case"approximate-time":return approximateTime;case"mini":return mini;case"mini-now":return miniNow;case"mini-minute":return miniMinute;case"mini-minute-now":return miniMinuteNow;case"twitter":return twitter;case"twitter-now":return twitterNow;case"twitter-minute":return twitterMinute;case"twitter-minute-now":return twitterMinuteNow;case"twitter-first-minute":return twitterFirstMinute;default:return approximate}}function _typeof(t){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}function _createForOfIteratorHelperLoose(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(t,e){if(!!t){if(typeof t=="string")return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(t,e)}}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _iterableToArrayLimit(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],o=!0,i=!1,a,s;try{for(n=n.call(t);!(o=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));o=!0);}catch(l){i=!0,s=l}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw s}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var TimeAgo=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.polyfill;_classCallCheck(this,t),typeof e=="string"&&(e=[e]),this.locale=chooseLocale(e.concat(t.getDefaultLocale()),getLocaleData),typeof Intl!="undefined"&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),r===!1?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=RelativeTimeFormat,this.IntlPluralRules=RelativeTimeFormat.PluralRules),this.relativeTimeFormatCache=new Cache,this.pluralRulesCache=new Cache}return _createClass(t,[{key:"format",value:function(n,r,o){o||(r&&!isStyle(r)?(o=r,r=void 0):o={}),r||(r=defaultStyle),typeof r=="string"&&(r=getStyleByName(r));var i=getTimestamp(n),a=this.getLabels(r.flavour||r.labels),s=a.labels,l=a.labelsType,u;r.now!==void 0&&(u=r.now),u===void 0&&o.now!==void 0&&(u=o.now),u===void 0&&(u=Date.now());var d=(u-i)/1e3,c=o.future||d<0,f=getNowLabel(s,getLocaleData(this.locale).now,getLocaleData(this.locale).long,c);if(r.custom){var m=r.custom({now:u,date:new Date(i),time:i,elapsed:d,locale:this.locale});if(m!==void 0)return m}var _=getTimeIntervalMeasurementUnits(r.units,s,f),h=o.round||r.round,w=getStep(r.gradation||r.steps||defaultStyle.steps,d,{now:u,units:_,round:h,future:c,getNextStep:!0}),g=_slicedToArray(w,3),E=g[0],b=g[1],T=g[2],A=this.formatDateForStep(i,b,d,{labels:s,labelsType:l,nowLabel:f,now:u,future:c,round:h})||"";if(o.getTimeToNextUpdate){var v=getTimeToNextUpdate(i,b,{nextStep:T,prevStep:E,now:u,future:c,round:h});return[A,v]}return A}},{key:"formatDateForStep",value:function(n,r,o,i){var a=this,s=i.labels,l=i.labelsType,u=i.nowLabel,d=i.now,c=i.future,f=i.round;if(!!r){if(r.format)return r.format(n,this.locale,{formatAs:function(g,E){return a.formatValue(E,g,{labels:s,future:c})},now:d,future:c});var m=r.unit||r.formatAs;if(!m)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(r)));if(m==="now")return u;var _=Math.abs(o)/getStepDenominator(r);r.granularity&&(_=getRoundFunction(f)(_/r.granularity)*r.granularity);var h=-1*Math.sign(o)*getRoundFunction(f)(_);switch(h===0&&(c?h=0:h=-0),l){case"long":case"short":case"narrow":return this.getFormatter(l).format(h,m);default:return this.formatValue(h,m,{labels:s,future:c})}}}},{key:"formatValue",value:function(n,r,o){var i=o.labels,a=o.future;return this.getFormattingRule(i,r,n,{future:a}).replace("{0}",this.formatNumber(Math.abs(n)))}},{key:"getFormattingRule",value:function(n,r,o,i){var a=i.future;if(this.locale,n=n[r],typeof n=="string")return n;var s=o===0?a?"future":"past":o<0?"past":"future",l=n[s]||n;if(typeof l=="string")return l;var u=this.getPluralRules().select(Math.abs(o));return l[u]||l.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"getFormatter",value:function(n){return this.relativeTimeFormatCache.get(this.locale,n)||this.relativeTimeFormatCache.put(this.locale,n,new this.IntlRelativeTimeFormat(this.locale,{style:n}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];typeof n=="string"&&(n=[n]),n=n.map(function(s){switch(s){case"tiny":case"mini-time":return"mini";default:return s}}),n=n.concat("long");for(var r=getLocaleData(this.locale),o=_createForOfIteratorHelperLoose(n),i;!(i=o()).done;){var a=i.value;if(r[a])return{labelsType:a,labels:r[a]}}}}]),t}(),defaultLocale="en";TimeAgo.getDefaultLocale=function(){return defaultLocale};TimeAgo.setDefaultLocale=function(t){return defaultLocale=t};TimeAgo.addDefaultLocale=function(t){if(defaultLocaleHasBeenSpecified)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");defaultLocaleHasBeenSpecified=!0,TimeAgo.setDefaultLocale(t.locale),TimeAgo.addLocale(t)};var defaultLocaleHasBeenSpecified;TimeAgo.addLocale=function(t){addLocaleData(t),RelativeTimeFormat.addLocale(t)};TimeAgo.locale=TimeAgo.addLocale;TimeAgo.addLabels=function(t,e,n){var r=getLocaleData(t);r||(addLocaleData({locale:t}),r=getLocaleData(t)),r[e]=n};function getTimestamp(t){if(t.constructor===Date||isMockedDate(t))return t.getTime();if(typeof t=="number")return t;throw new Error("Unsupported relative time formatter input: ".concat(_typeof(t),", ").concat(t))}function isMockedDate(t){return _typeof(t)==="object"&&typeof t.getTime=="function"}function getTimeIntervalMeasurementUnits(t,e,n){var r=Object.keys(e);return n&&r.push("now"),t&&(r=t.filter(function(o){return o==="now"||r.indexOf(o)>=0})),r}function getNowLabel(t,e,n,r){var o=t.now||e&&e.now;if(o)return typeof o=="string"?o:r?o.future:o.past;if(n&&n.second&&n.second.current)return n.second.current}function isStyle(t){return typeof t=="string"||isStyleObject(t)}var en={locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}};TimeAgo.addDefaultLocale(en);const timeAgo=new TimeAgo("en-US");function create_fragment$8(t){let e,n,r,o,i,a,s,l=t[0].title+"",u,d,c,f,m=timeAgo.format(new Date(t[0].publishedAt))+"",_,h,w=t[0].channelTitle+"",g,E,b,T=t[0].description+"",A,v,I,y;return{c(){e=element("a"),n=element("div"),r=element("img"),i=space(),a=element("div"),s=element("p"),u=text(l),c=space(),f=element("p"),_=text(m),h=text(" - "),g=text(w),E=space(),b=element("p"),A=text(T),src_url_equal(r.src,o=t[0].thumbnailUrl)||attr(r,"src",o),attr(r,"alt",""),attr(r,"loading","lazy"),attr(r,"width","320"),attr(r,"height","180"),attr(n,"class","inline-block w-[11rem] align-text-bottom p-1"),attr(s,"class","font-bold truncate"),attr(s,"title",d=t[0].title),attr(f,"class","text-neutral-400 truncate"),attr(b,"class","text-ellipsis line-clamp-3"),attr(a,"class","inline-block w-[calc(100%-11.5rem)] align-top text-sm"),attr(e,"class","block w-[calc(100%-1rem)] bg-neutral-600 p-2 m-2 first:mt-0 last:mb-0 rounded-2xl"),attr(e,"href",v="https://www.youtube.com/watch?v="+t[0].videoId)},m(S,D){insert(S,e,D),append(e,n),append(n,r),append(e,i),append(e,a),append(a,s),append(s,u),append(a,c),append(a,f),append(f,_),append(f,h),append(f,g),append(a,E),append(a,b),append(b,A),I||(y=listen(e,"click",prevent_default(t[1])),I=!0)},p(S,[D]){D&1&&!src_url_equal(r.src,o=S[0].thumbnailUrl)&&attr(r,"src",o),D&1&&l!==(l=S[0].title+"")&&set_data(u,l),D&1&&d!==(d=S[0].title)&&attr(s,"title",d),D&1&&m!==(m=timeAgo.format(new Date(S[0].publishedAt))+"")&&set_data(_,m),D&1&&w!==(w=S[0].channelTitle+"")&&set_data(g,w),D&1&&T!==(T=S[0].description+"")&&set_data(A,T),D&1&&v!==(v="https://www.youtube.com/watch?v="+S[0].videoId)&&attr(e,"href",v)},i:noop,o:noop,d(S){S&&detach(e),I=!1,y()}}}function instance$8(t,e,n){let{video:r}=e;function o(){playerStore.set({videoId:r.videoId})}return t.$$set=i=>{"video"in i&&n(0,r=i.video)},[r,o]}class VideoCard extends SvelteComponent{constructor(e){super(),init(this,e,instance$8,create_fragment$8,safe_not_equal,{video:0})}}const NOT_MODIFIED="Not Modified";function appendQuery(t,e){if(e){const n=new URLSearchParams(e);return`${t}?${n}`}else return t}function toRequest(t,e={}){const n=appendQuery("https://www.googleapis.com"+t,e.query);return e.headers=new Headers(e.headers),e.headers.append("Authorization","Bearer "+gapi.auth.getToken().access_token),e.etag&&e.headers.append("If-None-Match",e.etag),new Request(n,e)}async function request(t,e={}){typeof t=="string"&&(t=toRequest(t,e));const n=await fetch(t);if(n.status===304)throw NOT_MODIFIED;if(!n.ok)throw n;return n}async function batchRequest(t,e){const n=`boundary${Date.now()}`,r="/batch"+t,o=await request(r,{method:"POST",headers:{"Content-Type":`multipart/mixed; boundary=${n}`},body:await batchRequestsToBody(e,n)});return batchResponseToMap(o)}async function batchRequestsToBody(t,e){let n=[];for(const[r,o]of t){if(n.push(`--${e}`),n.push("Content-Type: application/http"),n.push(`Content-ID: ${r}`),o.bodyUsed&&n.push(`Content-Length: ${(await o.blob()).size}`),n.push(""),n.push(`${o.method} ${o.url}`),o.headers)for(const[i,a]of o.headers.entries())n.push(`${i}: ${a}`);o.bodyUsed&&(n.push(""),n.push(await o.text()))}return n.push(`--${e}--`),n.join(`\r
`)}async function batchResponseToMap(t){const e=t.headers.get("Content-Type").match(/^multipart\/mixed; boundary=(.+)$/)[1],r=(await t.text()).split(new RegExp(`\r
--${e}(?:--)?\r
`,"g")).slice(1,-1),o=new Map;for(const i of r){const[a,s,l]=i.split(`\r
\r
`,3),d=headerStringToHeaders(a).get("Content-ID").match(/^response-(.+)$/)[1],[c,f]=s.split(`\r
`,2),[m,_,h]=c.split(" ",3),w=headerStringToHeaders(f),g=l.length===0?null:l,E=new Response(g,{status:parseInt(_,10),statusText:h,headers:w});o.set(d,E)}return o}function headerStringToHeaders(t){const e=new Headers;for(const n of t.split(`\r
`)){const[r,o]=n.split(": ");e.append(r,o)}return e}function jsonBlob(t){return new Blob([JSON.stringify(t)],{type:"application/json"})}async function listAllSubscriptions(t){let e=await listSubscriptions({etag:t});const n=e.etag,r=[e.items];for(;e.nextPageToken;)e=await listSubscriptions({pageToken:e.nextPageToken}),r.push(e.items);return{etag:n,items:r}}async function listSubscriptions(t={}){return(await request(listSubscriptionsRequest(t))).json()}function listSubscriptionsRequest(t={}){return toRequest("/youtube/v3/subscriptions",H({method:"GET",query:H({part:"snippet",fields:"etag,items(snippet(title,resourceId/channelId,thumbnails/default/url)),nextPageToken",mine:"true",order:"alphabetical",maxResults:"50"},t.pageToken&&{pageToken:t.pageToken})},t.etag&&{etag:t.etag}))}async function listAllChannels(t){const e=new Map(t.map((o,i)=>[`${i}`,listChannelsRequest(o)])),n=await batchRequest("/youtube/v3",e),r=await Promise.all(Array.from(n.values()).map(o=>o.json()));return new Map(r.flatMap(o=>o.items.map(i=>[i.id,i])))}function listChannelsRequest(t){return toRequest("/youtube/v3/channels",{method:"GET",query:{part:"contentDetails",fields:"items(id,contentDetails/relatedPlaylists/uploads)",id:t.map(e=>e.snippet.resourceId.channelId).join(","),maxResults:"50"}})}async function listAllPlaylistItems(t,e){const n=new Set(e.subscriptionGroups.flatMap(r=>r.subscriptionIds));if(n.size>0){const r=t.items.filter(a=>n.has(a.channelId)),o=new Map(r.map(a=>[a.uploadsPlaylistId,listPlaylistItemsRequest(a,!0)])),i=await batchRequest("/youtube/v3",o);await Promise.all(r.map(a=>listPlaylistItemsResponse(a,i.get(a.uploadsPlaylistId),!0)))}}async function listPlaylistItems(t){const e=await request(listPlaylistItemsRequest(t,!1));await listPlaylistItemsResponse(t,e,!1)}function listPlaylistItemsRequest(t,e){return toRequest("/youtube/v3/playlistItems",H({method:"GET",query:H({part:"snippet",fields:"etag,items(snippet(title,description,publishedAt,thumbnails/medium/url,resourceId/videoId)),nextPageToken",playlistId:t.uploadsPlaylistId,maxResults:"50"},!e&&t.nextUploadPageToken&&{pageToken:t.nextUploadPageToken})},e&&t.uploadsEtag&&{etag:t.uploadsEtag}))}async function listPlaylistItemsResponse(t,e,n){if(e.status===304)return;if(!e.ok)throw e;const r=await e.json();n?setUploads(t,r):addUploads(t,r)}const maxPlaylistLength=200;async function SubscriptionGroup(t,e,n){const r=H({name:t,expanded:e,subscriptions:n.map(o=>({subscription:o,uploadIndex:0})),videos:[]},n.length===1&&{playlistId:n[0].uploadsPlaylistId});return await loadMoreVideos(r),r}function SubscriptionGroupChild(t){const e=t.uploads.slice(0,10);return{name:t.title,expanded:!1,subscriptions:[{subscription:t,uploadIndex:e.length}],videos:e,playlist:{playlistId:t.uploadsPlaylistId}}}async function loadCustomPlaylist(t){t.videos.length<maxPlaylistLength&&await loadMoreVideos(t,maxPlaylistLength-t.videos.length),t.playlist={customPlaylist:t.videos.slice(0,maxPlaylistLength).map(e=>e.videoId)}}async function loadMoreVideos(t,e=10){for(let n=0;n<e;n++){let r,o;for(const i of t.subscriptions){if(i.uploadIndex===i.subscription.uploads.length){if(!i.subscription.nextUploadPageToken)continue;await listPlaylistItems(i.subscription)}const a=i.subscription.uploads[i.uploadIndex];(!r||a.publishedAt>r.publishedAt)&&(r=a,o=i)}if(!r||!o)break;r.channelTitle=o.subscription.title,t.videos.push(r),o.uploadIndex++}}function allVideosLoaded(t){return t.subscriptions.every(e=>e.uploadIndex===e.subscription.uploads.length&&!e.subscription.nextUploadPageToken)}const parseNumber=parseFloat;function joinCss(t,e=";"){let n;if(Array.isArray(t))n=t.filter(r=>r);else{n=[];for(const r in t)t[r]&&n.push(`${r}:${t[r]}`)}return n.join(e)}function getStyles(t,e,n,r){let o,i;const a="1em";let s,l,u,d="-.125em";const c="visible";return r&&(u="center",i="1.25em"),n&&(o=n),e&&(e=="lg"?(l="1.33333em",s=".75em",d="-.225em"):e=="xs"?l=".75em":e=="sm"?l=".875em":l=e.replace("x","em")),joinCss([joinCss({float:o,width:i,height:a,"line-height":s,"font-size":l,"text-align":u,"vertical-align":d,"transform-origin":"center",overflow:c}),t])}function getTransform(t,e,n,r,o,i=1,a="",s=""){let l=1,u=1;return o&&(o=="horizontal"?l=-1:o=="vertical"?u=-1:l=u=-1),joinCss([`translate(${parseNumber(e)*i}${a},${parseNumber(n)*i}${a})`,`scale(${l*parseNumber(t)},${u*parseNumber(t)})`,r&&`rotate(${r}${s})`]," ")}var fa_svelte_svelte_type_style_lang=(()=>`.spin.svelte-1w3t65e{-webkit-animation:svelte-1w3t65e-spin 2s 0s infinite linear;animation:svelte-1w3t65e-spin 2s 0s infinite linear}.pulse.svelte-1w3t65e{-webkit-animation:svelte-1w3t65e-spin 1s infinite steps(8);animation:svelte-1w3t65e-spin 1s infinite steps(8)}@-webkit-keyframes svelte-1w3t65e-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes svelte-1w3t65e-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}
`)();function create_if_block$4(t){let e,n,r,o,i,a,s;function l(c,f){return typeof c[10][4]=="string"?create_if_block_1$2:create_else_block$4}let u=l(t),d=u(t);return{c(){e=svg_element("svg"),n=svg_element("g"),r=svg_element("g"),d.c(),attr(r,"transform",t[12]),attr(n,"transform",o="translate("+t[10][0]/2+" "+t[10][1]/2+")"),attr(n,"transform-origin",i=t[10][0]/4+" 0"),attr(e,"id",t[1]),attr(e,"class",a="svelte-fa "+t[0]+" svelte-1w3t65e"),attr(e,"style",t[11]),attr(e,"viewBox",s="0 0 "+t[10][0]+" "+t[10][1]),attr(e,"aria-hidden","true"),attr(e,"role","img"),attr(e,"xmlns","http://www.w3.org/2000/svg"),toggle_class(e,"pulse",t[4]),toggle_class(e,"spin",t[3])},m(c,f){insert(c,e,f),append(e,n),append(n,r),d.m(r,null)},p(c,f){u===(u=l(c))&&d?d.p(c,f):(d.d(1),d=u(c),d&&(d.c(),d.m(r,null))),f&4096&&attr(r,"transform",c[12]),f&1024&&o!==(o="translate("+c[10][0]/2+" "+c[10][1]/2+")")&&attr(n,"transform",o),f&1024&&i!==(i=c[10][0]/4+" 0")&&attr(n,"transform-origin",i),f&2&&attr(e,"id",c[1]),f&1&&a!==(a="svelte-fa "+c[0]+" svelte-1w3t65e")&&attr(e,"class",a),f&2048&&attr(e,"style",c[11]),f&1024&&s!==(s="0 0 "+c[10][0]+" "+c[10][1])&&attr(e,"viewBox",s),f&17&&toggle_class(e,"pulse",c[4]),f&9&&toggle_class(e,"spin",c[3])},d(c){c&&detach(e),d.d()}}}function create_else_block$4(t){let e,n,r,o,i,a,s,l,u,d;return{c(){e=svg_element("path"),a=svg_element("path"),attr(e,"d",n=t[10][4][0]),attr(e,"fill",r=t[6]||t[2]||"currentColor"),attr(e,"fill-opacity",o=t[9]!=!1?t[7]:t[8]),attr(e,"transform",i="translate("+t[10][0]/-2+" "+t[10][1]/-2+")"),attr(a,"d",s=t[10][4][1]),attr(a,"fill",l=t[5]||t[2]||"currentColor"),attr(a,"fill-opacity",u=t[9]!=!1?t[8]:t[7]),attr(a,"transform",d="translate("+t[10][0]/-2+" "+t[10][1]/-2+")")},m(c,f){insert(c,e,f),insert(c,a,f)},p(c,f){f&1024&&n!==(n=c[10][4][0])&&attr(e,"d",n),f&68&&r!==(r=c[6]||c[2]||"currentColor")&&attr(e,"fill",r),f&896&&o!==(o=c[9]!=!1?c[7]:c[8])&&attr(e,"fill-opacity",o),f&1024&&i!==(i="translate("+c[10][0]/-2+" "+c[10][1]/-2+")")&&attr(e,"transform",i),f&1024&&s!==(s=c[10][4][1])&&attr(a,"d",s),f&36&&l!==(l=c[5]||c[2]||"currentColor")&&attr(a,"fill",l),f&896&&u!==(u=c[9]!=!1?c[8]:c[7])&&attr(a,"fill-opacity",u),f&1024&&d!==(d="translate("+c[10][0]/-2+" "+c[10][1]/-2+")")&&attr(a,"transform",d)},d(c){c&&detach(e),c&&detach(a)}}}function create_if_block_1$2(t){let e,n,r,o;return{c(){e=svg_element("path"),attr(e,"d",n=t[10][4]),attr(e,"fill",r=t[2]||t[5]||"currentColor"),attr(e,"transform",o="translate("+t[10][0]/-2+" "+t[10][1]/-2+")")},m(i,a){insert(i,e,a)},p(i,a){a&1024&&n!==(n=i[10][4])&&attr(e,"d",n),a&36&&r!==(r=i[2]||i[5]||"currentColor")&&attr(e,"fill",r),a&1024&&o!==(o="translate("+i[10][0]/-2+" "+i[10][1]/-2+")")&&attr(e,"transform",o)},d(i){i&&detach(e)}}}function create_fragment$7(t){let e,n=t[10][4]&&create_if_block$4(t);return{c(){n&&n.c(),e=empty()},m(r,o){n&&n.m(r,o),insert(r,e,o)},p(r,[o]){r[10][4]?n?n.p(r,o):(n=create_if_block$4(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:noop,o:noop,d(r){n&&n.d(r),r&&detach(e)}}}function instance$7(t,e,n){let{class:r=""}=e,{id:o=""}=e,{style:i=""}=e,{icon:a}=e,{size:s=""}=e,{color:l=""}=e,{fw:u=!1}=e,{pull:d=""}=e,{scale:c=1}=e,{translateX:f=0}=e,{translateY:m=0}=e,{rotate:_=""}=e,{flip:h=!1}=e,{spin:w=!1}=e,{pulse:g=!1}=e,{primaryColor:E=""}=e,{secondaryColor:b=""}=e,{primaryOpacity:T=1}=e,{secondaryOpacity:A=.4}=e,{swapOpacity:v=!1}=e,I,y,S;return t.$$set=D=>{"class"in D&&n(0,r=D.class),"id"in D&&n(1,o=D.id),"style"in D&&n(13,i=D.style),"icon"in D&&n(14,a=D.icon),"size"in D&&n(15,s=D.size),"color"in D&&n(2,l=D.color),"fw"in D&&n(16,u=D.fw),"pull"in D&&n(17,d=D.pull),"scale"in D&&n(18,c=D.scale),"translateX"in D&&n(19,f=D.translateX),"translateY"in D&&n(20,m=D.translateY),"rotate"in D&&n(21,_=D.rotate),"flip"in D&&n(22,h=D.flip),"spin"in D&&n(3,w=D.spin),"pulse"in D&&n(4,g=D.pulse),"primaryColor"in D&&n(5,E=D.primaryColor),"secondaryColor"in D&&n(6,b=D.secondaryColor),"primaryOpacity"in D&&n(7,T=D.primaryOpacity),"secondaryOpacity"in D&&n(8,A=D.secondaryOpacity),"swapOpacity"in D&&n(9,v=D.swapOpacity)},t.$$.update=()=>{t.$$.dirty&16384&&n(10,I=a&&a.icon||[0,0,"",[],""]),t.$$.dirty&237568&&n(11,y=getStyles(i,s,d,u)),t.$$.dirty&8126464&&n(12,S=getTransform(c,f,m,_,h,512))},[r,o,l,w,g,E,b,T,A,v,I,y,S,i,a,s,u,d,c,f,m,_,h]}class Fa extends SvelteComponent{constructor(e){super(),init(this,e,instance$7,create_fragment$7,safe_not_equal,{class:0,id:1,style:13,icon:14,size:15,color:2,fw:16,pull:17,scale:18,translateX:19,translateY:20,rotate:21,flip:22,spin:3,pulse:4,primaryColor:5,secondaryColor:6,primaryOpacity:7,secondaryOpacity:8,swapOpacity:9})}}var Fa$1=Fa,faLayers_svelte_svelte_type_style_lang=(()=>`.svelte-fa-layers.svelte-w9owi{display:inline-block;position:relative}.svelte-fa-layers.svelte-w9owi .svelte-fa{position:absolute;bottom:0;left:0;right:0;top:0;margin:auto;text-align:center}.svelte-fa-layers.svelte-w9owi .svelte-fa-layers-text{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.svelte-fa-layers.svelte-w9owi .svelte-fa-layers-text span{display:inline-block}
`)();function create_fragment$6(t){let e,n,r;const o=t[7].default,i=create_slot(o,t,t[6],null);return{c(){e=element("span"),i&&i.c(),attr(e,"id",t[1]),attr(e,"class",n="svelte-fa-layers "+t[0]+" svelte-w9owi"),attr(e,"style",t[2])},m(a,s){insert(a,e,s),i&&i.m(e,null),r=!0},p(a,[s]){i&&i.p&&(!r||s&64)&&update_slot_base(i,o,a,a[6],r?get_slot_changes(o,a[6],s,null):get_all_dirty_from_scope(a[6]),null),(!r||s&2)&&attr(e,"id",a[1]),(!r||s&1&&n!==(n="svelte-fa-layers "+a[0]+" svelte-w9owi"))&&attr(e,"class",n),(!r||s&4)&&attr(e,"style",a[2])},i(a){r||(transition_in(i,a),r=!0)},o(a){transition_out(i,a),r=!1},d(a){a&&detach(e),i&&i.d(a)}}}function instance$6(t,e,n){let{$$slots:r={},$$scope:o}=e,{class:i=""}=e,{id:a=""}=e,{style:s=""}=e,{size:l=""}=e,{pull:u=""}=e,d;return t.$$set=c=>{"class"in c&&n(0,i=c.class),"id"in c&&n(1,a=c.id),"style"in c&&n(3,s=c.style),"size"in c&&n(4,l=c.size),"pull"in c&&n(5,u=c.pull),"$$scope"in c&&n(6,o=c.$$scope)},t.$$.update=()=>{t.$$.dirty&56&&n(2,d=getStyles(s,l,u,!0))},[i,a,d,s,l,u,o,r]}class Fa_layers extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$6,safe_not_equal,{class:0,id:1,style:3,size:4,pull:5})}}var FaLayers=Fa_layers;/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var faCircle={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9898,9899,11044,61708,61915,9679],"f111","M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256z"]},faCircleXmark={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM175 208.1L222.1 255.1L175 303C165.7 312.4 165.7 327.6 175 336.1C184.4 346.3 199.6 346.3 208.1 336.1L255.1 289.9L303 336.1C312.4 346.3 327.6 346.3 336.1 336.1C346.3 327.6 346.3 312.4 336.1 303L289.9 255.1L336.1 208.1C346.3 199.6 346.3 184.4 336.1 175C327.6 165.7 312.4 165.7 303 175L255.1 222.1L208.1 175C199.6 165.7 184.4 165.7 175 175C165.7 184.4 165.7 199.6 175 208.1V208.1z"]},faTimesCircle=faCircleXmark,faDownLeftAndUpRightToCenter={prefix:"fas",iconName:"down-left-and-up-right-to-center",icon:[512,512,["compress-alt"],"f422","M215.1 272h-136c-12.94 0-24.63 7.797-29.56 19.75C45.47 303.7 48.22 317.5 57.37 326.6l30.06 30.06l-78.06 78.07c-12.5 12.5-12.5 32.75-.0012 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.26 .0013l78.06-78.07l30.06 30.06c6.125 6.125 14.31 9.367 22.63 9.367c4.125 0 8.279-.7891 12.25-2.43c11.97-4.953 19.75-16.62 19.75-29.56V296C239.1 282.7 229.3 272 215.1 272zM296 240h136c12.94 0 24.63-7.797 29.56-19.75c4.969-11.97 2.219-25.72-6.938-34.87l-30.06-30.06l78.06-78.07c12.5-12.5 12.5-32.76 .0002-45.26l-22.62-22.62c-12.5-12.5-32.76-12.5-45.26-.0003l-78.06 78.07l-30.06-30.06c-9.156-9.141-22.87-11.84-34.87-6.937c-11.97 4.953-19.75 16.62-19.75 29.56v135.1C272 229.3 282.7 240 296 240z"]},faCompressAlt=faDownLeftAndUpRightToCenter,faPlay={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215z"]},faUpRightAndDownLeftFromCenter={prefix:"fas",iconName:"up-right-and-down-left-from-center",icon:[512,512,["expand-alt"],"f424","M208 281.4c-12.5-12.5-32.76-12.5-45.26-.002l-78.06 78.07l-30.06-30.06c-6.125-6.125-14.31-9.367-22.63-9.367c-4.125 0-8.279 .7891-12.25 2.43c-11.97 4.953-19.75 16.62-19.75 29.56v135.1C.0013 501.3 10.75 512 24 512h136c12.94 0 24.63-7.797 29.56-19.75c4.969-11.97 2.219-25.72-6.938-34.87l-30.06-30.06l78.06-78.07c12.5-12.49 12.5-32.75 .002-45.25L208 281.4zM487.1 0h-136c-12.94 0-24.63 7.797-29.56 19.75c-4.969 11.97-2.219 25.72 6.938 34.87l30.06 30.06l-78.06 78.07c-12.5 12.5-12.5 32.76 0 45.26l22.62 22.62c12.5 12.5 32.76 12.5 45.26 0l78.06-78.07l30.06 30.06c9.156 9.141 22.87 11.84 34.87 6.937C504.2 184.6 512 172.9 512 159.1V23.1C512 10.74 501.3 0 487.1 0z"]},faExpandAlt=faUpRightAndDownLeftFromCenter,faUsers={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M319.9 320c57.41 0 103.1-46.56 103.1-104c0-57.44-46.54-104-103.1-104c-57.41 0-103.1 46.56-103.1 104C215.9 273.4 262.5 320 319.9 320zM369.9 352H270.1C191.6 352 128 411.7 128 485.3C128 500.1 140.7 512 156.4 512h327.2C499.3 512 512 500.1 512 485.3C512 411.7 448.4 352 369.9 352zM512 160c44.18 0 80-35.82 80-80S556.2 0 512 0c-44.18 0-80 35.82-80 80S467.8 160 512 160zM183.9 216c0-5.449 .9824-10.63 1.609-15.91C174.6 194.1 162.6 192 149.9 192H88.08C39.44 192 0 233.8 0 285.3C0 295.6 7.887 304 17.62 304h199.5C196.7 280.2 183.9 249.7 183.9 216zM128 160c44.18 0 80-35.82 80-80S172.2 0 128 0C83.82 0 48 35.82 48 80S83.82 160 128 160zM551.9 192h-61.84c-12.8 0-24.88 3.037-35.86 8.24C454.8 205.5 455.8 210.6 455.8 216c0 33.71-12.78 64.21-33.16 88h199.7C632.1 304 640 295.6 640 285.3C640 233.8 600.6 192 551.9 192z"]};const defaultOptions={root:null,rootMargin:"0px",threshold:0,unobserveOnEnter:!1},createEvent=(t,e)=>new CustomEvent(t,{detail:e});function inview(t,e={}){const{root:n,rootMargin:r,threshold:o,unobserveOnEnter:i}=Object.assign(Object.assign({},defaultOptions),e);let a={x:void 0,y:void 0},s={vertical:void 0,horizontal:void 0};if(typeof IntersectionObserver!="undefined"&&t){const l=new IntersectionObserver((u,d)=>{u.forEach(c=>{a.y>c.boundingClientRect.y?s.vertical="up":s.vertical="down",a.x>c.boundingClientRect.x?s.horizontal="left":s.horizontal="right",a={y:c.boundingClientRect.y,x:c.boundingClientRect.x};const f={inView:c.isIntersecting,entry:c,scrollDirection:s,node:t,observer:d};t.dispatchEvent(createEvent("change",f)),c.isIntersecting?(t.dispatchEvent(createEvent("enter",f)),i&&d.unobserve(t)):t.dispatchEvent(createEvent("leave",f))})},{root:n,rootMargin:r,threshold:o});return setTimeout(()=>{t.dispatchEvent(createEvent("init",{observer:l,node:t}))},0),l.observe(t),{destroy(){l.unobserve(t)}}}}function backOut(t){return--t*t*((1.70158+1)*t+1.70158)+1}function cubicOut(t){const e=t-1;return e*e*e+1}function fly(t,{delay:e=0,duration:n=400,easing:r=cubicOut,x:o=0,y:i=0,opacity:a=0}={}){const s=getComputedStyle(t),l=+s.opacity,u=s.transform==="none"?"":s.transform,d=l*(1-a);return{delay:e,duration:n,easing:r,css:(c,f)=>`
			transform: ${u} translate(${(1-c)*o}px, ${(1-c)*i}px);
			opacity: ${l-d*f}`}}function errorString(t){return typeof t=="string"?t:t instanceof Error?t.message:JSON.stringify(t).slice(1,-1)}const settingsFileName="settings.json";let settingsFileId;async function getSettingsFileId(){const e=await(await request("/drive/v3/files",{method:"GET",query:{spaces:"appDataFolder",fields:"files(id)",q:`name = '${settingsFileName}'`,pageSize:"1"}})).json();settingsFileId=e.files.length>0?e.files[0].id:null}async function readSettings(){return settingsFileId===void 0&&await getSettingsFileId(),settingsFileId==null?null:(await request(`/drive/v3/files/${settingsFileId}`,{method:"GET",query:{alt:"media"}})).json()}async function writeSettings(t){settingsFileId===void 0&&await getSettingsFileId(),settingsFileId==null?await createSettings(t):await updateSettings(t)}async function createSettings(t){const e={name:settingsFileName,mimeType:"application/json",parents:["appDataFolder"]},n=new FormData;n.append("metadata",jsonBlob(e)),n.append("file",jsonBlob(t),settingsFileName),settingsFileId=(await(await request("/upload/drive/v3/files",{method:"POST",query:{uploadType:"multipart"},body:n})).json()).id}async function updateSettings(t){await request(`/upload/drive/v3/files/${settingsFileId}`,{method:"PATCH",query:{uploadType:"media"},body:jsonBlob(t)})}function get_each_context_1$1(t,e,n){const r=t.slice();return r[18]=e[n],r}function get_each_context$2(t,e,n){const r=t.slice();return r[15]=e[n],r}function create_else_block$3(t){let e,n,r,o,i,a,s,l=!allVideosLoaded(t[0]),u,d,c,f;const m=[create_if_block_4,create_if_block_6],_=[];function h(T,A){return T[0].subscriptions.length===1?0:T[0].subscriptions.length>1?1:-1}~(r=h(t))&&(o=_[r]=m[r](t));let w=t[0].videos,g=[];for(let T=0;T<w.length;T+=1)g[T]=create_each_block_1$1(get_each_context_1$1(t,w,T));const E=T=>transition_out(g[T],1,1,()=>{g[T]=null});let b=l&&create_if_block_2$1(t);return{c(){e=element("div"),n=element("p"),o&&o.c(),i=space(),a=element("div");for(let T=0;T<g.length;T+=1)g[T].c();s=space(),b&&b.c(),attr(n,"class","text-center font-bold h-8 mb-1"),attr(a,"class","h-[calc(100%-2.25rem)] overflow-y-scroll y-scroll-hover overflow-x-hidden"),attr(e,"class","inline-block h-full w-screen max-w-[32rem] min-w-[22rem] bg-neutral-800 p-1 pb-4 ml-1 mr-1 rounded-2xl align-top")},m(T,A){insert(T,e,A),append(e,n),~r&&_[r].m(n,null),append(e,i),append(e,a);for(let v=0;v<g.length;v+=1)g[v].m(a,null);append(a,s),b&&b.m(a,null),d=!0,c||(f=listen(a,"wheel",stop_propagation(t[7]),{passive:!0}),c=!0)},p(T,A){t=T;let v=r;if(r=h(t),r===v?~r&&_[r].p(t,A):(o&&(group_outros(),transition_out(_[v],1,1,()=>{_[v]=null}),check_outros()),~r?(o=_[r],o?o.p(t,A):(o=_[r]=m[r](t),o.c()),transition_in(o,1),o.m(n,null)):o=null),A&1){w=t[0].videos;let I;for(I=0;I<w.length;I+=1){const y=get_each_context_1$1(t,w,I);g[I]?(g[I].p(y,A),transition_in(g[I],1)):(g[I]=create_each_block_1$1(y),g[I].c(),transition_in(g[I],1),g[I].m(a,s))}for(group_outros(),I=w.length;I<g.length;I+=1)E(I);check_outros()}A&1&&(l=!allVideosLoaded(t[0])),l?b?(b.p(t,A),A&1&&transition_in(b,1)):(b=create_if_block_2$1(t),b.c(),transition_in(b,1),b.m(a,null)):b&&(group_outros(),transition_out(b,1,1,()=>{b=null}),check_outros())},i(T){if(!d){transition_in(o);for(let A=0;A<w.length;A+=1)transition_in(g[A]);transition_in(b),u||add_render_callback(()=>{u=create_in_transition(e,fly,{x:100,easing:backOut}),u.start()}),d=!0}},o(T){transition_out(o),g=g.filter(Boolean);for(let A=0;A<g.length;A+=1)transition_out(g[A]);transition_out(b),d=!1},d(T){T&&detach(e),~r&&_[r].d(),destroy_each(g,T),b&&b.d(),c=!1,f()}}}function create_if_block$3(t){let e,n,r,o,i,a,s=t[0].name+"",l,u,d,c,f,m,_,h,w,g,E,b;o=new FaLayers({props:{size:"2x",class:"-mx-1",$$slots:{default:[create_default_slot$3]},$$scope:{ctx:t}}}),f=new Fa$1({props:{icon:faCompressAlt,translateY:.5}});let T=t[0].videos.length>0&&create_if_block_1$1(t),A=t[0].subscriptions,v=[];for(let y=0;y<A.length;y+=1)v[y]=create_each_block$2(get_each_context$2(t,A,y));const I=y=>transition_out(v[y],1,1,()=>{v[y]=null});return{c(){e=element("div"),n=element("p"),r=element("span"),create_component(o.$$.fragment),i=space(),a=element("span"),l=text(s),d=space(),c=element("span"),create_component(f.$$.fragment),m=space(),T&&T.c(),_=space(),h=element("div");for(let y=0;y<v.length;y+=1)v[y].c();attr(r,"class","inline-block h-8 align-middle"),attr(a,"class","inline-block h-8 max-w-[26rem] align-text-top truncate cursor-default"),attr(a,"title",u=t[0].name),attr(c,"class","float-left inline-block h-8 w-8 px-2 cursor-pointer"),attr(c,"title","Collapse"),attr(n,"class","font-bold h-8 mb-1"),attr(h,"class","h-[calc(100%-2.25rem)]"),attr(e,"class","inline-block h-full w-max bg-neutral-900 p-1 pb-4 ml-1 mr-1 rounded-2xl align-top")},m(y,S){insert(y,e,S),append(e,n),append(n,r),mount_component(o,r,null),append(n,i),append(n,a),append(a,l),append(n,d),append(n,c),mount_component(f,c,null),append(n,m),T&&T.m(n,null),append(e,_),append(e,h);for(let D=0;D<v.length;D+=1)v[D].m(h,null);g=!0,E||(b=listen(c,"click",t[6]),E=!0)},p(y,S){t=y;const D={};if(S&2097152&&(D.$$scope={dirty:S,ctx:t}),o.$set(D),(!g||S&1)&&s!==(s=t[0].name+"")&&set_data(l,s),(!g||S&1&&u!==(u=t[0].name))&&attr(a,"title",u),t[0].videos.length>0?T?(T.p(t,S),S&1&&transition_in(T,1)):(T=create_if_block_1$1(t),T.c(),transition_in(T,1),T.m(n,null)):T&&(group_outros(),transition_out(T,1,1,()=>{T=null}),check_outros()),S&3){A=t[0].subscriptions;let L;for(L=0;L<A.length;L+=1){const k=get_each_context$2(t,A,L);v[L]?(v[L].p(k,S),transition_in(v[L],1)):(v[L]=create_each_block$2(k),v[L].c(),transition_in(v[L],1),v[L].m(h,null))}for(group_outros(),L=A.length;L<v.length;L+=1)I(L);check_outros()}},i(y){if(!g){transition_in(o.$$.fragment,y),transition_in(f.$$.fragment,y),transition_in(T);for(let S=0;S<A.length;S+=1)transition_in(v[S]);w||add_render_callback(()=>{w=create_in_transition(e,fly,{x:100,easing:backOut}),w.start()}),g=!0}},o(y){transition_out(o.$$.fragment,y),transition_out(f.$$.fragment,y),transition_out(T),v=v.filter(Boolean);for(let S=0;S<v.length;S+=1)transition_out(v[S]);g=!1},d(y){y&&detach(e),destroy_component(o),destroy_component(f),T&&T.d(),destroy_each(v,y),E=!1,b()}}}function create_if_block_6(t){let e,n,r,o,i=t[0].name+"",a,s,l,u,d,c,f,m,_,h;n=new FaLayers({props:{size:"2x",class:"-mx-1",$$slots:{default:[create_default_slot_2$2]},$$scope:{ctx:t}}}),d=new Fa$1({props:{icon:faExpandAlt,translateY:.5}});let w=t[0].videos.length>0&&create_if_block_7(t);return{c(){e=element("span"),create_component(n.$$.fragment),r=space(),o=element("span"),a=text(i),l=space(),u=element("span"),create_component(d.$$.fragment),c=space(),w&&w.c(),f=empty(),attr(e,"class","inline-block h-8 align-middle"),attr(o,"class","inline-block h-8 max-w-[26rem] align-text-top truncate cursor-default"),attr(o,"title",s=t[0].name),attr(u,"class","float-left inline-block h-8 w-8 px-2 -mr-8 cursor-pointer"),attr(u,"title","Expand")},m(g,E){insert(g,e,E),mount_component(n,e,null),insert(g,r,E),insert(g,o,E),append(o,a),insert(g,l,E),insert(g,u,E),mount_component(d,u,null),insert(g,c,E),w&&w.m(g,E),insert(g,f,E),m=!0,_||(h=listen(u,"click",t[6]),_=!0)},p(g,E){const b={};E&2097152&&(b.$$scope={dirty:E,ctx:g}),n.$set(b),(!m||E&1)&&i!==(i=g[0].name+"")&&set_data(a,i),(!m||E&1&&s!==(s=g[0].name))&&attr(o,"title",s),g[0].videos.length>0?w?(w.p(g,E),E&1&&transition_in(w,1)):(w=create_if_block_7(g),w.c(),transition_in(w,1),w.m(f.parentNode,f)):w&&(group_outros(),transition_out(w,1,1,()=>{w=null}),check_outros())},i(g){m||(transition_in(n.$$.fragment,g),transition_in(d.$$.fragment,g),transition_in(w),m=!0)},o(g){transition_out(n.$$.fragment,g),transition_out(d.$$.fragment,g),transition_out(w),m=!1},d(g){g&&detach(e),destroy_component(n),g&&detach(r),g&&detach(o),g&&detach(l),g&&detach(u),destroy_component(d),g&&detach(c),w&&w.d(g),g&&detach(f),_=!1,h()}}}function create_if_block_4(t){let e,n,r,o,i,a=t[0].name+"",s,l,u,d,c,f,m=t[0].videos.length>0&&create_if_block_5(t);return{c(){e=element("a"),n=element("img"),o=space(),i=element("span"),s=text(a),d=space(),m&&m.c(),c=empty(),attr(n,"class","inline-block h-8 w-8 rounded-2xl align-middle"),src_url_equal(n.src,r=t[0].subscriptions[0].subscription.thumbnailUrl)||attr(n,"src",r),attr(n,"alt",""),attr(n,"loading","lazy"),attr(n,"width","88"),attr(n,"height","88"),attr(i,"class","inline-block h-8 max-w-[26rem] align-text-top truncate"),attr(i,"title",l=t[0].name),attr(e,"href",u="https://www.youtube.com/channel/"+t[0].subscriptions[0].subscription.channelId)},m(_,h){insert(_,e,h),append(e,n),append(e,o),append(e,i),append(i,s),insert(_,d,h),m&&m.m(_,h),insert(_,c,h),f=!0},p(_,h){(!f||h&1&&!src_url_equal(n.src,r=_[0].subscriptions[0].subscription.thumbnailUrl))&&attr(n,"src",r),(!f||h&1)&&a!==(a=_[0].name+"")&&set_data(s,a),(!f||h&1&&l!==(l=_[0].name))&&attr(i,"title",l),(!f||h&1&&u!==(u="https://www.youtube.com/channel/"+_[0].subscriptions[0].subscription.channelId))&&attr(e,"href",u),_[0].videos.length>0?m?(m.p(_,h),h&1&&transition_in(m,1)):(m=create_if_block_5(_),m.c(),transition_in(m,1),m.m(c.parentNode,c)):m&&(group_outros(),transition_out(m,1,1,()=>{m=null}),check_outros())},i(_){f||(transition_in(m),f=!0)},o(_){transition_out(m),f=!1},d(_){_&&detach(e),_&&detach(d),m&&m.d(_),_&&detach(c)}}}function create_default_slot_2$2(t){let e,n,r,o;return e=new Fa$1({props:{icon:faCircle,color:"rgb(82 82 82)"}}),r=new Fa$1({props:{icon:faUsers,scale:.5}}),{c(){create_component(e.$$.fragment),n=space(),create_component(r.$$.fragment)},m(i,a){mount_component(e,i,a),insert(i,n,a),mount_component(r,i,a),o=!0},p:noop,i(i){o||(transition_in(e.$$.fragment,i),transition_in(r.$$.fragment,i),o=!0)},o(i){transition_out(e.$$.fragment,i),transition_out(r.$$.fragment,i),o=!1},d(i){destroy_component(e,i),i&&detach(n),destroy_component(r,i)}}}function create_if_block_7(t){let e,n,r,o,i;return n=new Fa$1({props:{icon:faPlay,translateY:.5}}),{c(){e=element("span"),create_component(n.$$.fragment),attr(e,"class","float-right inline-block h-8 w-8 px-2 -ml-8 cursor-pointer"),attr(e,"title","Play all")},m(a,s){insert(a,e,s),mount_component(n,e,null),r=!0,o||(i=listen(e,"click",t[5]),o=!0)},p:noop,i(a){r||(transition_in(n.$$.fragment,a),r=!0)},o(a){transition_out(n.$$.fragment,a),r=!1},d(a){a&&detach(e),destroy_component(n),o=!1,i()}}}function create_if_block_5(t){let e,n,r,o,i,a;return n=new Fa$1({props:{icon:faPlay,translateY:.5}}),{c(){e=element("a"),create_component(n.$$.fragment),attr(e,"class","float-right h-8 w-8 px-2 -ml-8"),attr(e,"title","Play all"),attr(e,"href",r="https://www.youtube.com/watch?v="+t[0].videos[0].videoId+"&list="+t[0].subscriptions[0].subscription.uploadsPlaylistId)},m(s,l){insert(s,e,l),mount_component(n,e,null),o=!0,i||(a=listen(e,"click",prevent_default(t[5])),i=!0)},p(s,l){(!o||l&1&&r!==(r="https://www.youtube.com/watch?v="+s[0].videos[0].videoId+"&list="+s[0].subscriptions[0].subscription.uploadsPlaylistId))&&attr(e,"href",r)},i(s){o||(transition_in(n.$$.fragment,s),o=!0)},o(s){transition_out(n.$$.fragment,s),o=!1},d(s){s&&detach(e),destroy_component(n),i=!1,a()}}}function create_each_block_1$1(t){let e,n;return e=new VideoCard({props:{video:t[18]}}),{c(){create_component(e.$$.fragment)},m(r,o){mount_component(e,r,o),n=!0},p(r,o){const i={};o&1&&(i.video=r[18]),e.$set(i)},i(r){n||(transition_in(e.$$.fragment,r),n=!0)},o(r){transition_out(e.$$.fragment,r),n=!1},d(r){destroy_component(e,r)}}}function create_if_block_2$1(t){let e,n,r,o;const i=[create_if_block_3,create_else_block_1$1],a=[];function s(l,u){return l[3]<3?0:1}return e=s(t),n=a[e]=i[e](t),{c(){n.c(),r=empty()},m(l,u){a[e].m(l,u),insert(l,r,u),o=!0},p(l,u){let d=e;e=s(l),e===d?a[e].p(l,u):(group_outros(),transition_out(a[d],1,1,()=>{a[d]=null}),check_outros(),n=a[e],n?n.p(l,u):(n=a[e]=i[e](l),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(l){o||(transition_in(n),o=!0)},o(l){transition_out(n),o=!1},d(l){a[e].d(l),l&&detach(r)}}}function create_else_block_1$1(t){let e,n,r,o,i=errorString(t[4])+"",a,s,l,u;return l=new PrimaryButton({props:{class:"w-20 m-1",$$slots:{default:[create_default_slot_1$2]},$$scope:{ctx:t}}}),l.$on("click",t[9]),{c(){e=element("div"),n=element("p"),n.textContent="Error loading subscriptions:",r=space(),o=element("p"),a=text(i),s=space(),create_component(l.$$.fragment),attr(e,"class","w-full text-center")},m(d,c){insert(d,e,c),append(e,n),append(e,r),append(e,o),append(o,a),append(e,s),mount_component(l,e,null),u=!0},p(d,c){(!u||c&16)&&i!==(i=errorString(d[4])+"")&&set_data(a,i);const f={};c&2097152&&(f.$$scope={dirty:c,ctx:d}),l.$set(f)},i(d){u||(transition_in(l.$$.fragment,d),u=!0)},o(d){transition_out(l.$$.fragment,d),u=!1},d(d){d&&detach(e),destroy_component(l)}}}function create_if_block_3(t){let e,n,r,o,i;return n=new Spinner({}),{c(){e=element("div"),create_component(n.$$.fragment)},m(a,s){insert(a,e,s),mount_component(n,e,null),r=!0,o||(i=[action_destroyer(inview.call(null,e)),listen(e,"change",t[8])],o=!0)},p:noop,i(a){r||(transition_in(n.$$.fragment,a),r=!0)},o(a){transition_out(n.$$.fragment,a),r=!1},d(a){a&&detach(e),destroy_component(n),o=!1,run_all(i)}}}function create_default_slot_1$2(t){let e;return{c(){e=text("Retry")},m(n,r){insert(n,e,r)},d(n){n&&detach(e)}}}function create_default_slot$3(t){let e,n,r,o;return e=new Fa$1({props:{icon:faCircle,color:"rgb(82 82 82)"}}),r=new Fa$1({props:{icon:faUsers,scale:.5}}),{c(){create_component(e.$$.fragment),n=space(),create_component(r.$$.fragment)},m(i,a){mount_component(e,i,a),insert(i,n,a),mount_component(r,i,a),o=!0},p:noop,i(i){o||(transition_in(e.$$.fragment,i),transition_in(r.$$.fragment,i),o=!0)},o(i){transition_out(e.$$.fragment,i),transition_out(r.$$.fragment,i),o=!1},d(i){destroy_component(e,i),i&&detach(n),destroy_component(r,i)}}}function create_if_block_1$1(t){let e,n,r,o,i;return n=new Fa$1({props:{icon:faPlay,translateY:.5}}),{c(){e=element("span"),create_component(n.$$.fragment),attr(e,"class","float-right inline-block h-8 w-8 px-2 cursor-pointer"),attr(e,"title","Play all")},m(a,s){insert(a,e,s),mount_component(n,e,null),r=!0,o||(i=listen(e,"click",t[5]),o=!0)},p:noop,i(a){r||(transition_in(n.$$.fragment,a),r=!0)},o(a){transition_out(n.$$.fragment,a),r=!1},d(a){a&&detach(e),destroy_component(n),o=!1,i()}}}function create_each_block$2(t){let e,n;return e=new SubscriptionOverview({props:{subscriptionGroup:SubscriptionGroupChild(t[15].subscription),index:t[1]}}),{c(){create_component(e.$$.fragment)},m(r,o){mount_component(e,r,o),n=!0},p(r,o){const i={};o&1&&(i.subscriptionGroup=SubscriptionGroupChild(r[15].subscription)),o&2&&(i.index=r[1]),e.$set(i)},i(r){n||(transition_in(e.$$.fragment,r),n=!0)},o(r){transition_out(e.$$.fragment,r),n=!1},d(r){destroy_component(e,r)}}}function create_fragment$5(t){let e,n,r,o;const i=[create_if_block$3,create_else_block$3],a=[];function s(l,u){return l[0].expanded&&l[0].subscriptions.length>1?0:1}return e=s(t),n=a[e]=i[e](t),{c(){n.c(),r=empty()},m(l,u){a[e].m(l,u),insert(l,r,u),o=!0},p(l,[u]){let d=e;e=s(l),e===d?a[e].p(l,u):(group_outros(),transition_out(a[d],1,1,()=>{a[d]=null}),check_outros(),n=a[e],n?n.p(l,u):(n=a[e]=i[e](l),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(l){o||(transition_in(n),o=!0)},o(l){transition_out(n),o=!1},d(l){a[e].d(l),l&&detach(r)}}}function instance$5(t,e,n){let r,o;component_subscribe(t,settingsStore,E=>n(11,r=E)),component_subscribe(t,playerStore,E=>n(12,o=E));let{subscriptionGroup:i}=e,{index:a}=e,s=!1,l=!1,u=0,d;async function c(){i.playlist||(set_store_value(playerStore,o={loading:!0},o),await loadCustomPlaylist(i)),set_store_value(playerStore,o=i.playlist,o)}async function f(){s&&u<3&&(await m(),setTimeout(f,100))}async function m(){if(!l){l=!0;try{await loadMoreVideos(i),n(0,i),n(3,u=0)}catch(E){console.error(E),n(3,u++,u),n(4,d=E)}l=!1}}function _(){n(0,i.expanded=!i.expanded,i);const E=r;E.subscriptionGroups[a].expanded=i.expanded,writeSettings(E).then()}function h(E){bubble.call(this,t,E)}const w=E=>n(2,s=E.detail.inView),g=()=>n(3,u=0);return t.$$set=E=>{"subscriptionGroup"in E&&n(0,i=E.subscriptionGroup),"index"in E&&n(1,a=E.index)},t.$$.update=()=>{t.$$.dirty&12&&s&&u<3&&f()},[i,a,s,u,d,c,_,h,w,g]}class SubscriptionOverview extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$5,safe_not_equal,{subscriptionGroup:0,index:1})}}function is_date(t){return Object.prototype.toString.call(t)==="[object Date]"}function get_interpolator(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((o,i)=>get_interpolator(t[i],o));return o=>r.map(i=>i(o))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(is_date(t)&&is_date(e)){t=t.getTime(),e=e.getTime();const i=e-t;return a=>new Date(t+a*i)}const r=Object.keys(e),o={};return r.forEach(i=>{o[i]=get_interpolator(t[i],e[i])}),i=>{const a={};return r.forEach(s=>{a[s]=o[s](i)}),a}}if(n==="number"){const r=e-t;return o=>t+o*r}throw new Error(`Cannot interpolate ${n} values`)}function tweened(t,e={}){const n=writable(t);let r,o=t;function i(a,s){if(t==null)return n.set(t=a),Promise.resolve();o=a;let l=r,u=!1,{delay:d=0,duration:c=400,easing:f=identity,interpolate:m=get_interpolator}=assign(assign({},e),s);if(c===0)return l&&(l.abort(),l=null),n.set(t=o),Promise.resolve();const _=now()+d;let h;return r=loop$1(w=>{if(w<_)return!0;u||(h=m(t,a),typeof c=="function"&&(c=c(t,a)),u=!0),l&&(l.abort(),l=null);const g=w-_;return g>c?(n.set(t=a),!1):(n.set(t=h(f(g/c))),!0)}),r.promise}return{set:i,update:(a,s)=>i(a(o,t),s),subscribe:n.subscribe}}function create_fragment$4(t){let e,n,r,o;const i=t[4].default,a=create_slot(i,t,t[3],null);return{c(){e=element("div"),a&&a.c(),attr(e,"class","w-full h-full pb-[2px] overflow-x-scroll x-scroll")},m(s,l){insert(s,e,l),a&&a.m(e,null),t[5](e),n=!0,r||(o=[listen(e,"wheel",t[1],{passive:!0}),listen(e,"scroll",t[2])],r=!0)},p(s,[l]){a&&a.p&&(!n||l&8)&&update_slot_base(a,i,s,s[3],n?get_slot_changes(i,s[3],l,null):get_all_dirty_from_scope(s[3]),null)},i(s){n||(transition_in(a,s),n=!0)},o(s){transition_out(a,s),n=!1},d(s){s&&detach(e),a&&a.d(s),t[5](null),r=!1,run_all(o)}}}const duration$1=100;function instance$4(t,e,n){let{$$slots:r={},$$scope:o}=e,i;const a=tweened(0,{duration:duration$1});let s=!1,l;onDestroy(a.subscribe(m=>{s&&n(0,i.scrollLeft=m,i)}));function u(m){m.deltaX?(s=!1,a.update(_=>d(_+m.deltaX),{duration:0})):m.deltaY&&(s=!0,a.update(_=>d(_+m.deltaY)))}function d(m){return Math.max(0,Math.min(m,i.scrollWidth-i.clientWidth))}function c(){clearTimeout(l),l=setTimeout(()=>{s=!1,a.set(i.scrollLeft,{duration:0})},duration$1)}function f(m){binding_callbacks[m?"unshift":"push"](()=>{i=m,n(0,i)})}return t.$$set=m=>{"$$scope"in m&&n(3,o=m.$$scope)},[i,u,c,o,r,f]}class HorizontalScroll extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$4,safe_not_equal,{})}}function Settings(t=[]){return{subscriptionGroups:t.map(SubscriptionGroupSettings)}}function SubscriptionGroupSettings(t){return{name:t.name,expanded:t.expanded,subscriptionIds:t.subscriptions.map(e=>e.subscription.channelId)}}function fade(t,e){const n=()=>{t.classList.contains("fadeOut")&&t.classList.add("hidden")};t.addEventListener("transitionend",n),e.initial?t.classList.add("fadeIn"):(t.classList.add("hidden"),t.classList.add("fadeOut"));const r=i=>{i.visible?(t.classList.remove("hidden"),setTimeout(()=>t.classList.replace("fadeOut","fadeIn"))):t.classList.replace("fadeIn","fadeOut")},o=()=>{t.removeEventListener("transitionend",n)};return r(e),{update:r,destroy:o}}function get_each_context$1(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function create_catch_block$1(t){let e,n=errorString(t[13])+"",r;return{c(){e=element("p"),r=text(n),attr(e,"class","text-center")},m(o,i){insert(o,e,i),append(e,r)},p:noop,i:noop,o:noop,d(o){o&&detach(e)}}}function create_then_block$1(t){let e,n,r,o;const i=[create_if_block$2,create_else_block$2],a=[];function s(l,u){return l[0].length===0?0:1}return e=s(t),n=a[e]=i[e](t),{c(){n.c(),r=empty()},m(l,u){a[e].m(l,u),insert(l,r,u),o=!0},p(l,u){let d=e;e=s(l),e===d?a[e].p(l,u):(group_outros(),transition_out(a[d],1,1,()=>{a[d]=null}),check_outros(),n=a[e],n?n.p(l,u):(n=a[e]=i[e](l),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(l){o||(transition_in(n),o=!0)},o(l){transition_out(n),o=!1},d(l){a[e].d(l),l&&detach(r)}}}function create_else_block$2(t){let e,n,r,o,i,a;return n=new HorizontalScroll({props:{$$slots:{default:[create_default_slot_2$1]},$$scope:{ctx:t}}}),{c(){e=element("div"),create_component(n.$$.fragment),attr(e,"class","w-full h-[calc(100%-6px)]")},m(s,l){insert(s,e,l),mount_component(n,e,null),o=!0,i||(a=action_destroyer(r=fade.call(null,e,{visible:!t[1],initial:!0})),i=!0)},p(s,l){const u={};l&16385&&(u.$$scope={dirty:l,ctx:s}),n.$set(u),r&&is_function(r.update)&&l&2&&r.update.call(null,{visible:!s[1],initial:!0})},i(s){o||(transition_in(n.$$.fragment,s),o=!0)},o(s){transition_out(n.$$.fragment,s),o=!1},d(s){s&&detach(e),destroy_component(n),i=!1,a()}}}function create_if_block$2(t){let e,n;return e=new Center({props:{$$slots:{default:[create_default_slot_1$1]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},m(r,o){mount_component(e,r,o),n=!0},p(r,o){const i={};o&16384&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){n||(transition_in(e.$$.fragment,r),n=!0)},o(r){transition_out(e.$$.fragment,r),n=!1},d(r){destroy_component(e,r)}}}function create_each_block$1(t){let e,n;return e=new SubscriptionOverview({props:{subscriptionGroup:t[10],index:t[12]}}),{c(){create_component(e.$$.fragment)},m(r,o){mount_component(e,r,o),n=!0},p(r,o){const i={};o&1&&(i.subscriptionGroup=r[10]),e.$set(i)},i(r){n||(transition_in(e.$$.fragment,r),n=!0)},o(r){transition_out(e.$$.fragment,r),n=!1},d(r){destroy_component(e,r)}}}function create_default_slot_2$1(t){let e,n,r=t[0],o=[];for(let a=0;a<r.length;a+=1)o[a]=create_each_block$1(get_each_context$1(t,r,a));const i=a=>transition_out(o[a],1,1,()=>{o[a]=null});return{c(){e=element("div");for(let a=0;a<o.length;a+=1)o[a].c();attr(e,"class","w-max h-full")},m(a,s){insert(a,e,s);for(let l=0;l<o.length;l+=1)o[l].m(e,null);n=!0},p(a,s){if(s&1){r=a[0];let l;for(l=0;l<r.length;l+=1){const u=get_each_context$1(a,r,l);o[l]?(o[l].p(u,s),transition_in(o[l],1)):(o[l]=create_each_block$1(u),o[l].c(),transition_in(o[l],1),o[l].m(e,null))}for(group_outros(),l=r.length;l<o.length;l+=1)i(l);check_outros()}},i(a){if(!n){for(let s=0;s<r.length;s+=1)transition_in(o[s]);n=!0}},o(a){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)transition_out(o[s]);n=!1},d(a){a&&detach(e),destroy_each(o,a)}}}function create_default_slot_1$1(t){let e,n,r,o,i;return{c(){e=element("p"),e.textContent="No subscriptions to display",n=space(),r=element("br"),o=space(),i=element("p"),i.textContent='Click the "Edit" button to add subscriptions'},m(a,s){insert(a,e,s),insert(a,n,s),insert(a,r,s),insert(a,o,s),insert(a,i,s)},p:noop,d(a){a&&detach(e),a&&detach(n),a&&detach(r),a&&detach(o),a&&detach(i)}}}function create_pending_block$1(t){let e,n;return e=new Center({props:{$$slots:{default:[create_default_slot$2]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},m(r,o){mount_component(e,r,o),n=!0},p(r,o){const i={};o&16384&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){n||(transition_in(e.$$.fragment,r),n=!0)},o(r){transition_out(e.$$.fragment,r),n=!1},d(r){destroy_component(e,r)}}}function create_default_slot$2(t){let e,n;return e=new Spinner({}),{c(){create_component(e.$$.fragment)},m(r,o){mount_component(e,r,o),n=!0},i(r){n||(transition_in(e.$$.fragment,r),n=!0)},o(r){transition_out(e.$$.fragment,r),n=!1},d(r){destroy_component(e,r)}}}function create_fragment$3(t){let e,n,r={ctx:t,current:null,token:null,hasCatch:!0,pending:create_pending_block$1,then:create_then_block$1,catch:create_catch_block$1,value:9,error:13,blocks:[,,,]};return handle_promise(t[2](),r),{c(){e=empty(),r.block.c()},m(o,i){insert(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(o,[i]){t=o,update_await_block_branch(r,t,i)},i(o){n||(transition_in(r.block),n=!0)},o(o){for(let i=0;i<3;i+=1){const a=r.blocks[i];transition_out(a)}n=!1},d(o){o&&detach(e),r.block.d(o),r.token=null,r=null}}}function filterSettings(t,e){const n=new Map(e.items.map(r=>[r.channelId,r]));t.subscriptionGroups.forEach(r=>r.subscriptionIds=r.subscriptionIds.filter(o=>n.has(o))),t.subscriptionGroups=t.subscriptionGroups.filter(r=>r.subscriptionIds.length>0)}function instance$3(t,e,n){let r,o,i;component_subscribe(t,subscriptionsStore,f=>n(4,r=f)),component_subscribe(t,settingsStore,f=>n(5,o=f)),component_subscribe(t,editorVisible,f=>n(1,i=f));let a=!1,s;async function l(){const[f,m]=await Promise.all([d(),u()]);filterSettings(f,m),set_store_value(settingsStore,o=f,o),await c(f,m),a=!0}onDestroy(settingsStore.subscribe(f=>a&&c(f,r)));async function u(){const f=r;try{const m=await listAllSubscriptions(f==null?void 0:f.etag),_=await listAllChannels(m.items);return Subscriptions(m,_)}catch(m){if(f&&m===NOT_MODIFIED)return f;throw m}}async function d(){let f=await readSettings();return f||(f=Settings()),f}async function c(f,m){await listAllPlaylistItems(m,f),set_store_value(subscriptionsStore,r=m,r);const _=new Map(m.items.map(h=>[h.channelId,h]));n(0,s=await Promise.all(f.subscriptionGroups.map(h=>SubscriptionGroup(h.name,h.expanded,h.subscriptionIds.map(w=>_.get(w))))))}return[s,i,l]}class SubscriptionsDeck extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$3,safe_not_equal,{})}}/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var candidateSelectors=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],candidateSelector=candidateSelectors.join(","),NoElement=typeof Element=="undefined",matches=NoElement?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,getRootNode=!NoElement&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},getCandidates=function t(e,n,r){var o=Array.prototype.slice.apply(e.querySelectorAll(candidateSelector));return n&&matches.call(e,candidateSelector)&&o.unshift(e),o=o.filter(r),o},getCandidatesIteratively=function t(e,n,r){for(var o=[],i=Array.from(e);i.length;){var a=i.shift();if(a.tagName==="SLOT"){var s=a.assignedElements(),l=s.length?s:a.children,u=t(l,!0,r);r.flatten?o.push.apply(o,u):o.push({scope:a,candidates:u})}else{var d=matches.call(a,candidateSelector);d&&r.filter(a)&&(n||!e.includes(a))&&o.push(a);var c=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),f=!r.shadowRootFilter||r.shadowRootFilter(a);if(c&&f){var m=t(c===!0?a.children:c.children,!0,r);r.flatten?o.push.apply(o,m):o.push({scope:a,candidates:m})}else i.unshift.apply(i,a.children)}}return o},getTabindex=function t(e,n){return e.tabIndex<0&&(n||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},sortOrderedTabbables=function t(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},isInput=function t(e){return e.tagName==="INPUT"},isHiddenInput=function t(e){return isInput(e)&&e.type==="hidden"},isDetailsWithSummary=function t(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},getCheckedRadio=function t(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},isTabbableRadio=function t(e){if(!e.name)return!0;var n=e.form||getRootNode(e),r=function(s){return n.querySelectorAll('input[type="radio"][name="'+s+'"]')},o;if(typeof window!="undefined"&&typeof window.CSS!="undefined"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var i=getCheckedRadio(o,e.form);return!i||i===e},isRadio=function t(e){return isInput(e)&&e.type==="radio"},isNonTabbableRadio=function t(e){return isRadio(e)&&!isTabbableRadio(e)},isZeroArea=function t(e){var n=e.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},isHidden=function t(e,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=matches.call(e,"details>summary:first-of-type"),a=i?e.parentElement:e;if(matches.call(a,"details:not([open]) *"))return!0;var s=getRootNode(e).host,l=(s==null?void 0:s.ownerDocument.contains(s))||e.ownerDocument.contains(e);if(!r||r==="full"){if(typeof o=="function"){for(var u=e;e;){var d=e.parentElement,c=getRootNode(e);if(d&&!d.shadowRoot&&o(d)===!0)return isZeroArea(e);e.assignedSlot?e=e.assignedSlot:!d&&c!==e.ownerDocument?e=c.host:e=d}e=u}if(l)return!e.getClientRects().length}else if(r==="non-zero-area")return isZeroArea(e);return!1},isDisabledFromFieldset=function t(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return matches.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},isNodeMatchingSelectorFocusable=function t(e,n){return!(n.disabled||isHiddenInput(n)||isHidden(n,e)||isDetailsWithSummary(n)||isDisabledFromFieldset(n))},isNodeMatchingSelectorTabbable=function t(e,n){return!(isNonTabbableRadio(n)||getTabindex(n)<0||!isNodeMatchingSelectorFocusable(e,n))},isValidShadowRootTabbable=function t(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},sortByOrder=function t(e){var n=[],r=[];return e.forEach(function(o,i){var a=!!o.scope,s=a?o.scope:o,l=getTabindex(s,a),u=a?t(o.candidates):s;l===0?a?n.push.apply(n,u):n.push(s):r.push({documentOrder:i,tabIndex:l,item:o,isScope:a,content:u})}),r.sort(sortOrderedTabbables).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},tabbable=function t(e,n){n=n||{};var r;return n.getShadowRoot?r=getCandidatesIteratively([e],n.includeContainer,{filter:isNodeMatchingSelectorTabbable.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:isValidShadowRootTabbable}):r=getCandidates(e,n.includeContainer,isNodeMatchingSelectorTabbable.bind(null,n)),sortByOrder(r)},focusable=function t(e,n){n=n||{};var r;return n.getShadowRoot?r=getCandidatesIteratively([e],n.includeContainer,{filter:isNodeMatchingSelectorFocusable.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=getCandidates(e,n.includeContainer,isNodeMatchingSelectorFocusable.bind(null,n)),r},isTabbable=function t(e,n){if(n=n||{},!e)throw new Error("No node provided");return matches.call(e,candidateSelector)===!1?!1:isNodeMatchingSelectorTabbable(n,e)},focusableCandidateSelector=candidateSelectors.concat("iframe").join(","),isFocusable=function t(e,n){if(n=n||{},!e)throw new Error("No node provided");return matches.call(e,focusableCandidateSelector)===!1?!1:isNodeMatchingSelectorFocusable(n,e)};/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(r){_defineProperty(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var activeFocusTraps=function(){var t=[];return{activateTrap:function(n){if(t.length>0){var r=t[t.length-1];r!==n&&r.pause()}var o=t.indexOf(n);o===-1||t.splice(o,1),t.push(n)},deactivateTrap:function(n){var r=t.indexOf(n);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()}}}(),isSelectableInput=function t(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},isEscapeEvent=function t(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},isTabEvent=function t(e){return e.key==="Tab"||e.keyCode===9},delay=function t(e){return setTimeout(e,0)},findIndex=function t(e,n){var r=-1;return e.every(function(o,i){return n(o)?(r=i,!1):!0}),r},valueOrHandler=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,r):e},getActualTarget=function t(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},createFocusTrap=function t(e,n){var r=(n==null?void 0:n.document)||document,o=_objectSpread2({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},n),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a,s=function(v,I,y){return v&&v[I]!==void 0?v[I]:o[y||I]},l=function(v){return i.containerGroups.findIndex(function(I){var y=I.container,S=I.tabbableNodes;return y.contains(v)||S.find(function(D){return D===v})})},u=function(v){var I=o[v];if(typeof I=="function"){for(var y=arguments.length,S=new Array(y>1?y-1:0),D=1;D<y;D++)S[D-1]=arguments[D];I=I.apply(void 0,S)}if(I===!0&&(I=void 0),!I){if(I===void 0||I===!1)return I;throw new Error("`".concat(v,"` was specified but was not a node, or did not return a node"))}var L=I;if(typeof I=="string"&&(L=r.querySelector(I),!L))throw new Error("`".concat(v,"` as selector refers to no known node"));return L},d=function(){var v=u("initialFocus");if(v===!1)return!1;if(v===void 0)if(l(r.activeElement)>=0)v=r.activeElement;else{var I=i.tabbableGroups[0],y=I&&I.firstTabbableNode;v=y||u("fallbackFocus")}if(!v)throw new Error("Your focus-trap needs to have at least one focusable element");return v},c=function(){if(i.containerGroups=i.containers.map(function(v){var I=tabbable(v,o.tabbableOptions),y=focusable(v,o.tabbableOptions);return{container:v,tabbableNodes:I,focusableNodes:y,firstTabbableNode:I.length>0?I[0]:null,lastTabbableNode:I.length>0?I[I.length-1]:null,nextTabbableNode:function(D){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,k=y.findIndex(function(N){return N===D});if(!(k<0))return L?y.slice(k+1).find(function(N){return isTabbable(N,o.tabbableOptions)}):y.slice(0,k).reverse().find(function(N){return isTabbable(N,o.tabbableOptions)})}}}),i.tabbableGroups=i.containerGroups.filter(function(v){return v.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},f=function A(v){if(v!==!1&&v!==r.activeElement){if(!v||!v.focus){A(d());return}v.focus({preventScroll:!!o.preventScroll}),i.mostRecentlyFocusedNode=v,isSelectableInput(v)&&v.select()}},m=function(v){var I=u("setReturnFocus",v);return I||(I===!1?!1:v)},_=function(v){var I=getActualTarget(v);if(!(l(I)>=0)){if(valueOrHandler(o.clickOutsideDeactivates,v)){a.deactivate({returnFocus:o.returnFocusOnDeactivate&&!isFocusable(I,o.tabbableOptions)});return}valueOrHandler(o.allowOutsideClick,v)||v.preventDefault()}},h=function(v){var I=getActualTarget(v),y=l(I)>=0;y||I instanceof Document?y&&(i.mostRecentlyFocusedNode=I):(v.stopImmediatePropagation(),f(i.mostRecentlyFocusedNode||d()))},w=function(v){var I=getActualTarget(v);c();var y=null;if(i.tabbableGroups.length>0){var S=l(I),D=S>=0?i.containerGroups[S]:void 0;if(S<0)v.shiftKey?y=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:y=i.tabbableGroups[0].firstTabbableNode;else if(v.shiftKey){var L=findIndex(i.tabbableGroups,function(j){var x=j.firstTabbableNode;return I===x});if(L<0&&(D.container===I||isFocusable(I,o.tabbableOptions)&&!isTabbable(I,o.tabbableOptions)&&!D.nextTabbableNode(I,!1))&&(L=S),L>=0){var k=L===0?i.tabbableGroups.length-1:L-1,N=i.tabbableGroups[k];y=N.lastTabbableNode}}else{var P=findIndex(i.tabbableGroups,function(j){var x=j.lastTabbableNode;return I===x});if(P<0&&(D.container===I||isFocusable(I,o.tabbableOptions)&&!isTabbable(I,o.tabbableOptions)&&!D.nextTabbableNode(I))&&(P=S),P>=0){var z=P===i.tabbableGroups.length-1?0:P+1,M=i.tabbableGroups[z];y=M.firstTabbableNode}}}else y=u("fallbackFocus");y&&(v.preventDefault(),f(y))},g=function(v){if(isEscapeEvent(v)&&valueOrHandler(o.escapeDeactivates,v)!==!1){v.preventDefault(),a.deactivate();return}if(isTabEvent(v)){w(v);return}},E=function(v){var I=getActualTarget(v);l(I)>=0||valueOrHandler(o.clickOutsideDeactivates,v)||valueOrHandler(o.allowOutsideClick,v)||(v.preventDefault(),v.stopImmediatePropagation())},b=function(){if(!!i.active)return activeFocusTraps.activateTrap(a),i.delayInitialFocusTimer=o.delayInitialFocus?delay(function(){f(d())}):f(d()),r.addEventListener("focusin",h,!0),r.addEventListener("mousedown",_,{capture:!0,passive:!1}),r.addEventListener("touchstart",_,{capture:!0,passive:!1}),r.addEventListener("click",E,{capture:!0,passive:!1}),r.addEventListener("keydown",g,{capture:!0,passive:!1}),a},T=function(){if(!!i.active)return r.removeEventListener("focusin",h,!0),r.removeEventListener("mousedown",_,!0),r.removeEventListener("touchstart",_,!0),r.removeEventListener("click",E,!0),r.removeEventListener("keydown",g,!0),a};return a={get active(){return i.active},get paused(){return i.paused},activate:function(v){if(i.active)return this;var I=s(v,"onActivate"),y=s(v,"onPostActivate"),S=s(v,"checkCanFocusTrap");S||c(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=r.activeElement,I&&I();var D=function(){S&&c(),b(),y&&y()};return S?(S(i.containers.concat()).then(D,D),this):(D(),this)},deactivate:function(v){if(!i.active)return this;var I=_objectSpread2({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},v);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,T(),i.active=!1,i.paused=!1,activeFocusTraps.deactivateTrap(a);var y=s(I,"onDeactivate"),S=s(I,"onPostDeactivate"),D=s(I,"checkCanReturnFocus"),L=s(I,"returnFocus","returnFocusOnDeactivate");y&&y();var k=function(){delay(function(){L&&f(m(i.nodeFocusedBeforeActivation)),S&&S()})};return L&&D?(D(m(i.nodeFocusedBeforeActivation)).then(k,k),this):(k(),this)},pause:function(){return i.paused||!i.active?this:(i.paused=!0,T(),this)},unpause:function(){return!i.paused||!i.active?this:(i.paused=!1,c(),b(),this)},updateContainerElements:function(v){var I=[].concat(v).filter(Boolean);return i.containers=I.map(function(y){return typeof y=="string"?r.querySelector(y):y}),i.active&&c(),this}},a.updateContainerElements(e),a};function trapFocus(t,e){const n=createFocusTrap(t,{checkCanFocusTrap:tick,checkCanReturnFocus:tick,initialFocus:!1,allowOutsideClick:!0,escapeDeactivates:!1}),r=i=>i?n.activate():n.deactivate(),o=()=>n.deactivate();return r(e),{update:r,destroy:o}}function create_fragment$2(t){let e,n,r,o,i,a,s,l,u,d;return r=new Spinner({}),{c(){e=element("div"),n=element("div"),create_component(r.$$.fragment),o=space(),i=element("div"),i.innerHTML='<div id="player" tabindex="0"></div>',attr(n,"class","fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20"),toggle_class(n,"invisible",!t[0]||t[2]),attr(i,"class","fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-30"),toggle_class(i,"invisible",!t[0]||!t[2]),attr(e,"class","fixed inset-0 z-10 bg-black/80")},m(c,f){insert(c,e,f),append(e,n),mount_component(r,n,null),append(e,o),append(e,i),l=!0,u||(d=[listen(window,"resize",t[6]),action_destroyer(a=trapFocus.call(null,i,t[0]&&t[2])),action_destroyer(s=fade.call(null,e,{visible:t[0]&&!t[3],initial:!1})),listen(e,"click",self(t[7]))],u=!0)},p(c,[f]){f&5&&toggle_class(n,"invisible",!c[0]||c[2]),a&&is_function(a.update)&&f&5&&a.update.call(null,c[0]&&c[2]),f&5&&toggle_class(i,"invisible",!c[0]||!c[2]),s&&is_function(s.update)&&f&9&&s.update.call(null,{visible:c[0]&&!c[3],initial:!1})},i(c){l||(transition_in(r.$$.fragment,c),l=!0)},o(c){transition_out(r.$$.fragment,c),l=!1},d(c){c&&detach(e),destroy_component(r),u=!1,run_all(d)}}}function calcPlayerSize(){let t=Math.min(document.body.clientWidth,16*document.body.clientHeight/9),e=Math.min(document.body.clientHeight,9*document.body.clientWidth/16);return t>.9*document.body.clientWidth&&e>.9*document.body.clientHeight&&(t*=.9,e*=.9),[t,e]}function instance$2(t,e,n){let r;component_subscribe(t,editorVisible,f=>n(3,r=f));var o;(function(f){f[f.UNINITIALISED=0]="UNINITIALISED",f[f.INITIALISING=1]="INITIALISING",f[f.INITIALISED=2]="INITIALISED"})(o||(o={}));let i=!1,a=!1,s,l=o.UNINITIALISED;function u(f){if(l===o.UNINITIALISED){n(5,l=o.INITIALISING);const[m,_]=calcPlayerSize(),h={width:m,height:_,playerVars:{autohide:1,autoplay:1,playsinline:1},events:{onReady:()=>{console.log("playerReady"),n(5,l=o.INITIALISED),n(2,a=!0)},onStateChange:w=>{console.log("playerState",w),(w.data===YT.PlayerState.BUFFERING||w.data===YT.PlayerState.PLAYING)&&n(2,a=!0)},onError:w=>{console.error("playerError",w),s.getPlaylist()&&s.nextVideo()}}};f.videoId?h.videoId=f.videoId:f.playlistId?(h.playerVars.listType="playlist",h.playerVars.list=f.playlistId):f.customPlaylist&&(h.playerVars.playlist=f.customPlaylist.join(",")),n(1,s=new YT.Player("player",h))}else l===o.INITIALISING?setTimeout(()=>u(f),100):l===o.INITIALISED&&(f.videoId?s.loadVideoById(f.videoId):f.playlistId?s.loadPlaylist({listType:"playlist",list:f.playlistId}):f.customPlaylist&&s.loadPlaylist(f.customPlaylist))}onDestroy(playerStore.subscribe(f=>{f&&(playerStore.set(null),n(0,i=!0),f.loading||u(f))}));const d=()=>s&&s.setSize(...calcPlayerSize()),c=()=>n(0,i=!1);return t.$$.update=()=>{t.$$.dirty&1&&(i||n(2,a=!1)),t.$$.dirty&51&&l===o.INITIALISED&&!i&&s.stopVideo()},[i,s,a,r,o,l,d,c]}class Player extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{})}}function flip(t,{from:e,to:n},r={}){const o=getComputedStyle(t),i=o.transform==="none"?"":o.transform,[a,s]=o.transformOrigin.split(" ").map(parseFloat),l=e.left+e.width*a/n.width-(n.left+a),u=e.top+e.height*s/n.height-(n.top+s),{delay:d=0,duration:c=m=>Math.sqrt(m)*120,easing:f=cubicOut}=r;return{delay:d,duration:is_function(c)?c(Math.sqrt(l*l+u*u)):c,easing:f,css:(m,_)=>{const h=_*l,w=_*u,g=m+_*e.width/n.width,E=m+_*e.height/n.height;return`transform: ${i} translate(${h}px, ${w}px) scale(${g}, ${E});`}}}const FINALIZE_EVENT_NAME="finalize",CONSIDER_EVENT_NAME="consider";function dispatchFinalizeEvent(t,e,n){t.dispatchEvent(new CustomEvent(FINALIZE_EVENT_NAME,{detail:{items:e,info:n}}))}function dispatchConsiderEvent(t,e,n){t.dispatchEvent(new CustomEvent(CONSIDER_EVENT_NAME,{detail:{items:e,info:n}}))}const DRAGGED_ENTERED_EVENT_NAME="draggedEntered",DRAGGED_LEFT_EVENT_NAME="draggedLeft",DRAGGED_OVER_INDEX_EVENT_NAME="draggedOverIndex",DRAGGED_LEFT_DOCUMENT_EVENT_NAME="draggedLeftDocument",DRAGGED_LEFT_TYPES={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function dispatchDraggedElementEnteredContainer(t,e,n){t.dispatchEvent(new CustomEvent(DRAGGED_ENTERED_EVENT_NAME,{detail:{indexObj:e,draggedEl:n}}))}function dispatchDraggedElementLeftContainerForAnother(t,e,n){t.dispatchEvent(new CustomEvent(DRAGGED_LEFT_EVENT_NAME,{detail:{draggedEl:e,type:DRAGGED_LEFT_TYPES.LEFT_FOR_ANOTHER,theOtherDz:n}}))}function dispatchDraggedElementLeftContainerForNone(t,e){t.dispatchEvent(new CustomEvent(DRAGGED_LEFT_EVENT_NAME,{detail:{draggedEl:e,type:DRAGGED_LEFT_TYPES.OUTSIDE_OF_ANY}}))}function dispatchDraggedElementIsOverIndex(t,e,n){t.dispatchEvent(new CustomEvent(DRAGGED_OVER_INDEX_EVENT_NAME,{detail:{indexObj:e,draggedEl:n}}))}function dispatchDraggedLeftDocument(t){window.dispatchEvent(new CustomEvent(DRAGGED_LEFT_DOCUMENT_EVENT_NAME,{detail:{draggedEl:t}}))}const TRIGGERS={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:DRAGGED_ENTERED_EVENT_NAME,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:DRAGGED_OVER_INDEX_EVENT_NAME,DRAGGED_LEFT:DRAGGED_LEFT_EVENT_NAME,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},SOURCES={POINTER:"pointer",KEYBOARD:"keyboard"},SHADOW_ITEM_MARKER_PROPERTY_NAME="isDndShadowItem",SHADOW_ELEMENT_ATTRIBUTE_NAME="data-is-dnd-shadow-item",SHADOW_PLACEHOLDER_ITEM_ID="id:dnd-shadow-placeholder-0000",DRAGGED_ELEMENT_ID="dnd-action-dragged-el";let ITEM_ID_KEY="id",activeDndZoneCount=0;function incrementActiveDropZoneCount(){activeDndZoneCount++}function decrementActiveDropZoneCount(){if(activeDndZoneCount===0)throw new Error("Bug! trying to decrement when there are no dropzones");activeDndZoneCount--}const isOnServer=typeof window=="undefined";function getBoundingRectNoTransforms(t){let e;const n=t.getBoundingClientRect(),r=getComputedStyle(t),o=r.transform;if(o){let i,a,s,l;if(o.startsWith("matrix3d("))e=o.slice(9,-1).split(/, /),i=+e[0],a=+e[5],s=+e[12],l=+e[13];else if(o.startsWith("matrix("))e=o.slice(7,-1).split(/, /),i=+e[0],a=+e[3],s=+e[4],l=+e[5];else return n;const u=r.transformOrigin,d=n.x-s-(1-i)*parseFloat(u),c=n.y-l-(1-a)*parseFloat(u.slice(u.indexOf(" ")+1)),f=i?n.width/i:t.offsetWidth,m=a?n.height/a:t.offsetHeight;return{x:d,y:c,width:f,height:m,top:c,right:d+f,bottom:c+m,left:d}}else return n}function getAbsoluteRectNoTransforms(t){const e=getBoundingRectNoTransforms(t);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function getAbsoluteRect(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function findCenter(t){return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function calcDistance(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function isPointInsideRect(t,e){return t.y<=e.bottom&&t.y>=e.top&&t.x>=e.left&&t.x<=e.right}function findCenterOfElement(t){return findCenter(getAbsoluteRect(t))}function isCenterOfAInsideB(t,e){const n=findCenterOfElement(t),r=getAbsoluteRectNoTransforms(e);return isPointInsideRect(n,r)}function calcDistanceBetweenCenters(t,e){const n=findCenterOfElement(t),r=findCenterOfElement(e);return calcDistance(n,r)}function isElementOffDocument(t){const e=getAbsoluteRect(t);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}function calcInnerDistancesBetweenPointAndSidesOfElement(t,e){const n=getAbsoluteRect(e);return isPointInsideRect(t,n)?{top:t.y-n.top,bottom:n.bottom-t.y,left:t.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-t.x}:null}let dzToShadowIndexToRect;function resetIndexesCache(){dzToShadowIndexToRect=new Map}resetIndexesCache();function resetIndexesCacheForDz(t){dzToShadowIndexToRect.delete(t)}function cacheShadowRect(t){const e=Array.from(t.children).findIndex(n=>n.getAttribute(SHADOW_ELEMENT_ATTRIBUTE_NAME));if(e>=0)return dzToShadowIndexToRect.has(t)||dzToShadowIndexToRect.set(t,new Map),dzToShadowIndexToRect.get(t).set(e,getAbsoluteRectNoTransforms(t.children[e])),e}function findWouldBeIndex(t,e){if(!isCenterOfAInsideB(t,e))return null;const n=e.children;if(n.length===0)return{index:0,isProximityBased:!0};const r=cacheShadowRect(e);for(let a=0;a<n.length;a++)if(isCenterOfAInsideB(t,n[a])){const s=dzToShadowIndexToRect.has(e)&&dzToShadowIndexToRect.get(e).get(a);return s&&!isPointInsideRect(findCenterOfElement(t),s)?{index:r,isProximityBased:!1}:{index:a,isProximityBased:!1}}let o=Number.MAX_VALUE,i;for(let a=0;a<n.length;a++){const s=calcDistanceBetweenCenters(t,n[a]);s<o&&(o=s,i=a)}return{index:i,isProximityBased:!0}}const SCROLL_ZONE_PX=25;function makeScroller(){let t;function e(){t={directionObj:void 0,stepPx:0}}e();function n(i){const{directionObj:a,stepPx:s}=t;a&&(i.scrollBy(a.x*s,a.y*s),window.requestAnimationFrame(()=>n(i)))}function r(i){return SCROLL_ZONE_PX-i}function o(i,a){if(!a)return!1;const s=calcInnerDistancesBetweenPointAndSidesOfElement(i,a);if(s===null)return e(),!1;const l=!!t.directionObj;let[u,d]=[!1,!1];return a.scrollHeight>a.clientHeight&&(s.bottom<SCROLL_ZONE_PX?(u=!0,t.directionObj={x:0,y:1},t.stepPx=r(s.bottom)):s.top<SCROLL_ZONE_PX&&(u=!0,t.directionObj={x:0,y:-1},t.stepPx=r(s.top)),!l&&u)||a.scrollWidth>a.clientWidth&&(s.right<SCROLL_ZONE_PX?(d=!0,t.directionObj={x:1,y:0},t.stepPx=r(s.right)):s.left<SCROLL_ZONE_PX&&(d=!0,t.directionObj={x:-1,y:0},t.stepPx=r(s.left)),!l&&d)?(n(a),!0):(e(),!1)}return{scrollIfNeeded:o,resetScrolling:e}}function toString(t){return JSON.stringify(t,null,2)}function getDepth(t){if(!t)throw new Error("cannot get depth of a falsy node");return _getDepth(t,0)}function _getDepth(t,e=0){return t.parentElement?_getDepth(t.parentElement,e+1):e-1}function areObjectsShallowEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!{}.hasOwnProperty.call(e,n)||e[n]!==t[n])return!1;return!0}function areArraysShallowEqualSameOrder(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const INTERVAL_MS$1=200,TOLERANCE_PX=10,{scrollIfNeeded:scrollIfNeeded$1,resetScrolling:resetScrolling$1}=makeScroller();let next$1;function observe(t,e,n=INTERVAL_MS$1){let r,o,i=!1,a;const s=Array.from(e).sort((u,d)=>getDepth(d)-getDepth(u));function l(){const u=findCenterOfElement(t),d=scrollIfNeeded$1(u,r);if(!d&&a&&Math.abs(a.x-u.x)<TOLERANCE_PX&&Math.abs(a.y-u.y)<TOLERANCE_PX){next$1=window.setTimeout(l,n);return}if(isElementOffDocument(t)){dispatchDraggedLeftDocument(t);return}a=u;let c=!1;for(const f of s){d&&resetIndexesCacheForDz(r);const m=findWouldBeIndex(t,f);if(m===null)continue;const{index:_}=m;c=!0,f!==r?(r&&dispatchDraggedElementLeftContainerForAnother(r,t,f),dispatchDraggedElementEnteredContainer(f,m,t),r=f):_!==o&&(dispatchDraggedElementIsOverIndex(f,m,t),o=_);break}!c&&i&&r?(dispatchDraggedElementLeftContainerForNone(r,t),r=void 0,o=void 0,i=!1):i=!0,next$1=window.setTimeout(l,n)}l()}function unobserve(){clearTimeout(next$1),resetScrolling$1(),resetIndexesCache()}const INTERVAL_MS=300;let mousePosition;function updateMousePosition(t){const e=t.touches?t.touches[0]:t;mousePosition={x:e.clientX,y:e.clientY}}const{scrollIfNeeded,resetScrolling}=makeScroller();let next;function loop(){mousePosition&&scrollIfNeeded(mousePosition,document.documentElement)&&resetIndexesCache(),next=window.setTimeout(loop,INTERVAL_MS)}function armWindowScroller(){window.addEventListener("mousemove",updateMousePosition),window.addEventListener("touchmove",updateMousePosition),loop()}function disarmWindowScroller(){window.removeEventListener("mousemove",updateMousePosition),window.removeEventListener("touchmove",updateMousePosition),mousePosition=void 0,window.clearTimeout(next),resetScrolling()}function svelteNodeClone(t){const e=t.cloneNode(!0),n=[],r=t.tagName==="SELECT",o=r?[t]:[...t.querySelectorAll("select")];for(const a of o)n.push(a.value);if(o.length<=0)return e;const i=r?[e]:[...e.querySelectorAll("select")];for(let a=0;a<i.length;a++){const s=i[a],l=n[a],u=s.querySelector(`option[value="${l}"`);u&&u.setAttribute("selected",!0)}return e}const TRANSITION_DURATION_SECONDS=.2;function trs(t){return`${t} ${TRANSITION_DURATION_SECONDS}s ease`}function createDraggedElementFrom(t,e){const n=t.getBoundingClientRect(),r=svelteNodeClone(t);copyStylesFromTo(t,r),r.id=DRAGGED_ELEMENT_ID,r.style.position="fixed";let o=n.top,i=n.left;if(r.style.top=`${o}px`,r.style.left=`${i}px`,e){const a=findCenter(n);o-=a.y-e.y,i-=a.x-e.x,window.setTimeout(()=>{r.style.top=`${o}px`,r.style.left=`${i}px`},0)}return r.style.margin="0",r.style.boxSizing="border-box",r.style.height=`${n.height}px`,r.style.width=`${n.width}px`,r.style.transition=`${trs("top")}, ${trs("left")}, ${trs("background-color")}, ${trs("opacity")}, ${trs("color")} `,window.setTimeout(()=>r.style.transition+=`, ${trs("width")}, ${trs("height")}`,0),r.style.zIndex="9999",r.style.cursor="grabbing",r}function moveDraggedElementToWasDroppedState(t){t.style.cursor="grab"}function morphDraggedElementToBeLike(t,e,n,r,o){const i=e.getBoundingClientRect(),a=t.getBoundingClientRect(),s=i.width-a.width,l=i.height-a.height;if(s||l){const u={left:(n-a.left)/a.width,top:(r-a.top)/a.height};t.style.height=`${i.height}px`,t.style.width=`${i.width}px`,t.style.left=`${parseFloat(t.style.left)-u.left*s}px`,t.style.top=`${parseFloat(t.style.top)-u.top*l}px`}copyStylesFromTo(e,t),o()}function copyStylesFromTo(t,e){const n=window.getComputedStyle(t);Array.from(n).filter(r=>r.startsWith("background")||r.startsWith("padding")||r.startsWith("font")||r.startsWith("text")||r.startsWith("align")||r.startsWith("justify")||r.startsWith("display")||r.startsWith("flex")||r.startsWith("border")||r==="opacity"||r==="color"||r==="list-style-type").forEach(r=>e.style.setProperty(r,n.getPropertyValue(r),n.getPropertyPriority(r)))}function styleDraggable(t,e){t.draggable=!1,t.ondragstart=()=>!1,e?(t.style.userSelect="",t.style.WebkitUserSelect="",t.style.cursor=""):(t.style.userSelect="none",t.style.WebkitUserSelect="none",t.style.cursor="grab")}function hideElement(t){t.style.display="none",t.style.position="fixed",t.style.zIndex="-5"}function decorateShadowEl(t){t.style.visibility="hidden",t.setAttribute(SHADOW_ELEMENT_ATTRIBUTE_NAME,"true")}function unDecorateShadowElement(t){t.style.visibility="",t.removeAttribute(SHADOW_ELEMENT_ATTRIBUTE_NAME)}function styleActiveDropZones(t,e=()=>{},n=()=>[]){t.forEach(r=>{const o=e(r);Object.keys(o).forEach(i=>{r.style[i]=o[i]}),n(r).forEach(i=>r.classList.add(i))})}function styleInactiveDropZones(t,e=()=>{},n=()=>[]){t.forEach(r=>{const o=e(r);Object.keys(o).forEach(i=>{r.style[i]=""}),n(r).forEach(i=>r.classList.contains(i)&&r.classList.remove(i))})}function preventShrinking(t){const e=t.style.minHeight;t.style.minHeight=window.getComputedStyle(t).getPropertyValue("height");const n=t.style.minWidth;return t.style.minWidth=window.getComputedStyle(t).getPropertyValue("width"),function(){t.style.minHeight=e,t.style.minWidth=n}}const DEFAULT_DROP_ZONE_TYPE$1="--any--",MIN_OBSERVATION_INTERVAL_MS=100,MIN_MOVEMENT_BEFORE_DRAG_START_PX=3,DEFAULT_DROP_TARGET_STYLE$1={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let originalDragTarget,draggedEl,draggedElData,draggedElType,originDropZone,originIndex,shadowElData,shadowElDropZone,dragStartMousePosition,currentMousePosition,isWorkingOnPreviousDrag=!1,finalizingPreviousDrag=!1,unlockOriginDzMinDimensions,isDraggedOutsideOfAnyDz=!1,scheduledForRemovalAfterDrop=[];const typeToDropZones$1=new Map,dzToConfig$1=new Map,elToMouseDownListener=new WeakMap;function registerDropZone$1(t,e){typeToDropZones$1.has(e)||typeToDropZones$1.set(e,new Set),typeToDropZones$1.get(e).has(t)||(typeToDropZones$1.get(e).add(t),incrementActiveDropZoneCount())}function unregisterDropZone$1(t,e){typeToDropZones$1.get(e).delete(t),decrementActiveDropZoneCount(),typeToDropZones$1.get(e).size===0&&typeToDropZones$1.delete(e)}function watchDraggedElement(){armWindowScroller();const t=typeToDropZones$1.get(draggedElType);for(const n of t)n.addEventListener(DRAGGED_ENTERED_EVENT_NAME,handleDraggedEntered),n.addEventListener(DRAGGED_LEFT_EVENT_NAME,handleDraggedLeft),n.addEventListener(DRAGGED_OVER_INDEX_EVENT_NAME,handleDraggedIsOverIndex);window.addEventListener(DRAGGED_LEFT_DOCUMENT_EVENT_NAME,handleDrop$1);const e=Math.max(MIN_OBSERVATION_INTERVAL_MS,...Array.from(t.keys()).map(n=>dzToConfig$1.get(n).dropAnimationDurationMs));observe(draggedEl,t,e*1.07)}function unWatchDraggedElement(){disarmWindowScroller();const t=typeToDropZones$1.get(draggedElType);for(const e of t)e.removeEventListener(DRAGGED_ENTERED_EVENT_NAME,handleDraggedEntered),e.removeEventListener(DRAGGED_LEFT_EVENT_NAME,handleDraggedLeft),e.removeEventListener(DRAGGED_OVER_INDEX_EVENT_NAME,handleDraggedIsOverIndex);window.removeEventListener(DRAGGED_LEFT_DOCUMENT_EVENT_NAME,handleDrop$1),unobserve()}function findShadowPlaceHolderIdx(t){return t.findIndex(e=>e[ITEM_ID_KEY]===SHADOW_PLACEHOLDER_ITEM_ID)}function findShadowElementIdx(t){return t.findIndex(e=>!!e[SHADOW_ITEM_MARKER_PROPERTY_NAME]&&e[ITEM_ID_KEY]!==SHADOW_PLACEHOLDER_ITEM_ID)}function handleDraggedEntered(t){let{items:e,dropFromOthersDisabled:n}=dzToConfig$1.get(t.currentTarget);if(n&&t.currentTarget!==originDropZone)return;if(isDraggedOutsideOfAnyDz=!1,e=e.filter(a=>a[ITEM_ID_KEY]!==shadowElData[ITEM_ID_KEY]),originDropZone!==t.currentTarget){const s=dzToConfig$1.get(originDropZone).items.filter(l=>!l[SHADOW_ITEM_MARKER_PROPERTY_NAME]);dispatchConsiderEvent(originDropZone,s,{trigger:TRIGGERS.DRAGGED_ENTERED_ANOTHER,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER})}else{const a=findShadowPlaceHolderIdx(e);a!==-1&&e.splice(a,1)}const{index:r,isProximityBased:o}=t.detail.indexObj,i=o&&r===t.currentTarget.children.length-1?r+1:r;shadowElDropZone=t.currentTarget,e.splice(i,0,shadowElData),dispatchConsiderEvent(t.currentTarget,e,{trigger:TRIGGERS.DRAGGED_ENTERED,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER})}function handleDraggedLeft(t){if(!isWorkingOnPreviousDrag)return;const{items:e,dropFromOthersDisabled:n}=dzToConfig$1.get(t.currentTarget);if(n&&t.currentTarget!==originDropZone&&t.currentTarget!==shadowElDropZone)return;const r=findShadowElementIdx(e),o=e.splice(r,1)[0];shadowElDropZone=void 0;const{type:i,theOtherDz:a}=t.detail;if(i===DRAGGED_LEFT_TYPES.OUTSIDE_OF_ANY||i===DRAGGED_LEFT_TYPES.LEFT_FOR_ANOTHER&&a!==originDropZone&&dzToConfig$1.get(a).dropFromOthersDisabled){isDraggedOutsideOfAnyDz=!0,shadowElDropZone=originDropZone;const s=dzToConfig$1.get(originDropZone).items;s.splice(originIndex,0,o),dispatchConsiderEvent(originDropZone,s,{trigger:TRIGGERS.DRAGGED_LEFT_ALL,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER})}dispatchConsiderEvent(t.currentTarget,e,{trigger:TRIGGERS.DRAGGED_LEFT,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER})}function handleDraggedIsOverIndex(t){const{items:e,dropFromOthersDisabled:n}=dzToConfig$1.get(t.currentTarget);if(n&&t.currentTarget!==originDropZone)return;isDraggedOutsideOfAnyDz=!1;const{index:r}=t.detail.indexObj,o=findShadowElementIdx(e);e.splice(o,1),e.splice(r,0,shadowElData),dispatchConsiderEvent(t.currentTarget,e,{trigger:TRIGGERS.DRAGGED_OVER_INDEX,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER})}function handleMouseMove(t){t.preventDefault();const e=t.touches?t.touches[0]:t;currentMousePosition={x:e.clientX,y:e.clientY},draggedEl.style.transform=`translate3d(${currentMousePosition.x-dragStartMousePosition.x}px, ${currentMousePosition.y-dragStartMousePosition.y}px, 0)`}function handleDrop$1(){finalizingPreviousDrag=!0,window.removeEventListener("mousemove",handleMouseMove),window.removeEventListener("touchmove",handleMouseMove),window.removeEventListener("mouseup",handleDrop$1),window.removeEventListener("touchend",handleDrop$1),unWatchDraggedElement(),moveDraggedElementToWasDroppedState(draggedEl),shadowElDropZone||(shadowElDropZone=originDropZone);let{items:t,type:e}=dzToConfig$1.get(shadowElDropZone);styleInactiveDropZones(typeToDropZones$1.get(e),o=>dzToConfig$1.get(o).dropTargetStyle,o=>dzToConfig$1.get(o).dropTargetClasses);let n=findShadowElementIdx(t);n===-1&&(n=originIndex),t=t.map(o=>o[SHADOW_ITEM_MARKER_PROPERTY_NAME]?draggedElData:o);function r(){unlockOriginDzMinDimensions(),dispatchFinalizeEvent(shadowElDropZone,t,{trigger:isDraggedOutsideOfAnyDz?TRIGGERS.DROPPED_OUTSIDE_OF_ANY:TRIGGERS.DROPPED_INTO_ZONE,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER}),shadowElDropZone!==originDropZone&&dispatchFinalizeEvent(originDropZone,dzToConfig$1.get(originDropZone).items,{trigger:TRIGGERS.DROPPED_INTO_ANOTHER,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER}),unDecorateShadowElement(shadowElDropZone.children[n]),cleanupPostDrop()}animateDraggedToFinalPosition(n,r)}function animateDraggedToFinalPosition(t,e){const n=getBoundingRectNoTransforms(shadowElDropZone.children[t]),r={x:n.left-parseFloat(draggedEl.style.left),y:n.top-parseFloat(draggedEl.style.top)},{dropAnimationDurationMs:o}=dzToConfig$1.get(shadowElDropZone),i=`transform ${o}ms ease`;draggedEl.style.transition=draggedEl.style.transition?draggedEl.style.transition+","+i:i,draggedEl.style.transform=`translate3d(${r.x}px, ${r.y}px, 0)`,window.setTimeout(e,o)}function scheduleDZForRemovalAfterDrop(t,e){scheduledForRemovalAfterDrop.push({dz:t,destroy:e}),window.requestAnimationFrame(()=>{hideElement(t),document.body.appendChild(t)})}function cleanupPostDrop(){draggedEl.remove(),originalDragTarget.remove(),scheduledForRemovalAfterDrop.length&&(scheduledForRemovalAfterDrop.forEach(({dz:t,destroy:e})=>{e(),t.remove()}),scheduledForRemovalAfterDrop=[]),draggedEl=void 0,originalDragTarget=void 0,draggedElData=void 0,draggedElType=void 0,originDropZone=void 0,originIndex=void 0,shadowElData=void 0,shadowElDropZone=void 0,dragStartMousePosition=void 0,currentMousePosition=void 0,isWorkingOnPreviousDrag=!1,finalizingPreviousDrag=!1,unlockOriginDzMinDimensions=void 0,isDraggedOutsideOfAnyDz=!1}function dndzone$2(t,e){let n=!1;const r={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:DEFAULT_DROP_TARGET_STYLE$1,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let o=new Map;function i(){window.addEventListener("mousemove",l,{passive:!1}),window.addEventListener("touchmove",l,{passive:!1,capture:!1}),window.addEventListener("mouseup",s,{passive:!1}),window.addEventListener("touchend",s,{passive:!1})}function a(){window.removeEventListener("mousemove",l),window.removeEventListener("touchmove",l),window.removeEventListener("mouseup",s),window.removeEventListener("touchend",s)}function s(){a(),originalDragTarget=void 0,dragStartMousePosition=void 0,currentMousePosition=void 0}function l(f){f.preventDefault();const m=f.touches?f.touches[0]:f;currentMousePosition={x:m.clientX,y:m.clientY},(Math.abs(currentMousePosition.x-dragStartMousePosition.x)>=MIN_MOVEMENT_BEFORE_DRAG_START_PX||Math.abs(currentMousePosition.y-dragStartMousePosition.y)>=MIN_MOVEMENT_BEFORE_DRAG_START_PX)&&(a(),d())}function u(f){if(f.target!==f.currentTarget&&(f.target.value!==void 0||f.target.isContentEditable)||f.button||isWorkingOnPreviousDrag)return;f.stopPropagation();const m=f.touches?f.touches[0]:f;dragStartMousePosition={x:m.clientX,y:m.clientY},currentMousePosition=H({},dragStartMousePosition),originalDragTarget=f.currentTarget,i()}function d(){isWorkingOnPreviousDrag=!0;const f=o.get(originalDragTarget);originIndex=f,originDropZone=originalDragTarget.parentElement;const m=originDropZone.getRootNode(),_=m.body||m,{items:h,type:w,centreDraggedOnCursor:g}=r;draggedElData=H({},h[f]),draggedElType=w,shadowElData=de(H({},draggedElData),{[SHADOW_ITEM_MARKER_PROPERTY_NAME]:!0});const E=de(H({},shadowElData),{[ITEM_ID_KEY]:SHADOW_PLACEHOLDER_ITEM_ID});draggedEl=createDraggedElementFrom(originalDragTarget,g&&currentMousePosition);function b(){draggedEl.parentElement?window.requestAnimationFrame(b):(_.appendChild(draggedEl),draggedEl.focus(),watchDraggedElement(),hideElement(originalDragTarget),_.appendChild(originalDragTarget))}window.requestAnimationFrame(b),styleActiveDropZones(Array.from(typeToDropZones$1.get(r.type)).filter(T=>T===originDropZone||!dzToConfig$1.get(T).dropFromOthersDisabled),T=>dzToConfig$1.get(T).dropTargetStyle,T=>dzToConfig$1.get(T).dropTargetClasses),h.splice(f,1,E),unlockOriginDzMinDimensions=preventShrinking(originDropZone),dispatchConsiderEvent(originDropZone,h,{trigger:TRIGGERS.DRAG_STARTED,id:draggedElData[ITEM_ID_KEY],source:SOURCES.POINTER}),window.addEventListener("mousemove",handleMouseMove,{passive:!1}),window.addEventListener("touchmove",handleMouseMove,{passive:!1,capture:!1}),window.addEventListener("mouseup",handleDrop$1,{passive:!1}),window.addEventListener("touchend",handleDrop$1,{passive:!1})}function c({items:f=void 0,flipDurationMs:m=0,type:_=DEFAULT_DROP_ZONE_TYPE$1,dragDisabled:h=!1,morphDisabled:w=!1,dropFromOthersDisabled:g=!1,dropTargetStyle:E=DEFAULT_DROP_TARGET_STYLE$1,dropTargetClasses:b=[],transformDraggedElement:T=()=>{},centreDraggedOnCursor:A=!1}){r.dropAnimationDurationMs=m,r.type&&_!==r.type&&unregisterDropZone$1(t,r.type),r.type=_,registerDropZone$1(t,_),r.items=[...f],r.dragDisabled=h,r.morphDisabled=w,r.transformDraggedElement=T,r.centreDraggedOnCursor=A,n&&isWorkingOnPreviousDrag&&!finalizingPreviousDrag&&(!areObjectsShallowEqual(E,r.dropTargetStyle)||!areArraysShallowEqualSameOrder(b,r.dropTargetClasses))&&(styleInactiveDropZones([t],()=>r.dropTargetStyle,()=>b),styleActiveDropZones([t],()=>E,()=>b)),r.dropTargetStyle=E,r.dropTargetClasses=[...b];function v(y,S){return dzToConfig$1.get(y)?dzToConfig$1.get(y)[S]:r[S]}n&&isWorkingOnPreviousDrag&&r.dropFromOthersDisabled!==g&&(g?styleInactiveDropZones([t],y=>v(y,"dropTargetStyle"),y=>v(y,"dropTargetClasses")):styleActiveDropZones([t],y=>v(y,"dropTargetStyle"),y=>v(y,"dropTargetClasses"))),r.dropFromOthersDisabled=g,dzToConfig$1.set(t,r);const I=findShadowElementIdx(r.items);for(let y=0;y<t.children.length;y++){const S=t.children[y];if(styleDraggable(S,h),y===I){w||morphDraggedElementToBeLike(draggedEl,S,currentMousePosition.x,currentMousePosition.y,()=>r.transformDraggedElement(draggedEl,draggedElData,y)),decorateShadowEl(S);continue}S.removeEventListener("mousedown",elToMouseDownListener.get(S)),S.removeEventListener("touchstart",elToMouseDownListener.get(S)),h||(S.addEventListener("mousedown",u),S.addEventListener("touchstart",u),elToMouseDownListener.set(S,u)),o.set(S,y),n||(n=!0)}}return c(e),{update:f=>{c(f)},destroy:()=>{function f(){unregisterDropZone$1(t,dzToConfig$1.get(t).type),dzToConfig$1.delete(t)}isWorkingOnPreviousDrag?scheduleDZForRemovalAfterDrop(t,f):f()}}}const INSTRUCTION_IDs$1={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},ID_TO_INSTRUCTION={[INSTRUCTION_IDs$1.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[INSTRUCTION_IDs$1.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},ALERT_DIV_ID="dnd-action-aria-alert";let alertsDiv;function initAriaOnBrowser(){alertsDiv||(alertsDiv=document.createElement("div"),function(){alertsDiv.id=ALERT_DIV_ID,alertsDiv.style.position="fixed",alertsDiv.style.bottom="0",alertsDiv.style.left="0",alertsDiv.style.zIndex="-5",alertsDiv.style.opacity="0",alertsDiv.style.height="0",alertsDiv.style.width="0",alertsDiv.setAttribute("role","alert")}(),document.body.prepend(alertsDiv),Object.entries(ID_TO_INSTRUCTION).forEach(([t,e])=>document.body.prepend(instructionToHiddenDiv(t,e))))}function initAria(){return isOnServer?null:(document.readyState==="complete"?initAriaOnBrowser():window.addEventListener("DOMContentLoaded",initAriaOnBrowser),H({},INSTRUCTION_IDs$1))}function destroyAria(){isOnServer||!alertsDiv||(Object.keys(ID_TO_INSTRUCTION).forEach(t=>{var e;return(e=document.getElementById(t))==null?void 0:e.remove()}),alertsDiv.remove(),alertsDiv=void 0)}function instructionToHiddenDiv(t,e){const n=document.createElement("div");return n.id=t,n.innerHTML=`<p>${e}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}function alertToScreenReader(t){if(isOnServer)return;alertsDiv||initAriaOnBrowser(),alertsDiv.innerHTML="";const e=document.createTextNode(t);alertsDiv.appendChild(e),alertsDiv.style.display="none",alertsDiv.style.display="inline"}const DEFAULT_DROP_ZONE_TYPE="--any--",DEFAULT_DROP_TARGET_STYLE={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let isDragging=!1,draggedItemType,focusedDz,focusedDzLabel="",focusedItem,focusedItemId,focusedItemLabel="";const allDragTargets=new WeakSet,elToKeyDownListeners=new WeakMap,elToFocusListeners=new WeakMap,dzToHandles=new Map,dzToConfig=new Map,typeToDropZones=new Map;let INSTRUCTION_IDs;function registerDropZone(t,e){typeToDropZones.size===0&&(INSTRUCTION_IDs=initAria(),window.addEventListener("keydown",globalKeyDownHandler),window.addEventListener("click",globalClickHandler)),typeToDropZones.has(e)||typeToDropZones.set(e,new Set),typeToDropZones.get(e).has(t)||(typeToDropZones.get(e).add(t),incrementActiveDropZoneCount())}function unregisterDropZone(t,e){focusedDz===t&&handleDrop(),typeToDropZones.get(e).delete(t),decrementActiveDropZoneCount(),typeToDropZones.get(e).size===0&&typeToDropZones.delete(e),typeToDropZones.size===0&&(window.removeEventListener("keydown",globalKeyDownHandler),window.removeEventListener("click",globalClickHandler),INSTRUCTION_IDs=void 0,destroyAria())}function globalKeyDownHandler(t){if(!!isDragging)switch(t.key){case"Escape":{handleDrop();break}}}function globalClickHandler(){!isDragging||allDragTargets.has(document.activeElement)||handleDrop()}function handleZoneFocus(t){if(!isDragging)return;const e=t.currentTarget;if(e===focusedDz)return;focusedDzLabel=e.getAttribute("aria-label")||"";const{items:n}=dzToConfig.get(focusedDz),r=n.find(u=>u[ITEM_ID_KEY]===focusedItemId),o=n.indexOf(r),i=n.splice(o,1)[0],{items:a,autoAriaDisabled:s}=dzToConfig.get(e);e.getBoundingClientRect().top<focusedDz.getBoundingClientRect().top||e.getBoundingClientRect().left<focusedDz.getBoundingClientRect().left?(a.push(i),s||alertToScreenReader(`Moved item ${focusedItemLabel} to the end of the list ${focusedDzLabel}`)):(a.unshift(i),s||alertToScreenReader(`Moved item ${focusedItemLabel} to the beginning of the list ${focusedDzLabel}`)),dispatchFinalizeEvent(focusedDz,n,{trigger:TRIGGERS.DROPPED_INTO_ANOTHER,id:focusedItemId,source:SOURCES.KEYBOARD}),dispatchFinalizeEvent(e,a,{trigger:TRIGGERS.DROPPED_INTO_ZONE,id:focusedItemId,source:SOURCES.KEYBOARD}),focusedDz=e}function triggerAllDzsUpdate(){dzToHandles.forEach(({update:t},e)=>t(dzToConfig.get(e)))}function handleDrop(t=!0){dzToConfig.get(focusedDz).autoAriaDisabled||alertToScreenReader(`Stopped dragging item ${focusedItemLabel}`),allDragTargets.has(document.activeElement)&&document.activeElement.blur(),t&&dispatchConsiderEvent(focusedDz,dzToConfig.get(focusedDz).items,{trigger:TRIGGERS.DRAG_STOPPED,id:focusedItemId,source:SOURCES.KEYBOARD}),styleInactiveDropZones(typeToDropZones.get(draggedItemType),e=>dzToConfig.get(e).dropTargetStyle,e=>dzToConfig.get(e).dropTargetClasses),focusedItem=null,focusedItemId=null,focusedItemLabel="",draggedItemType=null,focusedDz=null,focusedDzLabel="",isDragging=!1,triggerAllDzsUpdate()}function dndzone$1(t,e){const n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:DEFAULT_DROP_TARGET_STYLE,dropTargetClasses:[],autoAriaDisabled:!1};function r(d,c,f){d.length<=1||d.splice(f,1,d.splice(c,1,d[f])[0])}function o(d){switch(d.key){case"Enter":case" ":{if((d.target.disabled!==void 0||d.target.href||d.target.isContentEditable)&&!allDragTargets.has(d.target))return;d.preventDefault(),d.stopPropagation(),isDragging?handleDrop():i(d);break}case"ArrowDown":case"ArrowRight":{if(!isDragging)return;d.preventDefault(),d.stopPropagation();const{items:c}=dzToConfig.get(t),f=Array.from(t.children),m=f.indexOf(d.currentTarget);m<f.length-1&&(n.autoAriaDisabled||alertToScreenReader(`Moved item ${focusedItemLabel} to position ${m+2} in the list ${focusedDzLabel}`),r(c,m,m+1),dispatchFinalizeEvent(t,c,{trigger:TRIGGERS.DROPPED_INTO_ZONE,id:focusedItemId,source:SOURCES.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!isDragging)return;d.preventDefault(),d.stopPropagation();const{items:c}=dzToConfig.get(t),m=Array.from(t.children).indexOf(d.currentTarget);m>0&&(n.autoAriaDisabled||alertToScreenReader(`Moved item ${focusedItemLabel} to position ${m} in the list ${focusedDzLabel}`),r(c,m,m-1),dispatchFinalizeEvent(t,c,{trigger:TRIGGERS.DROPPED_INTO_ZONE,id:focusedItemId,source:SOURCES.KEYBOARD}));break}}}function i(d){s(d.currentTarget),focusedDz=t,draggedItemType=n.type,isDragging=!0;const c=Array.from(typeToDropZones.get(n.type)).filter(f=>f===focusedDz||!dzToConfig.get(f).dropFromOthersDisabled);if(styleActiveDropZones(c,f=>dzToConfig.get(f).dropTargetStyle,f=>dzToConfig.get(f).dropTargetClasses),!n.autoAriaDisabled){let f=`Started dragging item ${focusedItemLabel}. Use the arrow keys to move it within its list ${focusedDzLabel}`;c.length>1&&(f+=", or tab to another list in order to move the item into it"),alertToScreenReader(f)}dispatchConsiderEvent(t,dzToConfig.get(t).items,{trigger:TRIGGERS.DRAG_STARTED,id:focusedItemId,source:SOURCES.KEYBOARD}),triggerAllDzsUpdate()}function a(d){!isDragging||d.currentTarget!==focusedItem&&(d.stopPropagation(),handleDrop(!1),i(d))}function s(d){const{items:c}=dzToConfig.get(t),f=Array.from(t.children),m=f.indexOf(d);focusedItem=d,focusedItem.tabIndex=0,focusedItemId=c[m][ITEM_ID_KEY],focusedItemLabel=f[m].getAttribute("aria-label")||""}function l({items:d=[],type:c=DEFAULT_DROP_ZONE_TYPE,dragDisabled:f=!1,zoneTabIndex:m=0,dropFromOthersDisabled:_=!1,dropTargetStyle:h=DEFAULT_DROP_TARGET_STYLE,dropTargetClasses:w=[],autoAriaDisabled:g=!1}){n.items=[...d],n.dragDisabled=f,n.dropFromOthersDisabled=_,n.zoneTabIndex=m,n.dropTargetStyle=h,n.dropTargetClasses=w,n.autoAriaDisabled=g,n.type&&c!==n.type&&unregisterDropZone(t,n.type),n.type=c,registerDropZone(t,c),g||(t.setAttribute("aria-disabled",f),t.setAttribute("role","list"),t.setAttribute("aria-describedby",f?INSTRUCTION_IDs.DND_ZONE_DRAG_DISABLED:INSTRUCTION_IDs.DND_ZONE_ACTIVE)),dzToConfig.set(t,n),isDragging?t.tabIndex=t===focusedDz||focusedItem.contains(t)||n.dropFromOthersDisabled||focusedDz&&n.type!==dzToConfig.get(focusedDz).type?-1:0:t.tabIndex=n.zoneTabIndex,t.addEventListener("focus",handleZoneFocus);for(let E=0;E<t.children.length;E++){const b=t.children[E];allDragTargets.add(b),b.tabIndex=isDragging?-1:0,g||b.setAttribute("role","listitem"),b.removeEventListener("keydown",elToKeyDownListeners.get(b)),b.removeEventListener("click",elToFocusListeners.get(b)),f||(b.addEventListener("keydown",o),elToKeyDownListeners.set(b,o),b.addEventListener("click",a),elToFocusListeners.set(b,a)),isDragging&&n.items[E][ITEM_ID_KEY]===focusedItemId&&(focusedItem=b,focusedItem.tabIndex=0,b.focus())}}l(e);const u={update:d=>{l(d)},destroy:()=>{unregisterDropZone(t,n.type),dzToConfig.delete(t),dzToHandles.delete(t)}};return dzToHandles.set(t,u),u}function dndzone(t,e){validateOptions(e);const n=dndzone$2(t,e),r=dndzone$1(t,e);return{update:o=>{validateOptions(o),n.update(o),r.update(o)},destroy:()=>{n.destroy(),r.destroy()}}}function validateOptions(t){const h=t,{items:e,flipDurationMs:n,type:r,dragDisabled:o,morphDisabled:i,dropFromOthersDisabled:a,zoneTabIndex:s,dropTargetStyle:l,dropTargetClasses:u,transformDraggedElement:d,autoAriaDisabled:c,centreDraggedOnCursor:f}=h,m=ge(h,["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor"]);if(Object.keys(m).length>0&&console.warn("dndzone will ignore unknown options",m),!e)throw new Error("no 'items' key provided to dndzone");const _=e.find(w=>!{}.hasOwnProperty.call(w,ITEM_ID_KEY));if(_)throw new Error(`missing '${ITEM_ID_KEY}' property for item ${toString(_)}`);if(u&&!Array.isArray(u))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof u}, ${toString(u)}`);if(s&&!isInt(s))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof s}, ${toString(s)}`)}function isInt(t){return!isNaN(t)&&function(e){return(e|0)===e}(parseFloat(t))}function isSubscription(t){return"subscription"in t}function isGroup(t){return"subscriptions"in t}const{Map:Map_1}=globals;function get_each_context(t,e,n){const r=t.slice();return r[55]=e[n],r[56]=e,r[57]=n,r}function get_each_context_1(t,e,n){const r=t.slice();return r[58]=e[n],r}function get_each_context_2(t,e,n){const r=t.slice();return r[55]=e[n],r}function create_default_slot_6(t){let e,n,r,o,i,a,s,l,u,d,c,f,m,_,h,w,g,E;return u=new Fa$1({props:{icon:faTimesCircle,translateY:.5}}),{c(){e=element("div"),n=element("p"),n.textContent="Deck Editor",r=space(),o=element("div"),i=element("input"),s=space(),l=element("span"),create_component(u.$$.fragment),c=space(),f=element("label"),m=element("input"),h=text(`
              Hide added subscriptions`),attr(n,"class","font-extrabold"),attr(i,"class","w-full h-8 pl-2 pr-7 pb-0.5 bg-neutral-600 rounded-2xl"),attr(i,"type","text"),attr(i,"placeholder","Search subscriptions..."),attr(i,"aria-label","Search subscriptions"),attr(i,"tabindex",a=t[7]?0:-1),attr(l,"class","absolute right-2 h-8 cursor-pointer"),attr(l,"tabindex",d=t[7]?0:-1),attr(o,"class","relative w-full h-8 m-1"),attr(m,"type","checkbox"),attr(m,"tabindex",_=t[7]?0:-1),attr(f,"class","block"),attr(e,"class","min-w-[14rem]")},m(b,T){insert(b,e,T),append(e,n),append(e,r),append(e,o),append(o,i),set_input_value(i,t[0]),append(o,s),append(o,l),mount_component(u,l,null),append(e,c),append(e,f),append(f,m),m.checked=t[2],append(f,h),w=!0,g||(E=[listen(i,"input",t[26]),listen(l,"click",t[27]),listen(l,"keydown",t[28]),listen(m,"change",t[29]),listen(m,"change",t[10])],g=!0)},p(b,T){(!w||T[0]&128&&a!==(a=b[7]?0:-1))&&attr(i,"tabindex",a),T[0]&1&&i.value!==b[0]&&set_input_value(i,b[0]),(!w||T[0]&128&&d!==(d=b[7]?0:-1))&&attr(l,"tabindex",d),(!w||T[0]&128&&_!==(_=b[7]?0:-1))&&attr(m,"tabindex",_),T[0]&4&&(m.checked=b[2])},i(b){w||(transition_in(u.$$.fragment,b),w=!0)},o(b){transition_out(u.$$.fragment,b),w=!1},d(b){b&&detach(e),destroy_component(u),g=!1,run_all(E)}}}function create_default_slot_5(t){let e;return{c(){e=text("Subscriptions")},m(n,r){insert(n,e,r)},d(n){n&&detach(e)}}}function create_each_block_2(t,e){let n,r,o,i,a,s,l,u=e[55].subscription.title+"",d,c,f,m,_,h=noop,w,g;return{key:t,first:null,c(){n=element("div"),r=element("img"),s=space(),l=element("span"),d=text(u),f=space(),attr(r,"class","inline-block h-8 w-8 rounded-2xl align-top"),src_url_equal(r.src,o=e[55].subscription.thumbnailUrl)||attr(r,"src",o),attr(r,"alt",""),attr(r,"loading","lazy"),attr(r,"width","88"),attr(r,"height","88"),attr(r,"tabindex",i=e[7]?0:-1),attr(r,"aria-label","Drag-handle"),attr(r,"style",a=e[7]?"cursor: grab":"cursor: grabbing"),attr(l,"class","inline-block w-[calc(100%-2.5rem)] h-8 pt-1 align-top truncate"),attr(l,"title",c=e[55].subscription.title),attr(n,"class","w-[calc(100%-0.5rem)] bg-neutral-700 m-1 p-0.5 rounded-2xl"),attr(n,"aria-label",m=e[55].name),this.first=n},m(E,b){insert(E,n,b),append(n,r),append(n,s),append(n,l),append(l,d),append(n,f),w||(g=[listen(r,"mousedown",e[23]),listen(r,"touchstart",e[23]),listen(r,"keydown",e[24])],w=!0)},p(E,b){e=E,b[0]&8&&!src_url_equal(r.src,o=e[55].subscription.thumbnailUrl)&&attr(r,"src",o),b[0]&128&&i!==(i=e[7]?0:-1)&&attr(r,"tabindex",i),b[0]&128&&a!==(a=e[7]?"cursor: grab":"cursor: grabbing")&&attr(r,"style",a),b[0]&8&&u!==(u=e[55].subscription.title+"")&&set_data(d,u),b[0]&8&&c!==(c=e[55].subscription.title)&&attr(l,"title",c),b[0]&8&&m!==(m=e[55].name)&&attr(n,"aria-label",m)},r(){_=n.getBoundingClientRect()},f(){fix_position(n),h()},a(){h(),h=create_animation(n,_,flip,{duration:flipDurationMs})},d(E){E&&detach(n),w=!1,run_all(g)}}}function create_default_slot_4(t){let e;return{c(){e=text("Deck")},m(n,r){insert(n,e,r)},d(n){n&&detach(e)}}}function create_else_block_1(t){let e;return{c(){e=element("div"),e.innerHTML=`<p class="w-full text-center text-neutral-300">Drag and drop subscriptions by dragging the channel image</p> 
                `,attr(e,"class","w-[calc(100%-0.5rem)] m-1")},m(n,r){insert(n,e,r)},p:noop,d(n){n&&detach(e)}}}function create_if_block_1(t){let e,n,r,o,i,a,s,l,u,d,c,f,m,_,h,w,g,E,b,T,A,v;n=new FaLayers({props:{size:"2x",class:"-mx-1",$$slots:{default:[create_default_slot_3]},$$scope:{ctx:t}}});function I(){t[32].call(a,t[56],t[57])}c=new Fa$1({props:{icon:t[55].expanded?faCompressAlt:faExpandAlt,translateY:.5}});function y(){return t[33](t[55],t[56],t[57])}function S(...N){return t[34](t[55],t[56],t[57],...N)}w=new Fa$1({props:{icon:faTimesCircle,translateY:.5}});function D(){return t[35](t[55])}function L(...N){return t[36](t[55],...N)}let k=t[55].expanded&&create_if_block_2(t);return{c(){e=element("span"),create_component(n.$$.fragment),i=space(),a=element("input"),l=space(),u=element("div"),d=element("span"),create_component(c.$$.fragment),_=space(),h=element("span"),create_component(w.$$.fragment),E=space(),k&&k.c(),b=empty(),attr(e,"class","inline-block h-8 w-8 rounded-2xl bg-neutral-600 align-top"),attr(e,"tabindex",r=t[7]?0:-1),attr(e,"aria-label","drag-handle"),attr(e,"style",o=t[7]?"cursor: grab":"cursor: grabbing"),attr(a,"class","w-[calc(100%-6rem)] h-8 px-2 pb-0.5 bg-neutral-600 align-top rounded-2xl"),attr(a,"tabindex",s=t[7]?0:-1),attr(d,"class","inline-block h-8 w-8 px-2 cursor-pointer"),attr(d,"aria-label",f=t[55].expanded?"Collapse":"Expand"),attr(d,"tabindex",m=t[7]?0:-1),attr(h,"class","inline-block float-right h-8 w-8 px-2 cursor-pointer"),attr(h,"aria-label","Remove"),attr(h,"tabindex",g=t[7]?0:-1),attr(u,"class","inline-block float-right h-8 w-16 -ml-16")},m(N,P){insert(N,e,P),mount_component(n,e,null),insert(N,i,P),insert(N,a,P),set_input_value(a,t[55].name),insert(N,l,P),insert(N,u,P),append(u,d),mount_component(c,d,null),append(u,_),append(u,h),mount_component(w,h,null),insert(N,E,P),k&&k.m(N,P),insert(N,b,P),T=!0,A||(v=[listen(e,"mousedown",t[23]),listen(e,"touchstart",t[23]),listen(e,"keydown",t[24]),listen(a,"input",I),listen(d,"click",y),listen(d,"keydown",S),listen(h,"click",D),listen(h,"keydown",L)],A=!0)},p(N,P){t=N;const z={};P[2]&2&&(z.$$scope={dirty:P,ctx:t}),n.$set(z),(!T||P[0]&128&&r!==(r=t[7]?0:-1))&&attr(e,"tabindex",r),(!T||P[0]&128&&o!==(o=t[7]?"cursor: grab":"cursor: grabbing"))&&attr(e,"style",o),(!T||P[0]&128&&s!==(s=t[7]?0:-1))&&attr(a,"tabindex",s),P[0]&16&&a.value!==t[55].name&&set_input_value(a,t[55].name);const M={};P[0]&16&&(M.icon=t[55].expanded?faCompressAlt:faExpandAlt),c.$set(M),(!T||P[0]&16&&f!==(f=t[55].expanded?"Collapse":"Expand"))&&attr(d,"aria-label",f),(!T||P[0]&128&&m!==(m=t[7]?0:-1))&&attr(d,"tabindex",m),(!T||P[0]&128&&g!==(g=t[7]?0:-1))&&attr(h,"tabindex",g),t[55].expanded?k?(k.p(t,P),P[0]&16&&transition_in(k,1)):(k=create_if_block_2(t),k.c(),transition_in(k,1),k.m(b.parentNode,b)):k&&(group_outros(),transition_out(k,1,1,()=>{k=null}),check_outros())},i(N){T||(transition_in(n.$$.fragment,N),transition_in(c.$$.fragment,N),transition_in(w.$$.fragment,N),transition_in(k),T=!0)},o(N){transition_out(n.$$.fragment,N),transition_out(c.$$.fragment,N),transition_out(w.$$.fragment,N),transition_out(k),T=!1},d(N){N&&detach(e),destroy_component(n),N&&detach(i),N&&detach(a),N&&detach(l),N&&detach(u),destroy_component(c),destroy_component(w),N&&detach(E),k&&k.d(N),N&&detach(b),A=!1,run_all(v)}}}function create_if_block$1(t){let e,n,r,o,i,a,s=t[55].subscription.title+"",l,u,d,c,f,m,_,h,w;f=new Fa$1({props:{icon:faTimesCircle,translateY:.5}});function g(){return t[30](t[55])}function E(...b){return t[31](t[55],...b)}return{c(){e=element("img"),i=space(),a=element("span"),l=text(s),d=space(),c=element("span"),create_component(f.$$.fragment),attr(e,"class","inline-block h-8 w-8 rounded-2xl align-top"),src_url_equal(e.src,n=t[55].subscription.thumbnailUrl)||attr(e,"src",n),attr(e,"alt",""),attr(e,"loading","lazy"),attr(e,"width","88"),attr(e,"height","88"),attr(e,"tabindex",r=t[7]?0:-1),attr(e,"aria-label","Drag-handle"),attr(e,"style",o=t[7]?"cursor: grab":"cursor: grabbing"),attr(a,"class","inline-block w-[calc(100%-4rem)] h-8 pt-1 align-top truncate"),attr(a,"title",u=t[55].subscription.title),attr(c,"class","inline-block float-right h-8 w-8 px-2 -ml-8 cursor-pointer"),attr(c,"aria-label","Remove"),attr(c,"tabindex",m=t[7]?0:-1)},m(b,T){insert(b,e,T),insert(b,i,T),insert(b,a,T),append(a,l),insert(b,d,T),insert(b,c,T),mount_component(f,c,null),_=!0,h||(w=[listen(e,"mousedown",t[23]),listen(e,"touchstart",t[23]),listen(e,"keydown",t[24]),listen(c,"click",g),listen(c,"keydown",E)],h=!0)},p(b,T){t=b,(!_||T[0]&16&&!src_url_equal(e.src,n=t[55].subscription.thumbnailUrl))&&attr(e,"src",n),(!_||T[0]&128&&r!==(r=t[7]?0:-1))&&attr(e,"tabindex",r),(!_||T[0]&128&&o!==(o=t[7]?"cursor: grab":"cursor: grabbing"))&&attr(e,"style",o),(!_||T[0]&16)&&s!==(s=t[55].subscription.title+"")&&set_data(l,s),(!_||T[0]&16&&u!==(u=t[55].subscription.title))&&attr(a,"title",u),(!_||T[0]&128&&m!==(m=t[7]?0:-1))&&attr(c,"tabindex",m)},i(b){_||(transition_in(f.$$.fragment,b),_=!0)},o(b){transition_out(f.$$.fragment,b),_=!1},d(b){b&&detach(e),b&&detach(i),b&&detach(a),b&&detach(d),b&&detach(c),destroy_component(f),h=!1,run_all(w)}}}function create_default_slot_3(t){let e,n,r,o;return e=new Fa$1({props:{icon:faCircle,color:"rgb(82 82 82)"}}),r=new Fa$1({props:{icon:faUsers,scale:.5}}),{c(){create_component(e.$$.fragment),n=space(),create_component(r.$$.fragment)},m(i,a){mount_component(e,i,a),insert(i,n,a),mount_component(r,i,a),o=!0},p:noop,i(i){o||(transition_in(e.$$.fragment,i),transition_in(r.$$.fragment,i),o=!0)},o(i){transition_out(e.$$.fragment,i),transition_out(r.$$.fragment,i),o=!1},d(i){destroy_component(e,i),i&&detach(n),destroy_component(r,i)}}}function create_if_block_2(t){let e,n=[],r=new Map_1,o,i,a,s,l,u=t[55].subscriptions;const d=_=>_[58].id;for(let _=0;_<u.length;_+=1){let h=get_each_context_1(t,u,_),w=d(h);r.set(w,n[_]=create_each_block_1(w,h))}let c=null;u.length||(c=create_else_block$1());function f(..._){return t[39](t[55],..._)}function m(..._){return t[40](t[55],..._)}return{c(){e=element("div");for(let _=0;_<n.length;_+=1)n[_].c();c&&c.c(),attr(e,"class","w-full bg-neutral-500 mt-1 py-0.5 rounded-2xl"),attr(e,"aria-label",o=t[55].name+" subscriptions")},m(_,h){insert(_,e,h);for(let w=0;w<n.length;w+=1)n[w].m(e,null);c&&c.m(e,null),a=!0,s||(l=[action_destroyer(i=dndzone.call(null,e,{items:t[55].subscriptions,dropFromOthersDisabled:t[6]&&t[21](t[55]),dragDisabled:t[7],flipDurationMs})),listen(e,"consider",f),listen(e,"finalize",m)],s=!0)},p(_,h){if(t=_,h[0]&29360272){u=t[55].subscriptions,group_outros();for(let w=0;w<n.length;w+=1)n[w].r();n=update_keyed_each(n,h,d,1,t,u,r,e,fix_and_outro_and_destroy_block,create_each_block_1,null,get_each_context_1);for(let w=0;w<n.length;w+=1)n[w].a();check_outros(),!u.length&&c?c.p(t,h):u.length?c&&(c.d(1),c=null):(c=create_else_block$1(),c.c(),c.m(e,null))}(!a||h[0]&16&&o!==(o=t[55].name+" subscriptions"))&&attr(e,"aria-label",o),i&&is_function(i.update)&&h[0]&208&&i.update.call(null,{items:t[55].subscriptions,dropFromOthersDisabled:t[6]&&t[21](t[55]),dragDisabled:t[7],flipDurationMs})},i(_){if(!a){for(let h=0;h<u.length;h+=1)transition_in(n[h]);a=!0}},o(_){for(let h=0;h<n.length;h+=1)transition_out(n[h]);a=!1},d(_){_&&detach(e);for(let h=0;h<n.length;h+=1)n[h].d();c&&c.d(),s=!1,run_all(l)}}}function create_else_block$1(t){let e;return{c(){e=element("div"),e.innerHTML=`<p class="w-full pt-1 text-center text-neutral-300">Drop subscriptions to add</p> 
                          `,attr(e,"class","w-[calc(100%-0.5rem)] h-8 m-1.5")},m(n,r){insert(n,e,r)},p:noop,d(n){n&&detach(e)}}}function create_each_block_1(t,e){let n,r,o,i,a,s,l,u=e[58].subscription.title+"",d,c,f,m,_,h,w,g,E,b=noop,T,A,v;_=new Fa$1({props:{icon:faTimesCircle,translateY:.5}});function I(){return e[37](e[55],e[58])}function y(...S){return e[38](e[55],e[58],...S)}return{key:t,first:null,c(){n=element("div"),r=element("img"),s=space(),l=element("span"),d=text(u),f=space(),m=element("span"),create_component(_.$$.fragment),w=space(),attr(r,"class","inline-block h-8 w-8 rounded-2xl align-top"),src_url_equal(r.src,o=e[58].subscription.thumbnailUrl)||attr(r,"src",o),attr(r,"alt",""),attr(r,"loading","lazy"),attr(r,"width","88"),attr(r,"height","88"),attr(r,"tabindex",i=e[7]?0:-1),attr(r,"aria-label","drag-handle"),attr(r,"style",a=e[7]?"cursor: grab":"cursor: grabbing"),attr(l,"class","inline-block w-[calc(100%-4rem)] h-8 pt-1 align-top truncate"),attr(l,"title",c=e[58].subscription.title),attr(m,"class","inline-block float-right h-8 w-8 px-2 -ml-8 cursor-pointer"),attr(m,"aria-label","Remove"),attr(m,"tabindex",h=e[7]?0:-1),attr(n,"class","w-[calc(100%-0.5rem)] bg-neutral-700 m-1 p-0.5 rounded-2xl"),attr(n,"aria-label",g=e[58].name),this.first=n},m(S,D){insert(S,n,D),append(n,r),append(n,s),append(n,l),append(l,d),append(n,f),append(n,m),mount_component(_,m,null),append(n,w),T=!0,A||(v=[listen(r,"mousedown",e[23]),listen(r,"touchstart",e[23]),listen(r,"keydown",e[24]),listen(m,"click",I),listen(m,"keydown",y)],A=!0)},p(S,D){e=S,(!T||D[0]&16&&!src_url_equal(r.src,o=e[58].subscription.thumbnailUrl))&&attr(r,"src",o),(!T||D[0]&128&&i!==(i=e[7]?0:-1))&&attr(r,"tabindex",i),(!T||D[0]&128&&a!==(a=e[7]?"cursor: grab":"cursor: grabbing"))&&attr(r,"style",a),(!T||D[0]&16)&&u!==(u=e[58].subscription.title+"")&&set_data(d,u),(!T||D[0]&16&&c!==(c=e[58].subscription.title))&&attr(l,"title",c),(!T||D[0]&128&&h!==(h=e[7]?0:-1))&&attr(m,"tabindex",h),(!T||D[0]&16&&g!==(g=e[58].name))&&attr(n,"aria-label",g)},r(){E=n.getBoundingClientRect()},f(){fix_position(n),b()},a(){b(),b=create_animation(n,E,flip,{duration:flipDurationMs})},i(S){T||(transition_in(_.$$.fragment,S),T=!0)},o(S){transition_out(_.$$.fragment,S),T=!1},d(S){S&&detach(n),destroy_component(_),A=!1,run_all(v)}}}function create_each_block(t,e){let n,r,o,i,a,s,l,u,d=noop,c;const f=[create_if_block$1,create_if_block_1],m=[];function _(h,w){return w[0]&16&&(r=null),w[0]&16&&(o=null),r==null&&(r=!!isSubscription(h[55])),r?0:(o==null&&(o=!!isGroup(h[55])),o?1:-1)}return~(i=_(e,[-1,-1,-1]))&&(a=m[i]=f[i](e)),{key:t,first:null,c(){n=element("div"),a&&a.c(),s=space(),attr(n,"class","w-[calc(100%-0.5rem)] bg-neutral-700 m-1 p-0.5 rounded-2xl"),attr(n,"aria-label",l=e[55].name),this.first=n},m(h,w){insert(h,n,w),~i&&m[i].m(n,null),append(n,s),c=!0},p(h,w){e=h;let g=i;i=_(e,w),i===g?~i&&m[i].p(e,w):(a&&(group_outros(),transition_out(m[g],1,1,()=>{m[g]=null}),check_outros()),~i?(a=m[i],a?a.p(e,w):(a=m[i]=f[i](e),a.c()),transition_in(a,1),a.m(n,s)):a=null),(!c||w[0]&16&&l!==(l=e[55].name))&&attr(n,"aria-label",l)},r(){u=n.getBoundingClientRect()},f(){fix_position(n),d()},a(){d(),d=create_animation(n,u,flip,{duration:flipDurationMs})},i(h){c||(transition_in(a),c=!0)},o(h){transition_out(a),c=!1},d(h){h&&detach(n),~i&&m[i].d()}}}function create_default_slot_2(t){let e;return{c(){e=text("Close")},m(n,r){insert(n,e,r)},d(n){n&&detach(e)}}}function create_default_slot_1(t){let e;return{c(){e=text("Add group")},m(n,r){insert(n,e,r)},d(n){n&&detach(e)}}}function create_default_slot$1(t){let e;return{c(){e=text("Save")},m(n,r){insert(n,e,r)},d(n){n&&detach(e)}}}function create_fragment$1(t){let e,n,r,o,i,a,s,l,u,d,c,f,m,_=[],h=new Map_1,w,g,E,b,T,A,v,I,y=[],S=new Map_1,D,L,k,N,P,z,M,j,x,K,Z,W,J,V,Q,ie;i=new Center({props:{$$slots:{default:[create_default_slot_6]},$$scope:{ctx:t}}}),d=new Center({props:{$$slots:{default:[create_default_slot_5]},$$scope:{ctx:t}}});let ee=t[3];const ae=O=>O[55].id;for(let O=0;O<ee.length;O+=1){let F=get_each_context_2(t,ee,O),G=ae(F);h.set(G,_[O]=create_each_block_2(G,F))}T=new Center({props:{$$slots:{default:[create_default_slot_4]},$$scope:{ctx:t}}});let X=t[4];const se=O=>O[55].id;for(let O=0;O<X.length;O+=1){let F=get_each_context(t,X,O),G=se(F);S.set(G,y[O]=create_each_block(G,F))}let Y=null;return X.length||(Y=create_else_block_1()),N=new PrimaryButton({props:{class:"w-20 m-1 float-left",tabindex:t[7]?0:-1,$$slots:{default:[create_default_slot_2]},$$scope:{ctx:t}}}),N.$on("click",t[9]),x=new PrimaryButton({props:{class:"w-24 rounded-l-none",tabindex:t[7]?0:-1,$$slots:{default:[create_default_slot_1]},$$scope:{ctx:t}}}),x.$on("click",t[11]),Z=new PrimaryButton({props:{class:"w-20 m-1 float-right",tabindex:t[7]?0:-1,$$slots:{default:[create_default_slot$1]},$$scope:{ctx:t}}}),Z.$on("click",t[12]),{c(){e=element("div"),n=element("div"),r=element("div"),o=element("div"),create_component(i.$$.fragment),a=space(),s=element("div"),l=element("div"),u=element("div"),create_component(d.$$.fragment),c=space(),f=element("div"),m=element("div");for(let O=0;O<_.length;O+=1)_[O].c();g=space(),E=element("div"),b=element("div"),create_component(T.$$.fragment),A=space(),v=element("div"),I=element("div");for(let O=0;O<y.length;O+=1)y[O].c();Y&&Y.c(),L=space(),k=element("div"),create_component(N.$$.fragment),P=space(),z=element("div"),M=element("input"),create_component(x.$$.fragment),K=space(),create_component(Z.$$.fragment),attr(o,"class","w-full h-24"),attr(u,"class","w-full h-6"),attr(m,"class","w-[calc(100%-4px)] h-max min-h-[calc(100%-0.5rem)] mx-[2px] rounded-xl"),attr(m,"aria-label","Subscriptions"),attr(f,"class","w-full h-[calc(100%-2rem)] overflow-y-auto y-scroll mb-2"),attr(l,"class","inline-block w-[calc(50%-0.65rem)] min-w-[9.5rem] h-[calc(100%-0.5rem)] m-1 bg-neutral-800 rounded-xl"),attr(b,"class","w-full h-6"),attr(I,"class","w-[calc(100%-4px)] h-max min-h-[calc(100%-0.5rem)] mx-[2px] rounded-xl"),attr(I,"aria-label","Deck"),attr(v,"class","w-full h-[calc(100%-2rem)] overflow-y-auto y-scroll mb-2"),attr(E,"class","inline-block w-[calc(50%-0.65rem)] min-w-[9.5rem] h-[calc(100%-0.5rem)] m-1 bg-neutral-800 rounded-xl"),attr(s,"class","w-full h-[calc(100%-9rem)]"),attr(M,"type","text"),attr(M,"class","w-[calc(100%-6rem)] bg-neutral-800 p-1.5 rounded-l-2xl"),attr(M,"tabindex",j=t[7]?0:-1),attr(z,"class","inline-block w-[calc(100%-11.5rem)] m-1"),attr(k,"class","w-full h-12"),attr(r,"class","min-w-[20.5rem] w-full h-full"),attr(n,"class","absolute inset-y-0 left-1/2 -translate-x-1/2 w-full max-w-[40rem] bg-neutral-700 rounded-2xl overflow-x-auto x-scroll"),attr(e,"class","fixed inset-0 z-10 bg-black/80")},m(O,F){insert(O,e,F),append(e,n),append(n,r),append(r,o),mount_component(i,o,null),append(r,a),append(r,s),append(s,l),append(l,u),mount_component(d,u,null),append(l,c),append(l,f),append(f,m);for(let G=0;G<_.length;G+=1)_[G].m(m,null);append(s,g),append(s,E),append(E,b),mount_component(T,b,null),append(E,A),append(E,v),append(v,I);for(let G=0;G<y.length;G+=1)y[G].m(I,null);Y&&Y.m(I,null),t[41](v),append(r,L),append(r,k),mount_component(N,k,null),append(k,P),append(k,z),append(z,M),set_input_value(M,t[5]),mount_component(x,z,null),append(k,K),mount_component(Z,k,null),V=!0,Q||(ie=[action_destroyer(w=dndzone.call(null,m,{items:t[3],dropFromOthersDisabled:!0,dragDisabled:t[7],flipDurationMs})),listen(m,"consider",t[13]),listen(m,"finalize",t[14]),action_destroyer(D=dndzone.call(null,I,{items:t[4],dropFromOthersDisabled:t[6]&&t[17](),dragDisabled:t[7],flipDurationMs})),listen(I,"consider",t[15]),listen(I,"finalize",t[16]),listen(v,"scroll",t[25]),listen(M,"input",t[42]),action_destroyer(W=fade.call(null,e,{visible:t[1],initial:!1})),action_destroyer(J=trapFocus.call(null,e,t[1]))],Q=!0)},p(O,F){const G={};F[0]&133|F[2]&2&&(G.$$scope={dirty:F,ctx:O}),i.$set(G);const le={};if(F[2]&2&&(le.$$scope={dirty:F,ctx:O}),d.$set(le),F[0]&25165960){ee=O[3];for(let q=0;q<_.length;q+=1)_[q].r();_=update_keyed_each(_,F,ae,1,O,ee,h,m,fix_and_destroy_block,create_each_block_2,null,get_each_context_2);for(let q=0;q<_.length;q+=1)_[q].a()}w&&is_function(w.update)&&F[0]&136&&w.update.call(null,{items:O[3],dropFromOthersDisabled:!0,dragDisabled:O[7],flipDurationMs});const ue={};if(F[2]&2&&(ue.$$scope={dirty:F,ctx:O}),T.$set(ue),F[0]&33292496){X=O[4],group_outros();for(let q=0;q<y.length;q+=1)y[q].r();y=update_keyed_each(y,F,se,1,O,X,S,I,fix_and_outro_and_destroy_block,create_each_block,null,get_each_context);for(let q=0;q<y.length;q+=1)y[q].a();check_outros(),!X.length&&Y?Y.p(O,F):X.length?Y&&(Y.d(1),Y=null):(Y=create_else_block_1(),Y.c(),Y.m(I,null))}D&&is_function(D.update)&&F[0]&208&&D.update.call(null,{items:O[4],dropFromOthersDisabled:O[6]&&O[17](),dragDisabled:O[7],flipDurationMs});const ne={};F[0]&128&&(ne.tabindex=O[7]?0:-1),F[2]&2&&(ne.$$scope={dirty:F,ctx:O}),N.$set(ne),(!V||F[0]&128&&j!==(j=O[7]?0:-1))&&attr(M,"tabindex",j),F[0]&32&&M.value!==O[5]&&set_input_value(M,O[5]);const re={};F[0]&128&&(re.tabindex=O[7]?0:-1),F[2]&2&&(re.$$scope={dirty:F,ctx:O}),x.$set(re);const oe={};F[0]&128&&(oe.tabindex=O[7]?0:-1),F[2]&2&&(oe.$$scope={dirty:F,ctx:O}),Z.$set(oe),W&&is_function(W.update)&&F[0]&2&&W.update.call(null,{visible:O[1],initial:!1}),J&&is_function(J.update)&&F[0]&2&&J.update.call(null,O[1])},i(O){if(!V){transition_in(i.$$.fragment,O),transition_in(d.$$.fragment,O),transition_in(T.$$.fragment,O);for(let F=0;F<X.length;F+=1)transition_in(y[F]);transition_in(N.$$.fragment,O),transition_in(x.$$.fragment,O),transition_in(Z.$$.fragment,O),V=!0}},o(O){transition_out(i.$$.fragment,O),transition_out(d.$$.fragment,O),transition_out(T.$$.fragment,O);for(let F=0;F<y.length;F+=1)transition_out(y[F]);transition_out(N.$$.fragment,O),transition_out(x.$$.fragment,O),transition_out(Z.$$.fragment,O),V=!1},d(O){O&&detach(e),destroy_component(i),destroy_component(d);for(let F=0;F<_.length;F+=1)_[F].d();destroy_component(T);for(let F=0;F<y.length;F+=1)y[F].d();Y&&Y.d(),t[41](null),destroy_component(N),destroy_component(x),destroy_component(Z),Q=!1,run_all(ie)}}}const flipDurationMs=300,scrollOffset=32,duration=100;function keyClick(t){return t.key==="Enter"||t.key===" "}function instance$1(t,e,n){let r,o,i;component_subscribe(t,editorVisible,R=>n(1,r=R)),component_subscribe(t,settingsStore,R=>n(48,o=R)),component_subscribe(t,subscriptionsStore,R=>n(49,i=R));function a(){set_store_value(editorVisible,r=!1,r)}let s=0,l=[],u=!0,d=[],c=[],f="",m="";function _(){if(u){const R=new Set(c.flatMap(C=>isGroup(C)?C.subscriptions.map(U=>U.subscription.channelId):[C.subscription.channelId]));n(3,d=l.filter(C=>!R.has(C.subscription.channelId)))}else n(3,d=l);n(0,f=f.trim()),f.length>0&&n(3,d=d.filter(R=>R.name.toLowerCase().includes(f.toLowerCase())))}function h(){m!==""&&(c.push({id:s++,name:m,expanded:!0,subscriptions:[]}),n(5,m=""),n(4,c))}function w(){const R=i.items,C=o.subscriptionGroups;s=0,l=R.map(B=>({id:s++,name:B.title,subscription:B}));const U=new Map(R.map(B=>[B.channelId,B]));n(4,c=C.map(B=>{const te=B.subscriptionIds.map(ce=>U.get(ce));return te.length===1&&B.name===te[0].title?{id:s++,name:B.name,subscription:te[0]}:{id:s++,name:B.name,expanded:B.expanded,subscriptions:te.map(ce=>({id:s++,name:ce.title,subscription:ce}))}})),_()}async function g(R){const C=R.target;C.disabled=!0;const U=o;U.subscriptionGroups=c.map(B=>({name:B.name,expanded:isGroup(B)&&B.expanded,subscriptionIds:isGroup(B)?B.subscriptions.map(te=>te.subscription.channelId):[B.subscription.channelId]})),set_store_value(settingsStore,o=U,o),await writeSettings(U),set_store_value(editorVisible,r=!1,r),C.disabled=!1}let E,b=!0;function T(R){if(R.detail.info.source===SOURCES.POINTER&&R.detail.info.trigger===TRIGGERS.DRAG_STARTED){const C=l.findIndex(U=>U.id==R.detail.info.id);n(6,E=l[C]),l[C]=de(H({},E),{id:s++}),_(),W()}else R.detail.info.source===SOURCES.KEYBOARD&&R.detail.info.trigger===TRIGGERS.DRAG_STOPPED&&n(7,b=!0),n(3,d)}function A(R){R.detail.info.source===SOURCES.POINTER&&n(7,b=!0),n(3,d)}function v(R){R.detail.info.trigger===TRIGGERS.DRAG_STARTED?(n(6,E=c.find(C=>C.id==R.detail.info.id)),W()):R.detail.info.source===SOURCES.KEYBOARD&&R.detail.info.trigger===TRIGGERS.DRAG_STOPPED&&n(7,b=!0),n(4,c=R.detail.items)}function I(R){R.detail.info.source===SOURCES.POINTER&&n(7,b=!0),n(4,c=R.detail.items),_()}function y(){if(isSubscription(E)){const R=E.subscription.channelId;return c.some(C=>!C[SHADOW_ITEM_MARKER_PROPERTY_NAME]&&isSubscription(C)&&C.subscription.channelId===R)}else return!1}function S(R){n(4,c=c.filter(C=>C.id!==R.id)),_()}function D(R,C){C.detail.info.trigger===TRIGGERS.DRAG_STARTED?(n(6,E=R.subscriptions.find(U=>U.id==C.detail.info.id)),W()):C.detail.info.source===SOURCES.KEYBOARD&&C.detail.info.trigger===TRIGGERS.DRAG_STOPPED&&n(7,b=!0),R.subscriptions=C.detail.items,n(4,c)}function L(R,C){C.detail.info.source===SOURCES.POINTER&&n(7,b=!0),R.subscriptions=C.detail.items,n(4,c),_()}function k(R){if(isSubscription(E)){const C=E.subscription.channelId;return R.subscriptions.some(U=>!U[SHADOW_ITEM_MARKER_PROPERTY_NAME]&&U.subscription.channelId===C)}else return!0}function N(R,C){R.subscriptions=R.subscriptions.filter(U=>U.id!==C.id),n(4,c),_()}function P(R){R.preventDefault(),n(7,b=!1)}function z(R){keyClick(R)&&b&&n(7,b=!1)}let M,j;const x=tweened(0,{duration:2*duration});let K,Z;onDestroy(x.subscribe(R=>M&&n(8,M.scrollTop=R,M)));function W(){K||(j=M.getBoundingClientRect(),K=setInterval(J,duration))}function J(){const R=document.getElementById("dnd-action-dragged-el");if(R){const C=parseFloat(R.style.top.slice(0,-2))+parseFloat(R.style.transform.split(", ")[1].slice(0,-2)),U=C+parseFloat(R.style.height.slice(0,-2));U+scrollOffset>=j.bottom?x.update(B=>V(B+U+scrollOffset-j.bottom)):C-scrollOffset<=j.top&&x.update(B=>V(B+C-scrollOffset-j.top))}else clearInterval(K),K=null}function V(R){return Math.max(0,Math.min(R,M.scrollHeight-M.clientHeight))}function Q(){clearTimeout(Z),Z=setTimeout(()=>{x.set(M.scrollTop,{duration:0})},duration)}function ie(){f=this.value,n(0,f)}const ee=()=>n(0,f=""),ae=R=>keyClick(R)&&n(0,f="");function X(){u=this.checked,n(2,u)}const se=R=>S(R),Y=(R,C)=>keyClick(C)&&S(R);function O(R,C){R[C].name=this.value,n(4,c)}const F=(R,C,U)=>n(4,C[U].expanded=!R.expanded,c),G=(R,C,U,B)=>keyClick(B)&&n(4,C[U].expanded=!R.expanded,c),le=R=>S(R),ue=(R,C)=>keyClick(C)&&S(R),ne=(R,C)=>N(R,C),re=(R,C,U)=>keyClick(U)&&N(R,C),oe=(R,C)=>D(R,C),q=(R,C)=>L(R,C);function he(R){binding_callbacks[R?"unshift":"push"](()=>{M=R,n(8,M)})}function be(){m=this.value,n(5,m)}return t.$$.update=()=>{t.$$.dirty[0]&2&&r&&w(),t.$$.dirty[0]&1&&f&&_()},[f,r,u,d,c,m,E,b,M,a,_,h,g,T,A,v,I,y,S,D,L,k,N,P,z,Q,ie,ee,ae,X,se,Y,O,F,G,le,ue,ne,re,oe,q,he,be]}class SubscriptionsEditor extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{},null,[-1,-1,-1])}}function create_catch_block(t){let e,n=errorString(t[5])+"",r;return{c(){e=element("p"),r=text(n),attr(e,"class","text-center")},m(o,i){insert(o,e,i),append(e,r)},p:noop,i:noop,o:noop,d(o){o&&detach(e)}}}function create_then_block(t){let e,n,r,o;const i=[create_if_block,create_else_block],a=[];function s(l,u){return l[1]?0:1}return e=s(t),n=a[e]=i[e](t),{c(){n.c(),r=empty()},m(l,u){a[e].m(l,u),insert(l,r,u),o=!0},p(l,u){let d=e;e=s(l),e===d?a[e].p(l,u):(group_outros(),transition_out(a[d],1,1,()=>{a[d]=null}),check_outros(),n=a[e],n?n.p(l,u):(n=a[e]=i[e](l),n.c()),transition_in(n,1),n.m(r.parentNode,r))},i(l){o||(transition_in(n),o=!0)},o(l){transition_out(n),o=!1},d(l){a[e].d(l),l&&detach(r)}}}function create_else_block(t){let e,n;return e=new LoginScreen({props:{isSignedIn:t[0]}}),{c(){create_component(e.$$.fragment)},m(r,o){mount_component(e,r,o),n=!0},p(r,o){const i={};o&1&&(i.isSignedIn=r[0]),e.$set(i)},i(r){n||(transition_in(e.$$.fragment,r),n=!0)},o(r){transition_out(e.$$.fragment,r),n=!1},d(r){destroy_component(e,r)}}}function create_if_block(t){let e,n,r,o,i,a;return e=new SubscriptionsDeck({}),r=new Player({}),i=new SubscriptionsEditor({}),{c(){create_component(e.$$.fragment),n=space(),create_component(r.$$.fragment),o=space(),create_component(i.$$.fragment)},m(s,l){mount_component(e,s,l),insert(s,n,l),mount_component(r,s,l),insert(s,o,l),mount_component(i,s,l),a=!0},p:noop,i(s){a||(transition_in(e.$$.fragment,s),transition_in(r.$$.fragment,s),transition_in(i.$$.fragment,s),a=!0)},o(s){transition_out(e.$$.fragment,s),transition_out(r.$$.fragment,s),transition_out(i.$$.fragment,s),a=!1},d(s){destroy_component(e,s),s&&detach(n),destroy_component(r,s),s&&detach(o),destroy_component(i,s)}}}function create_pending_block(t){let e,n;return e=new Center({props:{$$slots:{default:[create_default_slot]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},m(r,o){mount_component(e,r,o),n=!0},p(r,o){const i={};o&64&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){n||(transition_in(e.$$.fragment,r),n=!0)},o(r){transition_out(e.$$.fragment,r),n=!1},d(r){destroy_component(e,r)}}}function create_default_slot(t){let e,n;return e=new Spinner({}),{c(){create_component(e.$$.fragment)},m(r,o){mount_component(e,r,o),n=!0},i(r){n||(transition_in(e.$$.fragment,r),n=!0)},o(r){transition_out(e.$$.fragment,r),n=!1},d(r){destroy_component(e,r)}}}function create_fragment(t){let e,n,r,o,i,a;r=new Header({props:{isSignedIn:t[0],isAuthorized:t[1]}});let s={ctx:t,current:null,token:null,hasCatch:!0,pending:create_pending_block,then:create_then_block,catch:create_catch_block,value:4,error:5,blocks:[,,,]};return handle_promise(t[2](),s),{c(){e=element("main"),n=element("div"),create_component(r.$$.fragment),o=space(),i=element("section"),s.block.c(),attr(i,"class","w-full h-[calc(100%-3rem)]"),attr(n,"class","w-full h-full min-w-[22rem]"),attr(e,"class","w-full h-full overflow-x-auto x-scroll bg-neutral-700 text-white")},m(l,u){insert(l,e,u),append(e,n),mount_component(r,n,null),append(n,o),append(n,i),s.block.m(i,s.anchor=null),s.mount=()=>i,s.anchor=null,a=!0},p(l,[u]){t=l;const d={};u&1&&(d.isSignedIn=t[0]),u&2&&(d.isAuthorized=t[1]),r.$set(d),update_await_block_branch(s,t,u)},i(l){a||(transition_in(r.$$.fragment,l),transition_in(s.block),a=!0)},o(l){transition_out(r.$$.fragment,l);for(let u=0;u<3;u+=1){const d=s.blocks[u];transition_out(d)}a=!1},d(l){l&&detach(e),destroy_component(r),s.block.d(),s.token=null,s=null}}}const scope="https://www.googleapis.com/auth/youtube.readonly https://www.googleapis.com/auth/drive.appdata";function instance(t,e,n){let r,o;function i(){return new Promise((s,l)=>{gapi.load("client:auth2",()=>a().then(()=>s()).catch(u=>l(u)))})}async function a(){await gapi.client.init({apiKey:"AIzaSyBAHcJ9fPTrCjDExl1NZkF4fZd15fICEFI",clientId:"789354109817-qrqoqtfj1k3gvs01gufrpqlv38g0bi9p.apps.googleusercontent.com",scope});const s=gapi.auth2.getAuthInstance();n(0,r=s.isSignedIn.get()),s.isSignedIn.listen(l=>n(0,r=l)),n(1,o=s.currentUser.get().hasGrantedScopes(scope)),s.currentUser.listen(l=>n(1,o=l.hasGrantedScopes(scope)))}return[r,o,i]}class App extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,not_equal,{})}}var index=(()=>`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input:-ms-input-placeholder,textarea:-ms-input-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::-webkit-backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.visible{visibility:visible}.invisible{visibility:hidden}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{top:0px;right:0px;bottom:0px;left:0px}.inset-y-0{top:0px;bottom:0px}.top-1\\/2{top:50%}.left-1\\/2{left:50%}.right-2{right:.5rem}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.float-right{float:right}.float-left{float:left}.m-1{margin:.25rem}.m-1\\.5{margin:.375rem}.m-2{margin:.5rem}.-mx-1{margin-left:-.25rem;margin-right:-.25rem}.mx-\\[2px\\]{margin-left:2px;margin-right:2px}.ml-1{margin-left:.25rem}.mr-1{margin-right:.25rem}.mb-1{margin-bottom:.25rem}.-ml-8{margin-left:-2rem}.-mr-8{margin-right:-2rem}.mb-2{margin-bottom:.5rem}.-ml-16{margin-left:-4rem}.mt-1{margin-top:.25rem}.block{display:block}.inline-block{display:inline-block}.hidden{display:none}.h-full{height:100%}.h-\\[calc\\(100\\%-3rem\\)\\]{height:calc(100% - 3rem)}.h-12{height:3rem}.h-8{height:2rem}.h-\\[calc\\(100\\%-2\\.25rem\\)\\]{height:calc(100% - 2.25rem)}.h-\\[calc\\(100\\%-6px\\)\\]{height:calc(100% - 6px)}.h-24{height:6rem}.h-\\[calc\\(100\\%-9rem\\)\\]{height:calc(100% - 9rem)}.h-\\[calc\\(100\\%-0\\.5rem\\)\\]{height:calc(100% - .5rem)}.h-6{height:1.5rem}.h-\\[calc\\(100\\%-2rem\\)\\]{height:calc(100% - 2rem)}.h-max{height:-webkit-max-content;height:-moz-max-content;height:max-content}.min-h-\\[calc\\(100\\%-0\\.5rem\\)\\]{min-height:calc(100% - .5rem)}.w-full{width:100%}.w-20{width:5rem}.w-max{width:-webkit-max-content;width:-moz-max-content;width:max-content}.w-8{width:2rem}.w-screen{width:100vw}.w-\\[calc\\(50\\%-0\\.65rem\\)\\]{width:calc(50% - .65rem)}.w-\\[calc\\(100\\%-4px\\)\\]{width:calc(100% - 4px)}.w-\\[calc\\(100\\%-0\\.5rem\\)\\]{width:calc(100% - .5rem)}.w-\\[calc\\(100\\%-2\\.5rem\\)\\]{width:calc(100% - 2.5rem)}.w-\\[calc\\(100\\%-4rem\\)\\]{width:calc(100% - 4rem)}.w-\\[calc\\(100\\%-6rem\\)\\]{width:calc(100% - 6rem)}.w-16{width:4rem}.w-\\[calc\\(100\\%-11\\.5rem\\)\\]{width:calc(100% - 11.5rem)}.w-24{width:6rem}.w-\\[calc\\(100\\%-1rem\\)\\]{width:calc(100% - 1rem)}.w-\\[11rem\\]{width:11rem}.min-w-\\[22rem\\]{min-width:22rem}.min-w-\\[20\\.5rem\\]{min-width:20.5rem}.min-w-\\[14rem\\]{min-width:14rem}.min-w-\\[9\\.5rem\\]{min-width:9.5rem}.max-w-\\[26rem\\]{max-width:26rem}.max-w-\\[32rem\\]{max-width:32rem}.max-w-\\[40rem\\]{max-width:40rem}.-translate-x-1\\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-ellipsis{text-overflow:ellipsis}.rounded-2xl{border-radius:1rem}.rounded-xl{border-radius:.75rem}.rounded-l-2xl{border-top-left-radius:1rem;border-bottom-left-radius:1rem}.rounded-l-none{border-top-left-radius:0;border-bottom-left-radius:0}.border{border-width:1px}.bg-neutral-700{--tw-bg-opacity: 1;background-color:rgb(64 64 64 / var(--tw-bg-opacity))}.bg-black\\/80{background-color:#000c}.bg-neutral-900{--tw-bg-opacity: 1;background-color:rgb(23 23 23 / var(--tw-bg-opacity))}.bg-neutral-800{--tw-bg-opacity: 1;background-color:rgb(38 38 38 / var(--tw-bg-opacity))}.bg-neutral-600{--tw-bg-opacity: 1;background-color:rgb(82 82 82 / var(--tw-bg-opacity))}.bg-neutral-500{--tw-bg-opacity: 1;background-color:rgb(115 115 115 / var(--tw-bg-opacity))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.p-1{padding:.25rem}.p-0\\.5{padding:.125rem}.p-0{padding:0}.p-1\\.5{padding:.375rem}.p-2{padding:.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-0{padding-top:0;padding-bottom:0}.pb-4{padding-bottom:1rem}.pl-2{padding-left:.5rem}.pr-7{padding-right:1.75rem}.pb-0\\.5{padding-bottom:.125rem}.pb-0{padding-bottom:0}.pt-1{padding-top:.25rem}.pb-\\[2px\\]{padding-bottom:2px}.text-center{text-align:center}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.text-sm{font-size:.875rem;line-height:1.25rem}.font-extrabold{font-weight:800}.font-bold{font-weight:700}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-neutral-300{--tw-text-opacity: 1;color:rgb(212 212 212 / var(--tw-text-opacity))}.text-neutral-400{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity))}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.line-clamp-3{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}.fadeIn{opacity:1;transition:opacity .3s}.fadeOut{opacity:0;transition:opacity .3s}.y-scroll{scrollbar-width:thin;scrollbar-color:#FF3D00 #262626}.y-scroll::-webkit-scrollbar{width:5px}.y-scroll::-webkit-scrollbar-thumb{background:#FF3D00;border-radius:1rem}.y-scroll-hover{scrollbar-width:thin;scrollbar-color:#262626 #262626}.y-scroll-hover:hover{scrollbar-color:#FF3D00 #262626}@media (any-hover: none){.y-scroll-hover{scrollbar-color:#FF3D00 #262626}}.y-scroll-hover::-webkit-scrollbar{width:5px}.y-scroll-hover:hover::-webkit-scrollbar-thumb{background:#FF3D00;border-radius:1rem}@media (any-hover: none){.y-scroll-hover::-webkit-scrollbar-thumb{background:#FF3D00;border-radius:1rem}}.x-scroll{scrollbar-width:thin;scrollbar-color:#FF3D00 #404040}.x-scroll::-webkit-scrollbar{height:5px}.x-scroll::-webkit-scrollbar-thumb{background:#FF3D00;border-radius:1rem}.first\\:mt-0:first-child{margin-top:0}.last\\:mb-0:last-child{margin-bottom:0}.hover\\:enabled\\:bg-blue-700:enabled:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity))}.disabled\\:opacity-60:disabled{opacity:.6}
`)();new App({target:document.getElementById("app")});
